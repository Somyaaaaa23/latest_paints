{"ast":null,"code":"// Audit Logger - Complete transparency and traceability\nexport class AuditLogger {\n  constructor() {\n    this.logs = [];\n  }\n  logAgentAction(agentName, action, data, reasoning) {\n    const entry = {\n      timestamp: new Date().toISOString(),\n      agent: agentName,\n      action: action,\n      data: data,\n      reasoning: reasoning,\n      id: `LOG_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n    };\n    this.logs.push(entry);\n    console.log(`[AUDIT] ${agentName}: ${action}`, reasoning);\n    return entry;\n  }\n  getAuditTrail(rfpId) {\n    return this.logs.filter(log => {\n      var _log$data;\n      return ((_log$data = log.data) === null || _log$data === void 0 ? void 0 : _log$data.rfpId) === rfpId;\n    });\n  }\n  getAllLogs() {\n    return this.logs;\n  }\n  getLogsByAgent(agentName) {\n    return this.logs.filter(log => log.agent === agentName);\n  }\n  exportAuditReport(rfpId) {\n    const trail = this.getAuditTrail(rfpId);\n    return {\n      rfpId: rfpId,\n      totalActions: trail.length,\n      timeline: trail,\n      summary: this.generateSummary(trail)\n    };\n  }\n  generateSummary(trail) {\n    var _trail$, _trail, _trail$2, _trail2;\n    const agentActions = {};\n    trail.forEach(log => {\n      if (!agentActions[log.agent]) {\n        agentActions[log.agent] = [];\n      }\n      agentActions[log.agent].push(log.action);\n    });\n    return {\n      totalSteps: trail.length,\n      agentBreakdown: agentActions,\n      startTime: (_trail$ = trail[0]) === null || _trail$ === void 0 ? void 0 : _trail$.timestamp,\n      endTime: (_trail = trail[trail.length - 1]) === null || _trail === void 0 ? void 0 : _trail.timestamp,\n      duration: this.calculateDuration((_trail$2 = trail[0]) === null || _trail$2 === void 0 ? void 0 : _trail$2.timestamp, (_trail2 = trail[trail.length - 1]) === null || _trail2 === void 0 ? void 0 : _trail2.timestamp)\n    };\n  }\n  calculateDuration(startTime, endTime) {\n    if (!startTime || !endTime) return 'N/A';\n    const start = new Date(startTime);\n    const end = new Date(endTime);\n    const durationMs = end - start;\n    const seconds = Math.floor(durationMs / 1000);\n    return `${seconds} seconds`;\n  }\n  clearLogs() {\n    this.logs = [];\n  }\n}\n\n// Create singleton instance\nexport const auditLogger = new AuditLogger();","map":{"version":3,"names":["AuditLogger","constructor","logs","logAgentAction","agentName","action","data","reasoning","entry","timestamp","Date","toISOString","agent","id","now","Math","random","toString","substr","push","console","log","getAuditTrail","rfpId","filter","_log$data","getAllLogs","getLogsByAgent","exportAuditReport","trail","totalActions","length","timeline","summary","generateSummary","_trail$","_trail","_trail$2","_trail2","agentActions","forEach","totalSteps","agentBreakdown","startTime","endTime","duration","calculateDuration","start","end","durationMs","seconds","floor","clearLogs","auditLogger"],"sources":["C:/Users/BIT/Downloads/RFP/src/utils/AuditLogger.js"],"sourcesContent":["// Audit Logger - Complete transparency and traceability\r\nexport class AuditLogger {\r\n  constructor() {\r\n    this.logs = [];\r\n  }\r\n  \r\n  logAgentAction(agentName, action, data, reasoning) {\r\n    const entry = {\r\n      timestamp: new Date().toISOString(),\r\n      agent: agentName,\r\n      action: action,\r\n      data: data,\r\n      reasoning: reasoning,\r\n      id: `LOG_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\r\n    };\r\n    \r\n    this.logs.push(entry);\r\n    console.log(`[AUDIT] ${agentName}: ${action}`, reasoning);\r\n    \r\n    return entry;\r\n  }\r\n  \r\n  getAuditTrail(rfpId) {\r\n    return this.logs.filter(log => log.data?.rfpId === rfpId);\r\n  }\r\n  \r\n  getAllLogs() {\r\n    return this.logs;\r\n  }\r\n  \r\n  getLogsByAgent(agentName) {\r\n    return this.logs.filter(log => log.agent === agentName);\r\n  }\r\n  \r\n  exportAuditReport(rfpId) {\r\n    const trail = this.getAuditTrail(rfpId);\r\n    return {\r\n      rfpId: rfpId,\r\n      totalActions: trail.length,\r\n      timeline: trail,\r\n      summary: this.generateSummary(trail)\r\n    };\r\n  }\r\n  \r\n  generateSummary(trail) {\r\n    const agentActions = {};\r\n    trail.forEach(log => {\r\n      if (!agentActions[log.agent]) {\r\n        agentActions[log.agent] = [];\r\n      }\r\n      agentActions[log.agent].push(log.action);\r\n    });\r\n    \r\n    return {\r\n      totalSteps: trail.length,\r\n      agentBreakdown: agentActions,\r\n      startTime: trail[0]?.timestamp,\r\n      endTime: trail[trail.length - 1]?.timestamp,\r\n      duration: this.calculateDuration(trail[0]?.timestamp, trail[trail.length - 1]?.timestamp)\r\n    };\r\n  }\r\n  \r\n  calculateDuration(startTime, endTime) {\r\n    if (!startTime || !endTime) return 'N/A';\r\n    const start = new Date(startTime);\r\n    const end = new Date(endTime);\r\n    const durationMs = end - start;\r\n    const seconds = Math.floor(durationMs / 1000);\r\n    return `${seconds} seconds`;\r\n  }\r\n  \r\n  clearLogs() {\r\n    this.logs = [];\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nexport const auditLogger = new AuditLogger();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}