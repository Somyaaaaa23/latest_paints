{"ast":null,"code":"// CSV Handler - Import/Export data in CSV format\nexport class CSVHandler{constructor(){this.name=\"CSV Handler\";}// Parse CSV string to array of objects\nparseCSV(csvString){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{delimiter=',',hasHeader=true,skipEmptyLines=true}=options;const lines=csvString.split('\\n').filter(line=>!skipEmptyLines||line.trim().length>0);if(lines.length===0)return[];const headers=hasHeader?this.parseLine(lines[0],delimiter):Array.from({length:this.parseLine(lines[0],delimiter).length},(_,i)=>\"column\".concat(i+1));const startIndex=hasHeader?1:0;const data=[];for(let i=startIndex;i<lines.length;i++){const values=this.parseLine(lines[i],delimiter);if(values.length===0)continue;const row={};headers.forEach((header,index)=>{row[header.trim()]=values[index]?values[index].trim():'';});data.push(row);}return data;}// Parse a single CSV line handling quoted values\nparseLine(line){let delimiter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:',';const result=[];let current='';let inQuotes=false;for(let i=0;i<line.length;i++){const char=line[i];const nextChar=line[i+1];if(char==='\"'){if(inQuotes&&nextChar==='\"'){current+='\"';i++;// Skip next quote\n}else{inQuotes=!inQuotes;}}else if(char===delimiter&&!inQuotes){result.push(current);current='';}else{current+=char;}}result.push(current);return result;}// Convert array of objects to CSV string\ntoCSV(data){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{delimiter=',',includeHeader=true,columns=null}=options;if(!data||data.length===0)return'';const headers=columns||Object.keys(data[0]);const lines=[];// Add header row\nif(includeHeader){lines.push(headers.map(h=>this.escapeCSVValue(h)).join(delimiter));}// Add data rows\ndata.forEach(row=>{const values=headers.map(header=>{const value=row[header];return this.escapeCSVValue(value);});lines.push(values.join(delimiter));});return lines.join('\\n');}// Escape CSV value (handle quotes and delimiters)\nescapeCSVValue(value){if(value===null||value===undefined)return'';const stringValue=String(value);// If value contains comma, quote, or newline, wrap in quotes\nif(stringValue.includes(',')||stringValue.includes('\"')||stringValue.includes('\\n')){return\"\\\"\".concat(stringValue.replace(/\"/g,'\"\"'),\"\\\"\");}return stringValue;}// Download CSV file\ndownloadCSV(data){let filename=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'export.csv';let options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const csvContent=this.toCSV(data,options);const blob=new Blob([csvContent],{type:'text/csv;charset=utf-8;'});const link=document.createElement('a');if(link.download!==undefined){const url=URL.createObjectURL(blob);link.setAttribute('href',url);link.setAttribute('download',filename);link.style.visibility='hidden';document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);}}// Read CSV file from input\nasync readCSVFile(file){return new Promise((resolve,reject)=>{const reader=new FileReader();reader.onload=event=>{try{const csvString=event.target.result;const data=this.parseCSV(csvString);resolve(data);}catch(error){reject(error);}};reader.onerror=()=>reject(new Error('Failed to read file'));reader.readAsText(file);});}// Export RFP data to CSV\nexportRFPData(rfps){const data=rfps.map(rfp=>{var _rfp$requirements,_rfp$requirements2,_rfp$requirements3;return{'RFP ID':rfp.id,'Title':rfp.title,'Source':rfp.source,'Deadline':rfp.deadline,'Value':rfp.value,'Status':rfp.status,'Days Left':rfp.daysLeft,'Match Score':rfp.matchScore||'N/A','Area (sq ft)':((_rfp$requirements=rfp.requirements)===null||_rfp$requirements===void 0?void 0:_rfp$requirements.area)||'N/A','Type':((_rfp$requirements2=rfp.requirements)===null||_rfp$requirements2===void 0?void 0:_rfp$requirements2.type)||'N/A','Urgency':((_rfp$requirements3=rfp.requirements)===null||_rfp$requirements3===void 0?void 0:_rfp$requirements3.urgency)||'N/A'};});this.downloadCSV(data,\"rfp_data_\".concat(Date.now(),\".csv\"));}// Export vendor quotes to CSV\nexportVendorQuotes(vendorQuotes){const data=Object.values(vendorQuotes).map(quote=>{var _quote$costBreakdown,_quote$costBreakdown2,_quote$costBreakdown3,_quote$costBreakdown4,_quote$costBreakdown5,_quote$projectMetrics,_quote$projectMetrics2,_quote$projectMetrics3;return{'Vendor':quote.vendor||quote.vendorName,'Final Price':quote.finalPrice,'Material Cost':((_quote$costBreakdown=quote.costBreakdown)===null||_quote$costBreakdown===void 0?void 0:_quote$costBreakdown.materialCost)||quote.subtotalCost,'Labor Cost':((_quote$costBreakdown2=quote.costBreakdown)===null||_quote$costBreakdown2===void 0?void 0:_quote$costBreakdown2.laborCost)||quote.totalLaborFees,'Testing Cost':((_quote$costBreakdown3=quote.costBreakdown)===null||_quote$costBreakdown3===void 0?void 0:_quote$costBreakdown3.testingCost)||quote.totalTestingCosts,'Overhead':((_quote$costBreakdown4=quote.costBreakdown)===null||_quote$costBreakdown4===void 0?void 0:_quote$costBreakdown4.overheadCost)||quote.overheadCost,'Volume Discount':((_quote$costBreakdown5=quote.costBreakdown)===null||_quote$costBreakdown5===void 0?void 0:_quote$costBreakdown5.volumeDiscount)||quote.volumeDiscount,'Reliability':\"\".concat(((_quote$projectMetrics=quote.projectMetrics)===null||_quote$projectMetrics===void 0?void 0:_quote$projectMetrics.avgReliability)||quote.avgReliability,\"%\"),'Lead Time':\"\".concat(((_quote$projectMetrics2=quote.projectMetrics)===null||_quote$projectMetrics2===void 0?void 0:_quote$projectMetrics2.maxLeadTime)||quote.maxLeadTime,\" days\"),'Competitive Score':quote.competitiveScore||quote.score,'Total Area':((_quote$projectMetrics3=quote.projectMetrics)===null||_quote$projectMetrics3===void 0?void 0:_quote$projectMetrics3.totalArea)||quote.totalArea};});this.downloadCSV(data,\"vendor_quotes_\".concat(Date.now(),\".csv\"));}// Export product catalog to CSV\nexportProductCatalog(productRepository){const data=[];Object.entries(productRepository).forEach(_ref=>{let[vendor,products]=_ref;products.forEach(product=>{var _product$specs,_product$specs2,_product$specs3,_product$specs4;data.push({'Vendor':vendor,'Product ID':product.id,'Product Name':product.name,'Category':product.category,'Finish':product.finish,'Coverage (sq ft/liter)':product.coverage,'Durability (years)':product.durability,'Cost':product.cost,'Reliability':\"\".concat(product.reliability,\"%\"),'Lead Time (days)':product.leadTime,'Weather Resistance':((_product$specs=product.specs)===null||_product$specs===void 0?void 0:_product$specs.weatherResistance)||'N/A','Fade Resistance':((_product$specs2=product.specs)===null||_product$specs2===void 0?void 0:_product$specs2.fadeResistance)||'N/A','Washability':((_product$specs3=product.specs)===null||_product$specs3===void 0?void 0:_product$specs3.washability)||'N/A','VOC':((_product$specs4=product.specs)===null||_product$specs4===void 0?void 0:_product$specs4.voc)||'N/A'});});});this.downloadCSV(data,\"product_catalog_\".concat(Date.now(),\".csv\"));}// Export audit trail to CSV\nexportAuditTrail(auditLogs){const data=auditLogs.map(log=>{var _log$data;return{'Timestamp':log.timestamp,'Agent':log.agent,'Action':log.action,'Reasoning':log.reasoning,'Log ID':log.id,'RFP ID':((_log$data=log.data)===null||_log$data===void 0?void 0:_log$data.rfpId)||'N/A'};});this.downloadCSV(data,\"audit_trail_\".concat(Date.now(),\".csv\"));}// Import product catalog from CSV\nasync importProductCatalog(file){const data=await this.readCSVFile(file);const productRepository={};data.forEach(row=>{const vendor=row['Vendor'];if(!productRepository[vendor]){productRepository[vendor]=[];}productRepository[vendor].push({id:row['Product ID'],name:row['Product Name'],category:row['Category'],finish:row['Finish'],coverage:parseFloat(row['Coverage (sq ft/liter)']),durability:parseInt(row['Durability (years)']),cost:parseFloat(row['Cost']),reliability:parseFloat(row['Reliability'].replace('%','')),leadTime:parseInt(row['Lead Time (days)']),specs:{weatherResistance:row['Weather Resistance'],fadeResistance:row['Fade Resistance'],washability:row['Washability'],voc:row['VOC']}});});return productRepository;}// Validate CSV structure\nvalidateCSV(data,requiredColumns){if(!data||data.length===0){return{valid:false,error:'CSV is empty'};}const headers=Object.keys(data[0]);const missingColumns=requiredColumns.filter(col=>!headers.includes(col));if(missingColumns.length>0){return{valid:false,error:\"Missing required columns: \".concat(missingColumns.join(', '))};}return{valid:true};}// Convert JSON to CSV (generic)\njsonToCSV(jsonData){return this.toCSV(jsonData);}// Convert CSV to JSON (generic)\ncsvToJSON(csvString){return this.parseCSV(csvString);}}// Create singleton instance\nexport const csvHandler=new CSVHandler();","map":{"version":3,"names":["CSVHandler","constructor","name","parseCSV","csvString","options","arguments","length","undefined","delimiter","hasHeader","skipEmptyLines","lines","split","filter","line","trim","headers","parseLine","Array","from","_","i","concat","startIndex","data","values","row","forEach","header","index","push","result","current","inQuotes","char","nextChar","toCSV","includeHeader","columns","Object","keys","map","h","escapeCSVValue","join","value","stringValue","String","includes","replace","downloadCSV","filename","csvContent","blob","Blob","type","link","document","createElement","download","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","revokeObjectURL","readCSVFile","file","Promise","resolve","reject","reader","FileReader","onload","event","target","error","onerror","Error","readAsText","exportRFPData","rfps","rfp","_rfp$requirements","_rfp$requirements2","_rfp$requirements3","id","title","source","deadline","status","daysLeft","matchScore","requirements","area","urgency","Date","now","exportVendorQuotes","vendorQuotes","quote","_quote$costBreakdown","_quote$costBreakdown2","_quote$costBreakdown3","_quote$costBreakdown4","_quote$costBreakdown5","_quote$projectMetrics","_quote$projectMetrics2","_quote$projectMetrics3","vendor","vendorName","finalPrice","costBreakdown","materialCost","subtotalCost","laborCost","totalLaborFees","testingCost","totalTestingCosts","overheadCost","volumeDiscount","projectMetrics","avgReliability","maxLeadTime","competitiveScore","score","totalArea","exportProductCatalog","productRepository","entries","_ref","products","product","_product$specs","_product$specs2","_product$specs3","_product$specs4","category","finish","coverage","durability","cost","reliability","leadTime","specs","weatherResistance","fadeResistance","washability","voc","exportAuditTrail","auditLogs","log","_log$data","timestamp","agent","action","reasoning","rfpId","importProductCatalog","parseFloat","parseInt","validateCSV","requiredColumns","valid","missingColumns","col","jsonToCSV","jsonData","csvToJSON","csvHandler"],"sources":["C:/Users/BIT/Downloads/RFP/src/utils/CSVHandler.js"],"sourcesContent":["// CSV Handler - Import/Export data in CSV format\r\nexport class CSVHandler {\r\n  constructor() {\r\n    this.name = \"CSV Handler\";\r\n  }\r\n\r\n  // Parse CSV string to array of objects\r\n  parseCSV(csvString, options = {}) {\r\n    const {\r\n      delimiter = ',',\r\n      hasHeader = true,\r\n      skipEmptyLines = true\r\n    } = options;\r\n\r\n    const lines = csvString.split('\\n').filter(line => \r\n      !skipEmptyLines || line.trim().length > 0\r\n    );\r\n\r\n    if (lines.length === 0) return [];\r\n\r\n    const headers = hasHeader \r\n      ? this.parseLine(lines[0], delimiter)\r\n      : Array.from({ length: this.parseLine(lines[0], delimiter).length }, (_, i) => `column${i + 1}`);\r\n\r\n    const startIndex = hasHeader ? 1 : 0;\r\n    const data = [];\r\n\r\n    for (let i = startIndex; i < lines.length; i++) {\r\n      const values = this.parseLine(lines[i], delimiter);\r\n      if (values.length === 0) continue;\r\n\r\n      const row = {};\r\n      headers.forEach((header, index) => {\r\n        row[header.trim()] = values[index] ? values[index].trim() : '';\r\n      });\r\n      data.push(row);\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  // Parse a single CSV line handling quoted values\r\n  parseLine(line, delimiter = ',') {\r\n    const result = [];\r\n    let current = '';\r\n    let inQuotes = false;\r\n\r\n    for (let i = 0; i < line.length; i++) {\r\n      const char = line[i];\r\n      const nextChar = line[i + 1];\r\n\r\n      if (char === '\"') {\r\n        if (inQuotes && nextChar === '\"') {\r\n          current += '\"';\r\n          i++; // Skip next quote\r\n        } else {\r\n          inQuotes = !inQuotes;\r\n        }\r\n      } else if (char === delimiter && !inQuotes) {\r\n        result.push(current);\r\n        current = '';\r\n      } else {\r\n        current += char;\r\n      }\r\n    }\r\n\r\n    result.push(current);\r\n    return result;\r\n  }\r\n\r\n  // Convert array of objects to CSV string\r\n  toCSV(data, options = {}) {\r\n    const {\r\n      delimiter = ',',\r\n      includeHeader = true,\r\n      columns = null\r\n    } = options;\r\n\r\n    if (!data || data.length === 0) return '';\r\n\r\n    const headers = columns || Object.keys(data[0]);\r\n    const lines = [];\r\n\r\n    // Add header row\r\n    if (includeHeader) {\r\n      lines.push(headers.map(h => this.escapeCSVValue(h)).join(delimiter));\r\n    }\r\n\r\n    // Add data rows\r\n    data.forEach(row => {\r\n      const values = headers.map(header => {\r\n        const value = row[header];\r\n        return this.escapeCSVValue(value);\r\n      });\r\n      lines.push(values.join(delimiter));\r\n    });\r\n\r\n    return lines.join('\\n');\r\n  }\r\n\r\n  // Escape CSV value (handle quotes and delimiters)\r\n  escapeCSVValue(value) {\r\n    if (value === null || value === undefined) return '';\r\n    \r\n    const stringValue = String(value);\r\n    \r\n    // If value contains comma, quote, or newline, wrap in quotes\r\n    if (stringValue.includes(',') || stringValue.includes('\"') || stringValue.includes('\\n')) {\r\n      return `\"${stringValue.replace(/\"/g, '\"\"')}\"`;\r\n    }\r\n    \r\n    return stringValue;\r\n  }\r\n\r\n  // Download CSV file\r\n  downloadCSV(data, filename = 'export.csv', options = {}) {\r\n    const csvContent = this.toCSV(data, options);\r\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    \r\n    if (link.download !== undefined) {\r\n      const url = URL.createObjectURL(blob);\r\n      link.setAttribute('href', url);\r\n      link.setAttribute('download', filename);\r\n      link.style.visibility = 'hidden';\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n    }\r\n  }\r\n\r\n  // Read CSV file from input\r\n  async readCSVFile(file) {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      \r\n      reader.onload = (event) => {\r\n        try {\r\n          const csvString = event.target.result;\r\n          const data = this.parseCSV(csvString);\r\n          resolve(data);\r\n        } catch (error) {\r\n          reject(error);\r\n        }\r\n      };\r\n      \r\n      reader.onerror = () => reject(new Error('Failed to read file'));\r\n      reader.readAsText(file);\r\n    });\r\n  }\r\n\r\n  // Export RFP data to CSV\r\n  exportRFPData(rfps) {\r\n    const data = rfps.map(rfp => ({\r\n      'RFP ID': rfp.id,\r\n      'Title': rfp.title,\r\n      'Source': rfp.source,\r\n      'Deadline': rfp.deadline,\r\n      'Value': rfp.value,\r\n      'Status': rfp.status,\r\n      'Days Left': rfp.daysLeft,\r\n      'Match Score': rfp.matchScore || 'N/A',\r\n      'Area (sq ft)': rfp.requirements?.area || 'N/A',\r\n      'Type': rfp.requirements?.type || 'N/A',\r\n      'Urgency': rfp.requirements?.urgency || 'N/A'\r\n    }));\r\n\r\n    this.downloadCSV(data, `rfp_data_${Date.now()}.csv`);\r\n  }\r\n\r\n  // Export vendor quotes to CSV\r\n  exportVendorQuotes(vendorQuotes) {\r\n    const data = Object.values(vendorQuotes).map(quote => ({\r\n      'Vendor': quote.vendor || quote.vendorName,\r\n      'Final Price': quote.finalPrice,\r\n      'Material Cost': quote.costBreakdown?.materialCost || quote.subtotalCost,\r\n      'Labor Cost': quote.costBreakdown?.laborCost || quote.totalLaborFees,\r\n      'Testing Cost': quote.costBreakdown?.testingCost || quote.totalTestingCosts,\r\n      'Overhead': quote.costBreakdown?.overheadCost || quote.overheadCost,\r\n      'Volume Discount': quote.costBreakdown?.volumeDiscount || quote.volumeDiscount,\r\n      'Reliability': `${quote.projectMetrics?.avgReliability || quote.avgReliability}%`,\r\n      'Lead Time': `${quote.projectMetrics?.maxLeadTime || quote.maxLeadTime} days`,\r\n      'Competitive Score': quote.competitiveScore || quote.score,\r\n      'Total Area': quote.projectMetrics?.totalArea || quote.totalArea\r\n    }));\r\n\r\n    this.downloadCSV(data, `vendor_quotes_${Date.now()}.csv`);\r\n  }\r\n\r\n  // Export product catalog to CSV\r\n  exportProductCatalog(productRepository) {\r\n    const data = [];\r\n    \r\n    Object.entries(productRepository).forEach(([vendor, products]) => {\r\n      products.forEach(product => {\r\n        data.push({\r\n          'Vendor': vendor,\r\n          'Product ID': product.id,\r\n          'Product Name': product.name,\r\n          'Category': product.category,\r\n          'Finish': product.finish,\r\n          'Coverage (sq ft/liter)': product.coverage,\r\n          'Durability (years)': product.durability,\r\n          'Cost': product.cost,\r\n          'Reliability': `${product.reliability}%`,\r\n          'Lead Time (days)': product.leadTime,\r\n          'Weather Resistance': product.specs?.weatherResistance || 'N/A',\r\n          'Fade Resistance': product.specs?.fadeResistance || 'N/A',\r\n          'Washability': product.specs?.washability || 'N/A',\r\n          'VOC': product.specs?.voc || 'N/A'\r\n        });\r\n      });\r\n    });\r\n\r\n    this.downloadCSV(data, `product_catalog_${Date.now()}.csv`);\r\n  }\r\n\r\n  // Export audit trail to CSV\r\n  exportAuditTrail(auditLogs) {\r\n    const data = auditLogs.map(log => ({\r\n      'Timestamp': log.timestamp,\r\n      'Agent': log.agent,\r\n      'Action': log.action,\r\n      'Reasoning': log.reasoning,\r\n      'Log ID': log.id,\r\n      'RFP ID': log.data?.rfpId || 'N/A'\r\n    }));\r\n\r\n    this.downloadCSV(data, `audit_trail_${Date.now()}.csv`);\r\n  }\r\n\r\n  // Import product catalog from CSV\r\n  async importProductCatalog(file) {\r\n    const data = await this.readCSVFile(file);\r\n    const productRepository = {};\r\n\r\n    data.forEach(row => {\r\n      const vendor = row['Vendor'];\r\n      if (!productRepository[vendor]) {\r\n        productRepository[vendor] = [];\r\n      }\r\n\r\n      productRepository[vendor].push({\r\n        id: row['Product ID'],\r\n        name: row['Product Name'],\r\n        category: row['Category'],\r\n        finish: row['Finish'],\r\n        coverage: parseFloat(row['Coverage (sq ft/liter)']),\r\n        durability: parseInt(row['Durability (years)']),\r\n        cost: parseFloat(row['Cost']),\r\n        reliability: parseFloat(row['Reliability'].replace('%', '')),\r\n        leadTime: parseInt(row['Lead Time (days)']),\r\n        specs: {\r\n          weatherResistance: row['Weather Resistance'],\r\n          fadeResistance: row['Fade Resistance'],\r\n          washability: row['Washability'],\r\n          voc: row['VOC']\r\n        }\r\n      });\r\n    });\r\n\r\n    return productRepository;\r\n  }\r\n\r\n  // Validate CSV structure\r\n  validateCSV(data, requiredColumns) {\r\n    if (!data || data.length === 0) {\r\n      return { valid: false, error: 'CSV is empty' };\r\n    }\r\n\r\n    const headers = Object.keys(data[0]);\r\n    const missingColumns = requiredColumns.filter(col => !headers.includes(col));\r\n\r\n    if (missingColumns.length > 0) {\r\n      return {\r\n        valid: false,\r\n        error: `Missing required columns: ${missingColumns.join(', ')}`\r\n      };\r\n    }\r\n\r\n    return { valid: true };\r\n  }\r\n\r\n  // Convert JSON to CSV (generic)\r\n  jsonToCSV(jsonData) {\r\n    return this.toCSV(jsonData);\r\n  }\r\n\r\n  // Convert CSV to JSON (generic)\r\n  csvToJSON(csvString) {\r\n    return this.parseCSV(csvString);\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nexport const csvHandler = new CSVHandler();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}