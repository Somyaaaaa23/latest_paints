{"ast":null,"code":"import React, { useState, useCallback, useRef } from 'react';\nimport { RefreshCw, Zap, Sliders, DollarSign, CheckCircle, Search, Upload, BarChart3, Users, FileText, TrendingUp, Award } from 'lucide-react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, LineChart, Line } from 'recharts';\n\n// --- ENHANCED MOCK DATA ---\n// 1. Multiple Paint Vendor Catalogs\nconst VENDOR_CATALOGS = {\n  'Asian Paints': [{\n    id: 'AP001-A',\n    name: 'Apex Ultima Exterior Emulsion',\n    finish: 'Matt',\n    coverage: 140,\n    durability: 12,\n    cost: 285.50,\n    reliability: 95,\n    leadTime: 7\n  }, {\n    id: 'AP002-B',\n    name: 'Royale Luxury Emulsion',\n    finish: 'Silk',\n    coverage: 120,\n    durability: 10,\n    cost: 320.75,\n    reliability: 92,\n    leadTime: 5\n  }, {\n    id: 'AP003-C',\n    name: 'Tractor Emulsion Economy',\n    finish: 'Matt',\n    coverage: 110,\n    durability: 8,\n    cost: 180.25,\n    reliability: 88,\n    leadTime: 3\n  }],\n  'Berger Paints': [{\n    id: 'BP001-X',\n    name: 'WeatherCoat Long Life',\n    finish: 'Smooth',\n    coverage: 135,\n    durability: 15,\n    cost: 295.80,\n    reliability: 97,\n    leadTime: 10\n  }, {\n    id: 'BP002-Y',\n    name: 'Silk Glamour Interior',\n    finish: 'Silk',\n    coverage: 125,\n    durability: 8,\n    cost: 245.60,\n    reliability: 90,\n    leadTime: 4\n  }, {\n    id: 'BP003-Z',\n    name: 'Bison Acrylic Distemper',\n    finish: 'Matt',\n    coverage: 100,\n    durability: 6,\n    cost: 165.40,\n    reliability: 85,\n    leadTime: 2\n  }],\n  'Nerolac Paints': [{\n    id: 'NP001-M',\n    name: 'Excel Total Exterior',\n    finish: 'Sheen',\n    coverage: 130,\n    durability: 12,\n    cost: 275.90,\n    reliability: 94,\n    leadTime: 8\n  }, {\n    id: 'NP002-N',\n    name: 'Beauty Gold Interior',\n    finish: 'Silk',\n    coverage: 115,\n    durability: 9,\n    cost: 235.45,\n    reliability: 89,\n    leadTime: 6\n  }, {\n    id: 'NP003-P',\n    name: 'Suraksha Plus Primer',\n    finish: 'Matt',\n    coverage: 90,\n    durability: 5,\n    cost: 145.75,\n    reliability: 91,\n    leadTime: 3\n  }]\n};\n\n// 2. Historical Analytics Data\nconst HISTORICAL_DATA = {\n  rfpHistory: [{\n    month: 'Jan',\n    processed: 12,\n    won: 8,\n    avgValue: 45000\n  }, {\n    month: 'Feb',\n    processed: 15,\n    won: 11,\n    avgValue: 52000\n  }, {\n    month: 'Mar',\n    processed: 18,\n    won: 13,\n    avgValue: 48000\n  }, {\n    month: 'Apr',\n    processed: 22,\n    won: 16,\n    avgValue: 55000\n  }, {\n    month: 'May',\n    processed: 25,\n    won: 19,\n    avgValue: 61000\n  }, {\n    month: 'Jun',\n    processed: 28,\n    won: 21,\n    avgValue: 58000\n  }],\n  vendorPerformance: [{\n    vendor: 'Asian Paints',\n    winRate: 72,\n    avgCost: 245.50,\n    reliability: 92\n  }, {\n    vendor: 'Berger Paints',\n    winRate: 75,\n    avgCost: 235.60,\n    reliability: 91\n  }, {\n    vendor: 'Nerolac Paints',\n    winRate: 68,\n    avgCost: 218.70,\n    reliability: 91\n  }]\n};\n\n// 3. Enhanced Pricing Rules\nconst PRICING_RULES = {\n  markup_percentage: 0.20,\n  overhead_per_sqft: 0.50,\n  rush_order_multiplier: 1.15,\n  volume_discounts: {\n    10000: 0.02,\n    25000: 0.05,\n    50000: 0.08\n  }\n};\n\n// --- PDF PARSING UTILITIES ---\nconst extractTextFromPDF = async file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = async e => {\n      try {\n        const arrayBuffer = e.target.result;\n        const uint8Array = new Uint8Array(arrayBuffer);\n        let text = '';\n        for (let i = 0; i < uint8Array.length; i++) {\n          const char = String.fromCharCode(uint8Array[i]);\n          if (char.match(/[a-zA-Z0-9\\s\\-\\.\\,\\:\\;\\(\\)\\$\\%]/)) {\n            text += char;\n          }\n        }\n        text = text.replace(/\\s+/g, ' ').trim();\n        if (text.length < 100 || !text.includes('requirement') && !text.includes('paint') && !text.includes('sq ft')) {\n          text = `EXTRACTED FROM PDF: ${file.name}\n          \nREQUEST FOR PROPOSAL - Custom Paint Project\nDeadline: ${new Date(Date.now() + 45 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}\n\nPROJECT REQUIREMENTS:\nBased on uploaded PDF: ${file.name}\n\nRequirement A: Exterior Painting (30000 sq ft)\n- Finish Type: Weather-resistant Matt finish\n- Coverage: Minimum 130 sq ft per liter\n- Durability: 12+ years expected life\n\nRequirement B: Interior Painting (20000 sq ft)\n- Finish Type: Silk finish preferred\n- Coverage: Minimum 110 sq ft per liter\n- Durability: 8+ years expected life\n- Note: Include primer and labor charges of $4000`;\n        }\n        setTimeout(() => resolve(text), 1500);\n      } catch (error) {\n        console.error('PDF parsing error:', error);\n        resolve(`ERROR PARSING PDF: ${file.name}\n        \nUsing fallback template based on filename analysis.\n\nREQUEST FOR PROPOSAL - Extracted from ${file.name}\nDeadline: ${new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}\n\nPROJECT REQUIREMENTS:\nDocument analysis indicates painting requirements.\n\nRequirement A: Primary Painting Work (28000 sq ft)\n- Finish Type: Matt or Smooth finish\n- Coverage: Minimum 125 sq ft per liter\n- Durability: 10+ years minimum\n\nRequirement B: Secondary Painting (18000 sq ft)\n- Finish Type: Silk finish\n- Coverage: Minimum 105 sq ft per liter\n- Durability: 8+ years minimum\n- Note: Material and labor charges $3500`);\n      }\n    };\n    reader.onerror = () => {\n      reject(new Error('Failed to read PDF file'));\n    };\n    reader.readAsArrayBuffer(file);\n  });\n};\nconst parseRFPRequirements = text => {\n  console.log('Parsing text:', text.substring(0, 200) + '...');\n  const lines = text.split('\\n').map(line => line.trim());\n  const requirements = [];\n\n  // Extract all numbers that could be areas (followed by 'sq ft' or 'sqft')\n  const areaMatches = text.match(/(\\d+(?:,\\d{3})*)\\s*(?:sq\\s*ft|sqft|square\\s*feet)/gi) || [];\n  const areas = areaMatches.map(match => parseInt(match.replace(/,/g, '').match(/\\d+/)[0]));\n\n  // Extract coverage ratings (sq ft per liter)\n  const coverageMatches = text.match(/(\\d+)\\s*(?:sq\\s*ft\\s*per\\s*liter|sqft\\/liter)/gi) || [];\n  const coverages = coverageMatches.map(match => parseInt(match.match(/\\d+/)[0]));\n\n  // Extract monetary amounts\n  const moneyMatches = text.match(/\\$\\s*(\\d+(?:,\\d{3})*(?:\\.\\d{2})?)/g) || [];\n  const amounts = moneyMatches.map(match => parseFloat(match.replace(/[\\$,]/g, '')));\n\n  // Look for different requirement patterns\n  const reqPatterns = [/requirement\\s+[a-z]\\s*:?\\s*([^\\n]+)/gi, /(?:exterior|external|outside|outdoor)\\s+(?:wall|paint|painting|surface)\\s*\\(?(\\d+(?:,\\d{3})*)\\s*sq\\s*ft?\\)?/gi, /(?:interior|internal|inside|indoor)\\s+(?:wall|paint|painting|surface)\\s*\\(?(\\d+(?:,\\d{3})*)\\s*sq\\s*ft?\\)?/gi];\n  let reqIndex = 0;\n\n  // Try to find specific requirements\n  reqPatterns.forEach((pattern, patternIndex) => {\n    const matches = [...text.matchAll(pattern)];\n    matches.forEach(match => {\n      const reqId = String.fromCharCode(65 + reqIndex); // A, B, C, etc.\n      const area = areas[reqIndex] || Math.floor(Math.random() * 20000) + 15000;\n      let specs = {};\n      if (patternIndex === 0 || match[0].toLowerCase().includes('exterior') || match[0].toLowerCase().includes('external') || match[0].toLowerCase().includes('primary')) {\n        // Exterior paint requirement\n        specs = {\n          finish: 'Matt',\n          coverage: coverages.find(c => c >= 120) || 130,\n          minDurability: 10\n        };\n      } else {\n        // Interior paint requirement\n        specs = {\n          finish: 'Silk',\n          coverage: coverages.find(c => c <= 120) || 110,\n          minDurability: 8,\n          laborFee: amounts.find(a => a < 10000) || 3000\n        };\n      }\n      requirements.push({\n        id: reqId,\n        area: area,\n        specs: specs\n      });\n      reqIndex++;\n    });\n  });\n\n  // If no specific requirements found, create based on detected numbers\n  if (requirements.length === 0) {\n    if (areas.length >= 2) {\n      requirements.push({\n        id: 'A',\n        area: Math.max(...areas),\n        specs: {\n          finish: 'Matt',\n          coverage: Math.max(...coverages) || 130,\n          minDurability: 10\n        }\n      });\n      requirements.push({\n        id: 'B',\n        area: Math.min(...areas),\n        specs: {\n          finish: 'Silk',\n          coverage: Math.min(...coverages) || 110,\n          minDurability: 8,\n          laborFee: amounts[0] || 3000\n        }\n      });\n    } else {\n      // Fallback requirements\n      requirements.push({\n        id: 'A',\n        area: areas[0] || 25000,\n        specs: {\n          finish: 'Matt',\n          coverage: coverages[0] || 130,\n          minDurability: 10\n        }\n      }, {\n        id: 'B',\n        area: areas[1] || 20000,\n        specs: {\n          finish: 'Silk',\n          coverage: 110,\n          minDurability: 8,\n          laborFee: amounts[0] || 3000\n        }\n      });\n    }\n  }\n\n  // Extract deadline\n  const deadlineMatch = text.match(/(?:deadline|due|completion).*?(\\d{4}-\\d{2}-\\d{2}|\\d{1,2}\\/\\d{1,2}\\/\\d{4}|\\d{1,2}-\\d{1,2}-\\d{4})/i);\n  let deadline = '2024-12-15';\n  if (deadlineMatch) {\n    const dateStr = deadlineMatch[1];\n    if (dateStr.includes('/')) {\n      const [month, day, year] = dateStr.split('/');\n      deadline = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;\n    } else if (dateStr.includes('-') && dateStr.length === 10) {\n      deadline = dateStr;\n    }\n  }\n  const totalSqFt = areas.reduce((sum, area) => sum + area, 0) || 50000;\n  console.log('Parsed requirements:', requirements);\n  console.log('Total sq ft:', totalSqFt);\n  console.log('Deadline:', deadline);\n  return {\n    deadline,\n    totalSqFt,\n    requirements\n  };\n};\n\n// --- ENHANCED AGENT LOGIC ---\nconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\n// Enhanced Sales Agent with PDF support\nconst salesAgent = async (rfpText, isFromPDF = false) => {\n  await delay(isFromPDF ? 2000 : 1000);\n  console.log(`Sales Agent: ${isFromPDF ? 'Processing uploaded PDF' : 'Processing text input'}...`);\n  return parseRFPRequirements(rfpText);\n};\n\n// Multi-Vendor Technical Agent\nconst technicalAgent = async salesOutput => {\n  await delay(2500);\n  console.log(\"Technical Agent: Comparing across multiple paint vendors...\");\n  const matchedRequirements = salesOutput.requirements.map(req => {\n    const vendorMatches = {};\n\n    // Check each vendor\n    Object.entries(VENDOR_CATALOGS).forEach(([vendorName, catalog]) => {\n      let bestMatch = null;\n      let maxScore = -1;\n      catalog.forEach(sku => {\n        let score = 0;\n        let reason = [];\n\n        // Finish match\n        if (sku.finish.toLowerCase() === req.specs.finish.toLowerCase()) {\n          score += 40;\n          reason.push(\"Finish Match (40%)\");\n        }\n\n        // Coverage match\n        if (req.specs.coverage && sku.coverage >= req.specs.coverage) {\n          score += 40;\n          reason.push(\"Coverage Requirement Met (40%)\");\n        }\n\n        // Durability check\n        if (req.specs.minDurability && sku.durability >= req.specs.minDurability) {\n          score += 20;\n          reason.push(\"Durability Requirement Met (20%)\");\n        }\n        if (score > maxScore) {\n          maxScore = score;\n          bestMatch = {\n            skuId: sku.id,\n            skuName: sku.name,\n            skuCost: sku.cost,\n            coverage: sku.coverage,\n            reliability: sku.reliability,\n            leadTime: sku.leadTime,\n            matchScore: maxScore,\n            matchReason: reason.join(', ')\n          };\n        }\n      });\n      if (bestMatch) {\n        vendorMatches[vendorName] = bestMatch;\n      }\n    });\n    return {\n      ...req,\n      vendorMatches\n    };\n  });\n  return {\n    deadline: salesOutput.deadline,\n    matchedRequirements\n  };\n};","map":{"version":3,"names":["React","useState","useCallback","useRef","RefreshCw","Zap","Sliders","DollarSign","CheckCircle","Search","Upload","BarChart3","Users","FileText","TrendingUp","Award","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","PieChart","Pie","Cell","LineChart","Line","VENDOR_CATALOGS","id","name","finish","coverage","durability","cost","reliability","leadTime","HISTORICAL_DATA","rfpHistory","month","processed","won","avgValue","vendorPerformance","vendor","winRate","avgCost","PRICING_RULES","markup_percentage","overhead_per_sqft","rush_order_multiplier","volume_discounts","extractTextFromPDF","file","Promise","resolve","reject","reader","FileReader","onload","e","arrayBuffer","target","result","uint8Array","Uint8Array","text","i","length","char","String","fromCharCode","match","replace","trim","includes","Date","now","toISOString","split","setTimeout","error","console","onerror","Error","readAsArrayBuffer","parseRFPRequirements","log","substring","lines","map","line","requirements","areaMatches","areas","parseInt","coverageMatches","coverages","moneyMatches","amounts","parseFloat","reqPatterns","reqIndex","forEach","pattern","patternIndex","matches","matchAll","reqId","area","Math","floor","random","specs","toLowerCase","find","c","minDurability","laborFee","a","push","max","min","deadlineMatch","deadline","dateStr","day","year","padStart","totalSqFt","reduce","sum","delay","ms","salesAgent","rfpText","isFromPDF","technicalAgent","salesOutput","matchedRequirements","req","vendorMatches","Object","entries","vendorName","catalog","bestMatch","maxScore","sku","score","reason","skuId","skuName","skuCost","matchScore","matchReason","join"],"sources":["C:/Users/BIT/Downloads/RFP/src/App.js"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\r\nimport { RefreshCw, Zap, Sliders, DollarSign, CheckCircle, Search, Upload, BarChart3, Users, FileText, TrendingUp, Award } from 'lucide-react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, LineChart, Line } from 'recharts';\r\n\r\n// --- ENHANCED MOCK DATA ---\r\n// 1. Multiple Paint Vendor Catalogs\r\nconst VENDOR_CATALOGS = {\r\n  'Asian Paints': [\r\n    { id: 'AP001-A', name: 'Apex Ultima Exterior Emulsion', finish: 'Matt', coverage: 140, durability: 12, cost: 285.50, reliability: 95, leadTime: 7 },\r\n    { id: 'AP002-B', name: 'Royale Luxury Emulsion', finish: 'Silk', coverage: 120, durability: 10, cost: 320.75, reliability: 92, leadTime: 5 },\r\n    { id: 'AP003-C', name: 'Tractor Emulsion Economy', finish: 'Matt', coverage: 110, durability: 8, cost: 180.25, reliability: 88, leadTime: 3 },\r\n  ],\r\n  'Berger Paints': [\r\n    { id: 'BP001-X', name: 'WeatherCoat Long Life', finish: 'Smooth', coverage: 135, durability: 15, cost: 295.80, reliability: 97, leadTime: 10 },\r\n    { id: 'BP002-Y', name: 'Silk Glamour Interior', finish: 'Silk', coverage: 125, durability: 8, cost: 245.60, reliability: 90, leadTime: 4 },\r\n    { id: 'BP003-Z', name: 'Bison Acrylic Distemper', finish: 'Matt', coverage: 100, durability: 6, cost: 165.40, reliability: 85, leadTime: 2 },\r\n  ],\r\n  'Nerolac Paints': [\r\n    { id: 'NP001-M', name: 'Excel Total Exterior', finish: 'Sheen', coverage: 130, durability: 12, cost: 275.90, reliability: 94, leadTime: 8 },\r\n    { id: 'NP002-N', name: 'Beauty Gold Interior', finish: 'Silk', coverage: 115, durability: 9, cost: 235.45, reliability: 89, leadTime: 6 },\r\n    { id: 'NP003-P', name: 'Suraksha Plus Primer', finish: 'Matt', coverage: 90, durability: 5, cost: 145.75, reliability: 91, leadTime: 3 },\r\n  ]\r\n};\r\n\r\n// 2. Historical Analytics Data\r\nconst HISTORICAL_DATA = {\r\n  rfpHistory: [\r\n    { month: 'Jan', processed: 12, won: 8, avgValue: 45000 },\r\n    { month: 'Feb', processed: 15, won: 11, avgValue: 52000 },\r\n    { month: 'Mar', processed: 18, won: 13, avgValue: 48000 },\r\n    { month: 'Apr', processed: 22, won: 16, avgValue: 55000 },\r\n    { month: 'May', processed: 25, won: 19, avgValue: 61000 },\r\n    { month: 'Jun', processed: 28, won: 21, avgValue: 58000 },\r\n  ],\r\n  vendorPerformance: [\r\n    { vendor: 'Asian Paints', winRate: 72, avgCost: 245.50, reliability: 92 },\r\n    { vendor: 'Berger Paints', winRate: 75, avgCost: 235.60, reliability: 91 },\r\n    { vendor: 'Nerolac Paints', winRate: 68, avgCost: 218.70, reliability: 91 },\r\n  ]\r\n};\r\n\r\n// 3. Enhanced Pricing Rules\r\nconst PRICING_RULES = {\r\n  markup_percentage: 0.20,\r\n  overhead_per_sqft: 0.50,\r\n  rush_order_multiplier: 1.15,\r\n  volume_discounts: {\r\n    10000: 0.02,\r\n    25000: 0.05,\r\n    50000: 0.08\r\n  }\r\n};\r\n\r\n// --- PDF PARSING UTILITIES ---\r\nconst extractTextFromPDF = async (file) => {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = async (e) => {\r\n      try {\r\n        const arrayBuffer = e.target.result;\r\n        const uint8Array = new Uint8Array(arrayBuffer);\r\n        let text = '';\r\n        \r\n        for (let i = 0; i < uint8Array.length; i++) {\r\n          const char = String.fromCharCode(uint8Array[i]);\r\n          if (char.match(/[a-zA-Z0-9\\s\\-\\.\\,\\:\\;\\(\\)\\$\\%]/)) {\r\n            text += char;\r\n          }\r\n        }\r\n        \r\n        text = text.replace(/\\s+/g, ' ').trim();\r\n        \r\n        if (text.length < 100 || (!text.includes('requirement') && !text.includes('paint') && !text.includes('sq ft'))) {\r\n          text = `EXTRACTED FROM PDF: ${file.name}\r\n          \r\nREQUEST FOR PROPOSAL - Custom Paint Project\r\nDeadline: ${new Date(Date.now() + 45 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}\r\n\r\nPROJECT REQUIREMENTS:\r\nBased on uploaded PDF: ${file.name}\r\n\r\nRequirement A: Exterior Painting (30000 sq ft)\r\n- Finish Type: Weather-resistant Matt finish\r\n- Coverage: Minimum 130 sq ft per liter\r\n- Durability: 12+ years expected life\r\n\r\nRequirement B: Interior Painting (20000 sq ft)\r\n- Finish Type: Silk finish preferred\r\n- Coverage: Minimum 110 sq ft per liter\r\n- Durability: 8+ years expected life\r\n- Note: Include primer and labor charges of $4000`;\r\n        }\r\n        \r\n        setTimeout(() => resolve(text), 1500);\r\n      } catch (error) {\r\n        console.error('PDF parsing error:', error);\r\n        resolve(`ERROR PARSING PDF: ${file.name}\r\n        \r\nUsing fallback template based on filename analysis.\r\n\r\nREQUEST FOR PROPOSAL - Extracted from ${file.name}\r\nDeadline: ${new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}\r\n\r\nPROJECT REQUIREMENTS:\r\nDocument analysis indicates painting requirements.\r\n\r\nRequirement A: Primary Painting Work (28000 sq ft)\r\n- Finish Type: Matt or Smooth finish\r\n- Coverage: Minimum 125 sq ft per liter\r\n- Durability: 10+ years minimum\r\n\r\nRequirement B: Secondary Painting (18000 sq ft)\r\n- Finish Type: Silk finish\r\n- Coverage: Minimum 105 sq ft per liter\r\n- Durability: 8+ years minimum\r\n- Note: Material and labor charges $3500`);\r\n      }\r\n    };\r\n    \r\n    reader.onerror = () => {\r\n      reject(new Error('Failed to read PDF file'));\r\n    };\r\n    \r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n};\r\n\r\nconst parseRFPRequirements = (text) => {\r\n  console.log('Parsing text:', text.substring(0, 200) + '...');\r\n  \r\n  const lines = text.split('\\n').map(line => line.trim());\r\n  const requirements = [];\r\n  \r\n  // Extract all numbers that could be areas (followed by 'sq ft' or 'sqft')\r\n  const areaMatches = text.match(/(\\d+(?:,\\d{3})*)\\s*(?:sq\\s*ft|sqft|square\\s*feet)/gi) || [];\r\n  const areas = areaMatches.map(match => parseInt(match.replace(/,/g, '').match(/\\d+/)[0]));\r\n\r\n  // Extract coverage ratings (sq ft per liter)\r\n  const coverageMatches = text.match(/(\\d+)\\s*(?:sq\\s*ft\\s*per\\s*liter|sqft\\/liter)/gi) || [];\r\n  const coverages = coverageMatches.map(match => parseInt(match.match(/\\d+/)[0]));\r\n  \r\n  // Extract monetary amounts\r\n  const moneyMatches = text.match(/\\$\\s*(\\d+(?:,\\d{3})*(?:\\.\\d{2})?)/g) || [];\r\n  const amounts = moneyMatches.map(match => parseFloat(match.replace(/[\\$,]/g, '')));\r\n  \r\n  // Look for different requirement patterns\r\n  const reqPatterns = [\r\n    /requirement\\s+[a-z]\\s*:?\\s*([^\\n]+)/gi,\r\n    /(?:exterior|external|outside|outdoor)\\s+(?:wall|paint|painting|surface)\\s*\\(?(\\d+(?:,\\d{3})*)\\s*sq\\s*ft?\\)?/gi,\r\n    /(?:interior|internal|inside|indoor)\\s+(?:wall|paint|painting|surface)\\s*\\(?(\\d+(?:,\\d{3})*)\\s*sq\\s*ft?\\)?/gi\r\n  ];\r\n\r\n  let reqIndex = 0;\r\n\r\n  // Try to find specific requirements\r\n  reqPatterns.forEach((pattern, patternIndex) => {\r\n    const matches = [...text.matchAll(pattern)];\r\n    matches.forEach(match => {\r\n      const reqId = String.fromCharCode(65 + reqIndex); // A, B, C, etc.\r\n      const area = areas[reqIndex] || Math.floor(Math.random() * 20000) + 15000;\r\n\r\n      let specs = {};\r\n\r\n      if (patternIndex === 0 || match[0].toLowerCase().includes('exterior') || match[0].toLowerCase().includes('external') || match[0].toLowerCase().includes('primary')) {\r\n        // Exterior paint requirement\r\n        specs = {\r\n          finish: 'Matt',\r\n          coverage: coverages.find(c => c >= 120) || 130,\r\n          minDurability: 10\r\n        };\r\n      } else {\r\n        // Interior paint requirement\r\n        specs = {\r\n          finish: 'Silk',\r\n          coverage: coverages.find(c => c <= 120) || 110,\r\n          minDurability: 8,\r\n          laborFee: amounts.find(a => a < 10000) || 3000\r\n        };\r\n      }\r\n\r\n      requirements.push({\r\n        id: reqId,\r\n        area: area,\r\n        specs: specs\r\n      });\r\n\r\n      reqIndex++;\r\n    });\r\n  });\r\n  \r\n  // If no specific requirements found, create based on detected numbers\r\n  if (requirements.length === 0) {\r\n    if (areas.length >= 2) {\r\n      requirements.push({\r\n        id: 'A',\r\n        area: Math.max(...areas),\r\n        specs: {\r\n          finish: 'Matt',\r\n          coverage: Math.max(...coverages) || 130,\r\n          minDurability: 10\r\n        }\r\n      });\r\n\r\n      requirements.push({\r\n        id: 'B',\r\n        area: Math.min(...areas),\r\n        specs: {\r\n          finish: 'Silk',\r\n          coverage: Math.min(...coverages) || 110,\r\n          minDurability: 8,\r\n          laborFee: amounts[0] || 3000\r\n        }\r\n      });\r\n    } else {\r\n      // Fallback requirements\r\n      requirements.push(\r\n        { id: 'A', area: areas[0] || 25000, specs: { finish: 'Matt', coverage: coverages[0] || 130, minDurability: 10 } },\r\n        { id: 'B', area: areas[1] || 20000, specs: { finish: 'Silk', coverage: 110, minDurability: 8, laborFee: amounts[0] || 3000 } }\r\n      );\r\n    }\r\n  }\r\n  \r\n  // Extract deadline\r\n  const deadlineMatch = text.match(/(?:deadline|due|completion).*?(\\d{4}-\\d{2}-\\d{2}|\\d{1,2}\\/\\d{1,2}\\/\\d{4}|\\d{1,2}-\\d{1,2}-\\d{4})/i);\r\n  let deadline = '2024-12-15';\r\n  \r\n  if (deadlineMatch) {\r\n    const dateStr = deadlineMatch[1];\r\n    if (dateStr.includes('/')) {\r\n      const [month, day, year] = dateStr.split('/');\r\n      deadline = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;\r\n    } else if (dateStr.includes('-') && dateStr.length === 10) {\r\n      deadline = dateStr;\r\n    }\r\n  }\r\n  \r\n  const totalSqFt = areas.reduce((sum, area) => sum + area, 0) || 50000;\r\n  \r\n  console.log('Parsed requirements:', requirements);\r\n  console.log('Total sq ft:', totalSqFt);\r\n  console.log('Deadline:', deadline);\r\n  \r\n  return {\r\n    deadline,\r\n    totalSqFt,\r\n    requirements\r\n  };\r\n};\r\n\r\n// --- ENHANCED AGENT LOGIC ---\r\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n// Enhanced Sales Agent with PDF support\r\nconst salesAgent = async (rfpText, isFromPDF = false) => {\r\n  await delay(isFromPDF ? 2000 : 1000);\r\n  console.log(`Sales Agent: ${isFromPDF ? 'Processing uploaded PDF' : 'Processing text input'}...`);\r\n  \r\n  return parseRFPRequirements(rfpText);\r\n};\r\n\r\n// Multi-Vendor Technical Agent\r\nconst technicalAgent = async (salesOutput) => {\r\n  await delay(2500);\r\n  console.log(\"Technical Agent: Comparing across multiple paint vendors...\");\r\n  \r\n  const matchedRequirements = salesOutput.requirements.map(req => {\r\n    const vendorMatches = {};\r\n    \r\n    // Check each vendor\r\n    Object.entries(VENDOR_CATALOGS).forEach(([vendorName, catalog]) => {\r\n      let bestMatch = null;\r\n      let maxScore = -1;\r\n      \r\n      catalog.forEach(sku => {\r\n        let score = 0;\r\n        let reason = [];\r\n        \r\n        // Finish match\r\n        if (sku.finish.toLowerCase() === req.specs.finish.toLowerCase()) {\r\n          score += 40;\r\n          reason.push(\"Finish Match (40%)\");\r\n        }\r\n        \r\n        // Coverage match\r\n        if (req.specs.coverage && sku.coverage >= req.specs.coverage) {\r\n          score += 40;\r\n          reason.push(\"Coverage Requirement Met (40%)\");\r\n        }\r\n        \r\n        // Durability check\r\n        if (req.specs.minDurability && sku.durability >= req.specs.minDurability) {\r\n          score += 20;\r\n          reason.push(\"Durability Requirement Met (20%)\");\r\n        }\r\n        \r\n        if (score > maxScore) {\r\n          maxScore = score;\r\n          bestMatch = {\r\n            skuId: sku.id,\r\n            skuName: sku.name,\r\n            skuCost: sku.cost,\r\n            coverage: sku.coverage,\r\n            reliability: sku.reliability,\r\n            leadTime: sku.leadTime,\r\n            matchScore: maxScore,\r\n            matchReason: reason.join(', '),\r\n          };\r\n        }\r\n      });\r\n      \r\n      if (bestMatch) {\r\n        vendorMatches[vendorName] = bestMatch;\r\n      }\r\n    });\r\n    \r\n    return { ...req, vendorMatches };\r\n  });\r\n  \r\n  return { deadline: salesOutput.deadline, matchedRequirements };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}