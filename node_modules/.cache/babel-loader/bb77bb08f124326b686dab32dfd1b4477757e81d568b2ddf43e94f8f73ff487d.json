{"ast":null,"code":"// Confidence-based Escalation - Flag low-confidence decisions for human review\nexport class ConfidenceEscalation{constructor(){this.thresholds={matchScore:0.85,// 85% match score threshold\nwinProbability:0.70,// 70% win probability threshold\npriceVariance:0.20,// 20% price variance threshold\nreliability:0.90// 90% reliability threshold\n};this.escalations=[];}// Evaluate if RFP response needs human review\nevaluateConfidence(rfpAnalysis){var _rfpAnalysis$winProba,_rfpAnalysis$pricingD,_rfpAnalysis$analysis,_rfpAnalysis$analysis2,_rfpAnalysis$analysis3;const issues=[];let overallConfidence=1.0;let needsReview=false;// Check match score\nconst matchScore=rfpAnalysis.overallMatchScore/100;if(matchScore<this.thresholds.matchScore){issues.push({type:'LOW_MATCH_SCORE',severity:'HIGH',message:\"Match score \".concat((matchScore*100).toFixed(0),\"% is below threshold of \").concat((this.thresholds.matchScore*100).toFixed(0),\"%\"),value:matchScore,threshold:this.thresholds.matchScore,recommendation:'Review technical specifications and vendor selection'});overallConfidence*=0.7;needsReview=true;}// Check win probability\nconst winProb=(((_rfpAnalysis$winProba=rfpAnalysis.winProbability)===null||_rfpAnalysis$winProba===void 0?void 0:_rfpAnalysis$winProba.probability)||0)/100;if(winProb<this.thresholds.winProbability){issues.push({type:'LOW_WIN_PROBABILITY',severity:winProb<0.5?'HIGH':'MEDIUM',message:\"Win probability \".concat((winProb*100).toFixed(0),\"% is below threshold of \").concat((this.thresholds.winProbability*100).toFixed(0),\"%\"),value:winProb,threshold:this.thresholds.winProbability,recommendation:'Review pricing strategy and competitive positioning'});overallConfidence*=0.8;needsReview=true;}// Check vendor reliability\nconst reliability=(((_rfpAnalysis$pricingD=rfpAnalysis.pricingDetails)===null||_rfpAnalysis$pricingD===void 0?void 0:_rfpAnalysis$pricingD.avgReliability)||0)/100;if(reliability<this.thresholds.reliability){issues.push({type:'LOW_RELIABILITY',severity:'MEDIUM',message:\"Vendor reliability \".concat((reliability*100).toFixed(0),\"% is below threshold of \").concat((this.thresholds.reliability*100).toFixed(0),\"%\"),value:reliability,threshold:this.thresholds.reliability,recommendation:'Consider alternative vendors or request quality guarantees'});overallConfidence*=0.85;needsReview=true;}// Check price variance across vendors\nif(rfpAnalysis.vendorQuotes){const prices=Object.values(rfpAnalysis.vendorQuotes).map(q=>q.finalPrice);if(prices.length>1){const avgPrice=prices.reduce((a,b)=>a+b,0)/prices.length;const maxVariance=Math.max(...prices.map(p=>Math.abs(p-avgPrice)/avgPrice));if(maxVariance>this.thresholds.priceVariance){issues.push({type:'HIGH_PRICE_VARIANCE',severity:'MEDIUM',message:\"Price variance \".concat((maxVariance*100).toFixed(0),\"% exceeds threshold of \").concat((this.thresholds.priceVariance*100).toFixed(0),\"%\"),value:maxVariance,threshold:this.thresholds.priceVariance,recommendation:'Verify pricing calculations and vendor quotes'});overallConfidence*=0.9;needsReview=true;}}}// Check deadline risk\nif(((_rfpAnalysis$analysis=rfpAnalysis.analysis)===null||_rfpAnalysis$analysis===void 0?void 0:_rfpAnalysis$analysis.riskLevel)==='High'){issues.push({type:'HIGH_DEADLINE_RISK',severity:'HIGH',message:'Tight deadline poses high delivery risk',recommendation:'Confirm vendor can meet deadline or negotiate extension'});overallConfidence*=0.85;needsReview=true;}// Check complexity\nif(((_rfpAnalysis$analysis2=rfpAnalysis.analysis)===null||_rfpAnalysis$analysis2===void 0?void 0:_rfpAnalysis$analysis2.complexity)==='High'||((_rfpAnalysis$analysis3=rfpAnalysis.analysis)===null||_rfpAnalysis$analysis3===void 0?void 0:_rfpAnalysis$analysis3.complexity)==='Very High'){issues.push({type:'HIGH_COMPLEXITY',severity:'MEDIUM',message:\"RFP complexity is \".concat(rfpAnalysis.analysis.complexity),recommendation:'Review technical requirements with subject matter experts'});overallConfidence*=0.9;}const escalation={id:\"ESC_\".concat(Date.now()),timestamp:new Date().toISOString(),rfpId:rfpAnalysis.rfpId,rfpTitle:rfpAnalysis.rfpTitle||'Untitled RFP',needsReview:needsReview,overallConfidence:overallConfidence,confidenceLevel:this.getConfidenceLevel(overallConfidence),issues:issues,summary:this.generateSummary(needsReview,overallConfidence,issues),reviewPriority:this.calculatePriority(issues)};if(needsReview){this.escalations.push(escalation);console.log(\"\\u26A0\\uFE0F ESCALATION: Human review needed for RFP \\\"\".concat(escalation.rfpTitle,\"\\\"\"));console.log(\"   Confidence: \".concat((overallConfidence*100).toFixed(0),\"% | Issues: \").concat(issues.length));issues.forEach(issue=>{console.log(\"   - [\".concat(issue.severity,\"] \").concat(issue.message));});}else{console.log(\"\\u2705 CONFIDENCE: RFP \\\"\".concat(escalation.rfpTitle,\"\\\" passed all thresholds\"));console.log(\"   Confidence: \".concat((overallConfidence*100).toFixed(0),\"% | No issues detected\"));}return escalation;}// Get confidence level label\ngetConfidenceLevel(confidence){if(confidence>=0.95)return'VERY_HIGH';if(confidence>=0.85)return'HIGH';if(confidence>=0.70)return'MEDIUM';if(confidence>=0.50)return'LOW';return'VERY_LOW';}// Calculate review priority\ncalculatePriority(issues){const highSeverity=issues.filter(i=>i.severity==='HIGH').length;const mediumSeverity=issues.filter(i=>i.severity==='MEDIUM').length;if(highSeverity>=2)return'URGENT';if(highSeverity>=1)return'HIGH';if(mediumSeverity>=2)return'MEDIUM';return'LOW';}// Generate summary message\ngenerateSummary(needsReview,confidence,issues){if(!needsReview){return\"All confidence thresholds met. Automated response approved with \".concat((confidence*100).toFixed(0),\"% confidence.\");}const highIssues=issues.filter(i=>i.severity==='HIGH').length;const mediumIssues=issues.filter(i=>i.severity==='MEDIUM').length;let summary=\"Human review required. Overall confidence: \".concat((confidence*100).toFixed(0),\"%. \");if(highIssues>0){summary+=\"\".concat(highIssues,\" high-severity issue\").concat(highIssues>1?'s':'',\" detected. \");}if(mediumIssues>0){summary+=\"\".concat(mediumIssues,\" medium-severity issue\").concat(mediumIssues>1?'s':'',\" detected. \");}return summary;}// Get all pending escalations\ngetPendingEscalations(){return this.escalations.filter(e=>e.needsReview);}// Get escalation statistics\ngetStatistics(){const total=this.escalations.length;const needsReview=this.escalations.filter(e=>e.needsReview).length;const approved=total-needsReview;const avgConfidence=total>0?this.escalations.reduce((sum,e)=>sum+e.overallConfidence,0)/total:0;const priorityCounts={URGENT:this.escalations.filter(e=>e.reviewPriority==='URGENT').length,HIGH:this.escalations.filter(e=>e.reviewPriority==='HIGH').length,MEDIUM:this.escalations.filter(e=>e.reviewPriority==='MEDIUM').length,LOW:this.escalations.filter(e=>e.reviewPriority==='LOW').length};return{totalEvaluated:total,needsReview:needsReview,autoApproved:approved,approvalRate:total>0?(approved/total*100).toFixed(1):0,avgConfidence:(avgConfidence*100).toFixed(1),priorityCounts:priorityCounts};}// Update thresholds\nupdateThresholds(newThresholds){Object.assign(this.thresholds,newThresholds);console.log('ðŸŽ¯ Confidence thresholds updated:',this.thresholds);}// Clear escalation history\nclearHistory(){this.escalations=[];console.log('ðŸ—‘ï¸ Escalation history cleared');}// Export escalations\nexportEscalations(){return this.escalations;}// Generate human review report\ngenerateReviewReport(escalation){const report={title:'HUMAN REVIEW REQUIRED',rfpId:escalation.rfpId,rfpTitle:escalation.rfpTitle,timestamp:escalation.timestamp,priority:escalation.reviewPriority,confidence:\"\".concat((escalation.overallConfidence*100).toFixed(0),\"%\"),confidenceLevel:escalation.confidenceLevel,summary:escalation.summary,issues:escalation.issues.map(issue=>({type:issue.type,severity:issue.severity,message:issue.message,recommendation:issue.recommendation})),actionRequired:this.getActionRequired(escalation)};return report;}// Get required actions\ngetActionRequired(escalation){const actions=[];escalation.issues.forEach(issue=>{switch(issue.type){case'LOW_MATCH_SCORE':actions.push('Review and adjust technical specifications');actions.push('Consider alternative vendors or products');break;case'LOW_WIN_PROBABILITY':actions.push('Optimize pricing strategy');actions.push('Review competitive positioning');break;case'LOW_RELIABILITY':actions.push('Verify vendor credentials and past performance');actions.push('Request quality guarantees or certifications');break;case'HIGH_PRICE_VARIANCE':actions.push('Verify all pricing calculations');actions.push('Investigate reasons for price differences');break;case'HIGH_DEADLINE_RISK':actions.push('Confirm delivery timeline with vendor');actions.push('Consider requesting deadline extension');break;case'HIGH_COMPLEXITY':actions.push('Consult with technical experts');actions.push('Break down complex requirements');break;}});return[...new Set(actions)];// Remove duplicates\n}}// Create singleton instance\nexport const confidenceEscalation=new ConfidenceEscalation();","map":{"version":3,"names":["ConfidenceEscalation","constructor","thresholds","matchScore","winProbability","priceVariance","reliability","escalations","evaluateConfidence","rfpAnalysis","_rfpAnalysis$winProba","_rfpAnalysis$pricingD","_rfpAnalysis$analysis","_rfpAnalysis$analysis2","_rfpAnalysis$analysis3","issues","overallConfidence","needsReview","overallMatchScore","push","type","severity","message","concat","toFixed","value","threshold","recommendation","winProb","probability","pricingDetails","avgReliability","vendorQuotes","prices","Object","values","map","q","finalPrice","length","avgPrice","reduce","a","b","maxVariance","Math","max","p","abs","analysis","riskLevel","complexity","escalation","id","Date","now","timestamp","toISOString","rfpId","rfpTitle","confidenceLevel","getConfidenceLevel","summary","generateSummary","reviewPriority","calculatePriority","console","log","forEach","issue","confidence","highSeverity","filter","i","mediumSeverity","highIssues","mediumIssues","getPendingEscalations","e","getStatistics","total","approved","avgConfidence","sum","priorityCounts","URGENT","HIGH","MEDIUM","LOW","totalEvaluated","autoApproved","approvalRate","updateThresholds","newThresholds","assign","clearHistory","exportEscalations","generateReviewReport","report","title","priority","actionRequired","getActionRequired","actions","Set","confidenceEscalation"],"sources":["C:/Users/BIT/Downloads/RFP/src/utils/ConfidenceEscalation.js"],"sourcesContent":["// Confidence-based Escalation - Flag low-confidence decisions for human review\r\nexport class ConfidenceEscalation {\r\n  constructor() {\r\n    this.thresholds = {\r\n      matchScore: 0.85, // 85% match score threshold\r\n      winProbability: 0.70, // 70% win probability threshold\r\n      priceVariance: 0.20, // 20% price variance threshold\r\n      reliability: 0.90 // 90% reliability threshold\r\n    };\r\n    \r\n    this.escalations = [];\r\n  }\r\n\r\n  // Evaluate if RFP response needs human review\r\n  evaluateConfidence(rfpAnalysis) {\r\n    const issues = [];\r\n    let overallConfidence = 1.0;\r\n    let needsReview = false;\r\n\r\n    // Check match score\r\n    const matchScore = rfpAnalysis.overallMatchScore / 100;\r\n    if (matchScore < this.thresholds.matchScore) {\r\n      issues.push({\r\n        type: 'LOW_MATCH_SCORE',\r\n        severity: 'HIGH',\r\n        message: `Match score ${(matchScore * 100).toFixed(0)}% is below threshold of ${(this.thresholds.matchScore * 100).toFixed(0)}%`,\r\n        value: matchScore,\r\n        threshold: this.thresholds.matchScore,\r\n        recommendation: 'Review technical specifications and vendor selection'\r\n      });\r\n      overallConfidence *= 0.7;\r\n      needsReview = true;\r\n    }\r\n\r\n    // Check win probability\r\n    const winProb = (rfpAnalysis.winProbability?.probability || 0) / 100;\r\n    if (winProb < this.thresholds.winProbability) {\r\n      issues.push({\r\n        type: 'LOW_WIN_PROBABILITY',\r\n        severity: winProb < 0.5 ? 'HIGH' : 'MEDIUM',\r\n        message: `Win probability ${(winProb * 100).toFixed(0)}% is below threshold of ${(this.thresholds.winProbability * 100).toFixed(0)}%`,\r\n        value: winProb,\r\n        threshold: this.thresholds.winProbability,\r\n        recommendation: 'Review pricing strategy and competitive positioning'\r\n      });\r\n      overallConfidence *= 0.8;\r\n      needsReview = true;\r\n    }\r\n\r\n    // Check vendor reliability\r\n    const reliability = (rfpAnalysis.pricingDetails?.avgReliability || 0) / 100;\r\n    if (reliability < this.thresholds.reliability) {\r\n      issues.push({\r\n        type: 'LOW_RELIABILITY',\r\n        severity: 'MEDIUM',\r\n        message: `Vendor reliability ${(reliability * 100).toFixed(0)}% is below threshold of ${(this.thresholds.reliability * 100).toFixed(0)}%`,\r\n        value: reliability,\r\n        threshold: this.thresholds.reliability,\r\n        recommendation: 'Consider alternative vendors or request quality guarantees'\r\n      });\r\n      overallConfidence *= 0.85;\r\n      needsReview = true;\r\n    }\r\n\r\n    // Check price variance across vendors\r\n    if (rfpAnalysis.vendorQuotes) {\r\n      const prices = Object.values(rfpAnalysis.vendorQuotes).map(q => q.finalPrice);\r\n      if (prices.length > 1) {\r\n        const avgPrice = prices.reduce((a, b) => a + b, 0) / prices.length;\r\n        const maxVariance = Math.max(...prices.map(p => Math.abs(p - avgPrice) / avgPrice));\r\n        \r\n        if (maxVariance > this.thresholds.priceVariance) {\r\n          issues.push({\r\n            type: 'HIGH_PRICE_VARIANCE',\r\n            severity: 'MEDIUM',\r\n            message: `Price variance ${(maxVariance * 100).toFixed(0)}% exceeds threshold of ${(this.thresholds.priceVariance * 100).toFixed(0)}%`,\r\n            value: maxVariance,\r\n            threshold: this.thresholds.priceVariance,\r\n            recommendation: 'Verify pricing calculations and vendor quotes'\r\n          });\r\n          overallConfidence *= 0.9;\r\n          needsReview = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Check deadline risk\r\n    if (rfpAnalysis.analysis?.riskLevel === 'High') {\r\n      issues.push({\r\n        type: 'HIGH_DEADLINE_RISK',\r\n        severity: 'HIGH',\r\n        message: 'Tight deadline poses high delivery risk',\r\n        recommendation: 'Confirm vendor can meet deadline or negotiate extension'\r\n      });\r\n      overallConfidence *= 0.85;\r\n      needsReview = true;\r\n    }\r\n\r\n    // Check complexity\r\n    if (rfpAnalysis.analysis?.complexity === 'High' || rfpAnalysis.analysis?.complexity === 'Very High') {\r\n      issues.push({\r\n        type: 'HIGH_COMPLEXITY',\r\n        severity: 'MEDIUM',\r\n        message: `RFP complexity is ${rfpAnalysis.analysis.complexity}`,\r\n        recommendation: 'Review technical requirements with subject matter experts'\r\n      });\r\n      overallConfidence *= 0.9;\r\n    }\r\n\r\n    const escalation = {\r\n      id: `ESC_${Date.now()}`,\r\n      timestamp: new Date().toISOString(),\r\n      rfpId: rfpAnalysis.rfpId,\r\n      rfpTitle: rfpAnalysis.rfpTitle || 'Untitled RFP',\r\n      needsReview: needsReview,\r\n      overallConfidence: overallConfidence,\r\n      confidenceLevel: this.getConfidenceLevel(overallConfidence),\r\n      issues: issues,\r\n      summary: this.generateSummary(needsReview, overallConfidence, issues),\r\n      reviewPriority: this.calculatePriority(issues)\r\n    };\r\n\r\n    if (needsReview) {\r\n      this.escalations.push(escalation);\r\n      console.log(`âš ï¸ ESCALATION: Human review needed for RFP \"${escalation.rfpTitle}\"`);\r\n      console.log(`   Confidence: ${(overallConfidence * 100).toFixed(0)}% | Issues: ${issues.length}`);\r\n      issues.forEach(issue => {\r\n        console.log(`   - [${issue.severity}] ${issue.message}`);\r\n      });\r\n    } else {\r\n      console.log(`âœ… CONFIDENCE: RFP \"${escalation.rfpTitle}\" passed all thresholds`);\r\n      console.log(`   Confidence: ${(overallConfidence * 100).toFixed(0)}% | No issues detected`);\r\n    }\r\n\r\n    return escalation;\r\n  }\r\n\r\n  // Get confidence level label\r\n  getConfidenceLevel(confidence) {\r\n    if (confidence >= 0.95) return 'VERY_HIGH';\r\n    if (confidence >= 0.85) return 'HIGH';\r\n    if (confidence >= 0.70) return 'MEDIUM';\r\n    if (confidence >= 0.50) return 'LOW';\r\n    return 'VERY_LOW';\r\n  }\r\n\r\n  // Calculate review priority\r\n  calculatePriority(issues) {\r\n    const highSeverity = issues.filter(i => i.severity === 'HIGH').length;\r\n    const mediumSeverity = issues.filter(i => i.severity === 'MEDIUM').length;\r\n\r\n    if (highSeverity >= 2) return 'URGENT';\r\n    if (highSeverity >= 1) return 'HIGH';\r\n    if (mediumSeverity >= 2) return 'MEDIUM';\r\n    return 'LOW';\r\n  }\r\n\r\n  // Generate summary message\r\n  generateSummary(needsReview, confidence, issues) {\r\n    if (!needsReview) {\r\n      return `All confidence thresholds met. Automated response approved with ${(confidence * 100).toFixed(0)}% confidence.`;\r\n    }\r\n\r\n    const highIssues = issues.filter(i => i.severity === 'HIGH').length;\r\n    const mediumIssues = issues.filter(i => i.severity === 'MEDIUM').length;\r\n\r\n    let summary = `Human review required. Overall confidence: ${(confidence * 100).toFixed(0)}%. `;\r\n    \r\n    if (highIssues > 0) {\r\n      summary += `${highIssues} high-severity issue${highIssues > 1 ? 's' : ''} detected. `;\r\n    }\r\n    if (mediumIssues > 0) {\r\n      summary += `${mediumIssues} medium-severity issue${mediumIssues > 1 ? 's' : ''} detected. `;\r\n    }\r\n\r\n    return summary;\r\n  }\r\n\r\n  // Get all pending escalations\r\n  getPendingEscalations() {\r\n    return this.escalations.filter(e => e.needsReview);\r\n  }\r\n\r\n  // Get escalation statistics\r\n  getStatistics() {\r\n    const total = this.escalations.length;\r\n    const needsReview = this.escalations.filter(e => e.needsReview).length;\r\n    const approved = total - needsReview;\r\n\r\n    const avgConfidence = total > 0\r\n      ? this.escalations.reduce((sum, e) => sum + e.overallConfidence, 0) / total\r\n      : 0;\r\n\r\n    const priorityCounts = {\r\n      URGENT: this.escalations.filter(e => e.reviewPriority === 'URGENT').length,\r\n      HIGH: this.escalations.filter(e => e.reviewPriority === 'HIGH').length,\r\n      MEDIUM: this.escalations.filter(e => e.reviewPriority === 'MEDIUM').length,\r\n      LOW: this.escalations.filter(e => e.reviewPriority === 'LOW').length\r\n    };\r\n\r\n    return {\r\n      totalEvaluated: total,\r\n      needsReview: needsReview,\r\n      autoApproved: approved,\r\n      approvalRate: total > 0 ? ((approved / total) * 100).toFixed(1) : 0,\r\n      avgConfidence: (avgConfidence * 100).toFixed(1),\r\n      priorityCounts: priorityCounts\r\n    };\r\n  }\r\n\r\n  // Update thresholds\r\n  updateThresholds(newThresholds) {\r\n    Object.assign(this.thresholds, newThresholds);\r\n    console.log('ðŸŽ¯ Confidence thresholds updated:', this.thresholds);\r\n  }\r\n\r\n  // Clear escalation history\r\n  clearHistory() {\r\n    this.escalations = [];\r\n    console.log('ðŸ—‘ï¸ Escalation history cleared');\r\n  }\r\n\r\n  // Export escalations\r\n  exportEscalations() {\r\n    return this.escalations;\r\n  }\r\n\r\n  // Generate human review report\r\n  generateReviewReport(escalation) {\r\n    const report = {\r\n      title: 'HUMAN REVIEW REQUIRED',\r\n      rfpId: escalation.rfpId,\r\n      rfpTitle: escalation.rfpTitle,\r\n      timestamp: escalation.timestamp,\r\n      priority: escalation.reviewPriority,\r\n      confidence: `${(escalation.overallConfidence * 100).toFixed(0)}%`,\r\n      confidenceLevel: escalation.confidenceLevel,\r\n      summary: escalation.summary,\r\n      issues: escalation.issues.map(issue => ({\r\n        type: issue.type,\r\n        severity: issue.severity,\r\n        message: issue.message,\r\n        recommendation: issue.recommendation\r\n      })),\r\n      actionRequired: this.getActionRequired(escalation)\r\n    };\r\n\r\n    return report;\r\n  }\r\n\r\n  // Get required actions\r\n  getActionRequired(escalation) {\r\n    const actions = [];\r\n\r\n    escalation.issues.forEach(issue => {\r\n      switch (issue.type) {\r\n        case 'LOW_MATCH_SCORE':\r\n          actions.push('Review and adjust technical specifications');\r\n          actions.push('Consider alternative vendors or products');\r\n          break;\r\n        case 'LOW_WIN_PROBABILITY':\r\n          actions.push('Optimize pricing strategy');\r\n          actions.push('Review competitive positioning');\r\n          break;\r\n        case 'LOW_RELIABILITY':\r\n          actions.push('Verify vendor credentials and past performance');\r\n          actions.push('Request quality guarantees or certifications');\r\n          break;\r\n        case 'HIGH_PRICE_VARIANCE':\r\n          actions.push('Verify all pricing calculations');\r\n          actions.push('Investigate reasons for price differences');\r\n          break;\r\n        case 'HIGH_DEADLINE_RISK':\r\n          actions.push('Confirm delivery timeline with vendor');\r\n          actions.push('Consider requesting deadline extension');\r\n          break;\r\n        case 'HIGH_COMPLEXITY':\r\n          actions.push('Consult with technical experts');\r\n          actions.push('Break down complex requirements');\r\n          break;\r\n      }\r\n    });\r\n\r\n    return [...new Set(actions)]; // Remove duplicates\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nexport const confidenceEscalation = new ConfidenceEscalation();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}