{"ast":null,"code":"// Audit Logger - Complete transparency and traceability\nexport class AuditLogger{constructor(){this.logs=[];}logAgentAction(agentName,action,data,reasoning){const entry={timestamp:new Date().toISOString(),agent:agentName,action:action,data:data,reasoning:reasoning,id:\"LOG_\".concat(Date.now(),\"_\").concat(Math.random().toString(36).substr(2,9))};this.logs.push(entry);console.log(\"[AUDIT] \".concat(agentName,\": \").concat(action),reasoning);return entry;}getAuditTrail(rfpId){return this.logs.filter(log=>{var _log$data;return((_log$data=log.data)===null||_log$data===void 0?void 0:_log$data.rfpId)===rfpId;});}getAllLogs(){return this.logs;}getLogsByAgent(agentName){return this.logs.filter(log=>log.agent===agentName);}exportAuditReport(rfpId){const trail=this.getAuditTrail(rfpId);return{rfpId:rfpId,totalActions:trail.length,timeline:trail,summary:this.generateSummary(trail)};}generateSummary(trail){var _trail$,_trail,_trail$2,_trail2;const agentActions={};trail.forEach(log=>{if(!agentActions[log.agent]){agentActions[log.agent]=[];}agentActions[log.agent].push(log.action);});return{totalSteps:trail.length,agentBreakdown:agentActions,startTime:(_trail$=trail[0])===null||_trail$===void 0?void 0:_trail$.timestamp,endTime:(_trail=trail[trail.length-1])===null||_trail===void 0?void 0:_trail.timestamp,duration:this.calculateDuration((_trail$2=trail[0])===null||_trail$2===void 0?void 0:_trail$2.timestamp,(_trail2=trail[trail.length-1])===null||_trail2===void 0?void 0:_trail2.timestamp)};}calculateDuration(startTime,endTime){if(!startTime||!endTime)return'N/A';const start=new Date(startTime);const end=new Date(endTime);const durationMs=end-start;const seconds=Math.floor(durationMs/1000);return\"\".concat(seconds,\" seconds\");}clearLogs(){this.logs=[];}}// Create singleton instance\nexport const auditLogger=new AuditLogger();","map":{"version":3,"names":["AuditLogger","constructor","logs","logAgentAction","agentName","action","data","reasoning","entry","timestamp","Date","toISOString","agent","id","concat","now","Math","random","toString","substr","push","console","log","getAuditTrail","rfpId","filter","_log$data","getAllLogs","getLogsByAgent","exportAuditReport","trail","totalActions","length","timeline","summary","generateSummary","_trail$","_trail","_trail$2","_trail2","agentActions","forEach","totalSteps","agentBreakdown","startTime","endTime","duration","calculateDuration","start","end","durationMs","seconds","floor","clearLogs","auditLogger"],"sources":["C:/Users/BIT/Downloads/RFP/src/utils/AuditLogger.js"],"sourcesContent":["// Audit Logger - Complete transparency and traceability\r\nexport class AuditLogger {\r\n  constructor() {\r\n    this.logs = [];\r\n  }\r\n  \r\n  logAgentAction(agentName, action, data, reasoning) {\r\n    const entry = {\r\n      timestamp: new Date().toISOString(),\r\n      agent: agentName,\r\n      action: action,\r\n      data: data,\r\n      reasoning: reasoning,\r\n      id: `LOG_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\r\n    };\r\n    \r\n    this.logs.push(entry);\r\n    console.log(`[AUDIT] ${agentName}: ${action}`, reasoning);\r\n    \r\n    return entry;\r\n  }\r\n  \r\n  getAuditTrail(rfpId) {\r\n    return this.logs.filter(log => log.data?.rfpId === rfpId);\r\n  }\r\n  \r\n  getAllLogs() {\r\n    return this.logs;\r\n  }\r\n  \r\n  getLogsByAgent(agentName) {\r\n    return this.logs.filter(log => log.agent === agentName);\r\n  }\r\n  \r\n  exportAuditReport(rfpId) {\r\n    const trail = this.getAuditTrail(rfpId);\r\n    return {\r\n      rfpId: rfpId,\r\n      totalActions: trail.length,\r\n      timeline: trail,\r\n      summary: this.generateSummary(trail)\r\n    };\r\n  }\r\n  \r\n  generateSummary(trail) {\r\n    const agentActions = {};\r\n    trail.forEach(log => {\r\n      if (!agentActions[log.agent]) {\r\n        agentActions[log.agent] = [];\r\n      }\r\n      agentActions[log.agent].push(log.action);\r\n    });\r\n    \r\n    return {\r\n      totalSteps: trail.length,\r\n      agentBreakdown: agentActions,\r\n      startTime: trail[0]?.timestamp,\r\n      endTime: trail[trail.length - 1]?.timestamp,\r\n      duration: this.calculateDuration(trail[0]?.timestamp, trail[trail.length - 1]?.timestamp)\r\n    };\r\n  }\r\n  \r\n  calculateDuration(startTime, endTime) {\r\n    if (!startTime || !endTime) return 'N/A';\r\n    const start = new Date(startTime);\r\n    const end = new Date(endTime);\r\n    const durationMs = end - start;\r\n    const seconds = Math.floor(durationMs / 1000);\r\n    return `${seconds} seconds`;\r\n  }\r\n  \r\n  clearLogs() {\r\n    this.logs = [];\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nexport const auditLogger = new AuditLogger();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}