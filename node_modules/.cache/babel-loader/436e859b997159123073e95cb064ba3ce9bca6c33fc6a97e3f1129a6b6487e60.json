{"ast":null,"code":"// CSV Handler - Import/Export data in CSV format\nexport class CSVHandler {\n  constructor() {\n    this.name = \"CSV Handler\";\n  }\n\n  // Parse CSV string to array of objects\n  parseCSV(csvString, options = {}) {\n    const {\n      delimiter = ',',\n      hasHeader = true,\n      skipEmptyLines = true\n    } = options;\n    const lines = csvString.split('\\n').filter(line => !skipEmptyLines || line.trim().length > 0);\n    if (lines.length === 0) return [];\n    const headers = hasHeader ? this.parseLine(lines[0], delimiter) : Array.from({\n      length: this.parseLine(lines[0], delimiter).length\n    }, (_, i) => `column${i + 1}`);\n    const startIndex = hasHeader ? 1 : 0;\n    const data = [];\n    for (let i = startIndex; i < lines.length; i++) {\n      const values = this.parseLine(lines[i], delimiter);\n      if (values.length === 0) continue;\n      const row = {};\n      headers.forEach((header, index) => {\n        row[header.trim()] = values[index] ? values[index].trim() : '';\n      });\n      data.push(row);\n    }\n    return data;\n  }\n\n  // Parse a single CSV line handling quoted values\n  parseLine(line, delimiter = ',') {\n    const result = [];\n    let current = '';\n    let inQuotes = false;\n    for (let i = 0; i < line.length; i++) {\n      const char = line[i];\n      const nextChar = line[i + 1];\n      if (char === '\"') {\n        if (inQuotes && nextChar === '\"') {\n          current += '\"';\n          i++; // Skip next quote\n        } else {\n          inQuotes = !inQuotes;\n        }\n      } else if (char === delimiter && !inQuotes) {\n        result.push(current);\n        current = '';\n      } else {\n        current += char;\n      }\n    }\n    result.push(current);\n    return result;\n  }\n\n  // Convert array of objects to CSV string\n  toCSV(data, options = {}) {\n    const {\n      delimiter = ',',\n      includeHeader = true,\n      columns = null\n    } = options;\n    if (!data || data.length === 0) return '';\n    const headers = columns || Object.keys(data[0]);\n    const lines = [];\n\n    // Add header row\n    if (includeHeader) {\n      lines.push(headers.map(h => this.escapeCSVValue(h)).join(delimiter));\n    }\n\n    // Add data rows\n    data.forEach(row => {\n      const values = headers.map(header => {\n        const value = row[header];\n        return this.escapeCSVValue(value);\n      });\n      lines.push(values.join(delimiter));\n    });\n    return lines.join('\\n');\n  }\n\n  // Escape CSV value (handle quotes and delimiters)\n  escapeCSVValue(value) {\n    if (value === null || value === undefined) return '';\n    const stringValue = String(value);\n\n    // If value contains comma, quote, or newline, wrap in quotes\n    if (stringValue.includes(',') || stringValue.includes('\"') || stringValue.includes('\\n')) {\n      return `\"${stringValue.replace(/\"/g, '\"\"')}\"`;\n    }\n    return stringValue;\n  }\n\n  // Download CSV file\n  downloadCSV(data, filename = 'export.csv', options = {}) {\n    const csvContent = this.toCSV(data, options);\n    const blob = new Blob([csvContent], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const link = document.createElement('a');\n    if (link.download !== undefined) {\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', filename);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    }\n  }\n\n  // Read CSV file from input\n  async readCSVFile(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = event => {\n        try {\n          const csvString = event.target.result;\n          const data = this.parseCSV(csvString);\n          resolve(data);\n        } catch (error) {\n          reject(error);\n        }\n      };\n      reader.onerror = () => reject(new Error('Failed to read file'));\n      reader.readAsText(file);\n    });\n  }\n\n  // Export RFP data to CSV\n  exportRFPData(rfps) {\n    const data = rfps.map(rfp => {\n      var _rfp$requirements, _rfp$requirements2, _rfp$requirements3;\n      return {\n        'RFP ID': rfp.id,\n        'Title': rfp.title,\n        'Source': rfp.source,\n        'Deadline': rfp.deadline,\n        'Value': rfp.value,\n        'Status': rfp.status,\n        'Days Left': rfp.daysLeft,\n        'Match Score': rfp.matchScore || 'N/A',\n        'Area (sq ft)': ((_rfp$requirements = rfp.requirements) === null || _rfp$requirements === void 0 ? void 0 : _rfp$requirements.area) || 'N/A',\n        'Type': ((_rfp$requirements2 = rfp.requirements) === null || _rfp$requirements2 === void 0 ? void 0 : _rfp$requirements2.type) || 'N/A',\n        'Urgency': ((_rfp$requirements3 = rfp.requirements) === null || _rfp$requirements3 === void 0 ? void 0 : _rfp$requirements3.urgency) || 'N/A'\n      };\n    });\n    this.downloadCSV(data, `rfp_data_${Date.now()}.csv`);\n  }\n\n  // Export vendor quotes to CSV\n  exportVendorQuotes(vendorQuotes) {\n    const data = Object.values(vendorQuotes).map(quote => {\n      var _quote$costBreakdown, _quote$costBreakdown2, _quote$costBreakdown3, _quote$costBreakdown4, _quote$costBreakdown5, _quote$projectMetrics, _quote$projectMetrics2, _quote$projectMetrics3;\n      return {\n        'Vendor': quote.vendor || quote.vendorName,\n        'Final Price': quote.finalPrice,\n        'Material Cost': ((_quote$costBreakdown = quote.costBreakdown) === null || _quote$costBreakdown === void 0 ? void 0 : _quote$costBreakdown.materialCost) || quote.subtotalCost,\n        'Labor Cost': ((_quote$costBreakdown2 = quote.costBreakdown) === null || _quote$costBreakdown2 === void 0 ? void 0 : _quote$costBreakdown2.laborCost) || quote.totalLaborFees,\n        'Testing Cost': ((_quote$costBreakdown3 = quote.costBreakdown) === null || _quote$costBreakdown3 === void 0 ? void 0 : _quote$costBreakdown3.testingCost) || quote.totalTestingCosts,\n        'Overhead': ((_quote$costBreakdown4 = quote.costBreakdown) === null || _quote$costBreakdown4 === void 0 ? void 0 : _quote$costBreakdown4.overheadCost) || quote.overheadCost,\n        'Volume Discount': ((_quote$costBreakdown5 = quote.costBreakdown) === null || _quote$costBreakdown5 === void 0 ? void 0 : _quote$costBreakdown5.volumeDiscount) || quote.volumeDiscount,\n        'Reliability': `${((_quote$projectMetrics = quote.projectMetrics) === null || _quote$projectMetrics === void 0 ? void 0 : _quote$projectMetrics.avgReliability) || quote.avgReliability}%`,\n        'Lead Time': `${((_quote$projectMetrics2 = quote.projectMetrics) === null || _quote$projectMetrics2 === void 0 ? void 0 : _quote$projectMetrics2.maxLeadTime) || quote.maxLeadTime} days`,\n        'Competitive Score': quote.competitiveScore || quote.score,\n        'Total Area': ((_quote$projectMetrics3 = quote.projectMetrics) === null || _quote$projectMetrics3 === void 0 ? void 0 : _quote$projectMetrics3.totalArea) || quote.totalArea\n      };\n    });\n    this.downloadCSV(data, `vendor_quotes_${Date.now()}.csv`);\n  }\n\n  // Export product catalog to CSV\n  exportProductCatalog(productRepository) {\n    const data = [];\n    Object.entries(productRepository).forEach(([vendor, products]) => {\n      products.forEach(product => {\n        var _product$specs, _product$specs2, _product$specs3, _product$specs4;\n        data.push({\n          'Vendor': vendor,\n          'Product ID': product.id,\n          'Product Name': product.name,\n          'Category': product.category,\n          'Finish': product.finish,\n          'Coverage (sq ft/liter)': product.coverage,\n          'Durability (years)': product.durability,\n          'Cost': product.cost,\n          'Reliability': `${product.reliability}%`,\n          'Lead Time (days)': product.leadTime,\n          'Weather Resistance': ((_product$specs = product.specs) === null || _product$specs === void 0 ? void 0 : _product$specs.weatherResistance) || 'N/A',\n          'Fade Resistance': ((_product$specs2 = product.specs) === null || _product$specs2 === void 0 ? void 0 : _product$specs2.fadeResistance) || 'N/A',\n          'Washability': ((_product$specs3 = product.specs) === null || _product$specs3 === void 0 ? void 0 : _product$specs3.washability) || 'N/A',\n          'VOC': ((_product$specs4 = product.specs) === null || _product$specs4 === void 0 ? void 0 : _product$specs4.voc) || 'N/A'\n        });\n      });\n    });\n    this.downloadCSV(data, `product_catalog_${Date.now()}.csv`);\n  }\n\n  // Export audit trail to CSV\n  exportAuditTrail(auditLogs) {\n    const data = auditLogs.map(log => {\n      var _log$data;\n      return {\n        'Timestamp': log.timestamp,\n        'Agent': log.agent,\n        'Action': log.action,\n        'Reasoning': log.reasoning,\n        'Log ID': log.id,\n        'RFP ID': ((_log$data = log.data) === null || _log$data === void 0 ? void 0 : _log$data.rfpId) || 'N/A'\n      };\n    });\n    this.downloadCSV(data, `audit_trail_${Date.now()}.csv`);\n  }\n\n  // Import product catalog from CSV\n  async importProductCatalog(file) {\n    const data = await this.readCSVFile(file);\n    const productRepository = {};\n    data.forEach(row => {\n      const vendor = row['Vendor'];\n      if (!productRepository[vendor]) {\n        productRepository[vendor] = [];\n      }\n      productRepository[vendor].push({\n        id: row['Product ID'],\n        name: row['Product Name'],\n        category: row['Category'],\n        finish: row['Finish'],\n        coverage: parseFloat(row['Coverage (sq ft/liter)']),\n        durability: parseInt(row['Durability (years)']),\n        cost: parseFloat(row['Cost']),\n        reliability: parseFloat(row['Reliability'].replace('%', '')),\n        leadTime: parseInt(row['Lead Time (days)']),\n        specs: {\n          weatherResistance: row['Weather Resistance'],\n          fadeResistance: row['Fade Resistance'],\n          washability: row['Washability'],\n          voc: row['VOC']\n        }\n      });\n    });\n    return productRepository;\n  }\n\n  // Validate CSV structure\n  validateCSV(data, requiredColumns) {\n    if (!data || data.length === 0) {\n      return {\n        valid: false,\n        error: 'CSV is empty'\n      };\n    }\n    const headers = Object.keys(data[0]);\n    const missingColumns = requiredColumns.filter(col => !headers.includes(col));\n    if (missingColumns.length > 0) {\n      return {\n        valid: false,\n        error: `Missing required columns: ${missingColumns.join(', ')}`\n      };\n    }\n    return {\n      valid: true\n    };\n  }\n\n  // Convert JSON to CSV (generic)\n  jsonToCSV(jsonData) {\n    return this.toCSV(jsonData);\n  }\n\n  // Convert CSV to JSON (generic)\n  csvToJSON(csvString) {\n    return this.parseCSV(csvString);\n  }\n}\n\n// Create singleton instance\nexport const csvHandler = new CSVHandler();","map":{"version":3,"names":["CSVHandler","constructor","name","parseCSV","csvString","options","delimiter","hasHeader","skipEmptyLines","lines","split","filter","line","trim","length","headers","parseLine","Array","from","_","i","startIndex","data","values","row","forEach","header","index","push","result","current","inQuotes","char","nextChar","toCSV","includeHeader","columns","Object","keys","map","h","escapeCSVValue","join","value","undefined","stringValue","String","includes","replace","downloadCSV","filename","csvContent","blob","Blob","type","link","document","createElement","download","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","revokeObjectURL","readCSVFile","file","Promise","resolve","reject","reader","FileReader","onload","event","target","error","onerror","Error","readAsText","exportRFPData","rfps","rfp","_rfp$requirements","_rfp$requirements2","_rfp$requirements3","id","title","source","deadline","status","daysLeft","matchScore","requirements","area","urgency","Date","now","exportVendorQuotes","vendorQuotes","quote","_quote$costBreakdown","_quote$costBreakdown2","_quote$costBreakdown3","_quote$costBreakdown4","_quote$costBreakdown5","_quote$projectMetrics","_quote$projectMetrics2","_quote$projectMetrics3","vendor","vendorName","finalPrice","costBreakdown","materialCost","subtotalCost","laborCost","totalLaborFees","testingCost","totalTestingCosts","overheadCost","volumeDiscount","projectMetrics","avgReliability","maxLeadTime","competitiveScore","score","totalArea","exportProductCatalog","productRepository","entries","products","product","_product$specs","_product$specs2","_product$specs3","_product$specs4","category","finish","coverage","durability","cost","reliability","leadTime","specs","weatherResistance","fadeResistance","washability","voc","exportAuditTrail","auditLogs","log","_log$data","timestamp","agent","action","reasoning","rfpId","importProductCatalog","parseFloat","parseInt","validateCSV","requiredColumns","valid","missingColumns","col","jsonToCSV","jsonData","csvToJSON","csvHandler"],"sources":["C:/Users/BIT/Downloads/RFP/src/utils/CSVHandler.js"],"sourcesContent":["// CSV Handler - Import/Export data in CSV format\r\nexport class CSVHandler {\r\n  constructor() {\r\n    this.name = \"CSV Handler\";\r\n  }\r\n\r\n  // Parse CSV string to array of objects\r\n  parseCSV(csvString, options = {}) {\r\n    const {\r\n      delimiter = ',',\r\n      hasHeader = true,\r\n      skipEmptyLines = true\r\n    } = options;\r\n\r\n    const lines = csvString.split('\\n').filter(line => \r\n      !skipEmptyLines || line.trim().length > 0\r\n    );\r\n\r\n    if (lines.length === 0) return [];\r\n\r\n    const headers = hasHeader \r\n      ? this.parseLine(lines[0], delimiter)\r\n      : Array.from({ length: this.parseLine(lines[0], delimiter).length }, (_, i) => `column${i + 1}`);\r\n\r\n    const startIndex = hasHeader ? 1 : 0;\r\n    const data = [];\r\n\r\n    for (let i = startIndex; i < lines.length; i++) {\r\n      const values = this.parseLine(lines[i], delimiter);\r\n      if (values.length === 0) continue;\r\n\r\n      const row = {};\r\n      headers.forEach((header, index) => {\r\n        row[header.trim()] = values[index] ? values[index].trim() : '';\r\n      });\r\n      data.push(row);\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  // Parse a single CSV line handling quoted values\r\n  parseLine(line, delimiter = ',') {\r\n    const result = [];\r\n    let current = '';\r\n    let inQuotes = false;\r\n\r\n    for (let i = 0; i < line.length; i++) {\r\n      const char = line[i];\r\n      const nextChar = line[i + 1];\r\n\r\n      if (char === '\"') {\r\n        if (inQuotes && nextChar === '\"') {\r\n          current += '\"';\r\n          i++; // Skip next quote\r\n        } else {\r\n          inQuotes = !inQuotes;\r\n        }\r\n      } else if (char === delimiter && !inQuotes) {\r\n        result.push(current);\r\n        current = '';\r\n      } else {\r\n        current += char;\r\n      }\r\n    }\r\n\r\n    result.push(current);\r\n    return result;\r\n  }\r\n\r\n  // Convert array of objects to CSV string\r\n  toCSV(data, options = {}) {\r\n    const {\r\n      delimiter = ',',\r\n      includeHeader = true,\r\n      columns = null\r\n    } = options;\r\n\r\n    if (!data || data.length === 0) return '';\r\n\r\n    const headers = columns || Object.keys(data[0]);\r\n    const lines = [];\r\n\r\n    // Add header row\r\n    if (includeHeader) {\r\n      lines.push(headers.map(h => this.escapeCSVValue(h)).join(delimiter));\r\n    }\r\n\r\n    // Add data rows\r\n    data.forEach(row => {\r\n      const values = headers.map(header => {\r\n        const value = row[header];\r\n        return this.escapeCSVValue(value);\r\n      });\r\n      lines.push(values.join(delimiter));\r\n    });\r\n\r\n    return lines.join('\\n');\r\n  }\r\n\r\n  // Escape CSV value (handle quotes and delimiters)\r\n  escapeCSVValue(value) {\r\n    if (value === null || value === undefined) return '';\r\n    \r\n    const stringValue = String(value);\r\n    \r\n    // If value contains comma, quote, or newline, wrap in quotes\r\n    if (stringValue.includes(',') || stringValue.includes('\"') || stringValue.includes('\\n')) {\r\n      return `\"${stringValue.replace(/\"/g, '\"\"')}\"`;\r\n    }\r\n    \r\n    return stringValue;\r\n  }\r\n\r\n  // Download CSV file\r\n  downloadCSV(data, filename = 'export.csv', options = {}) {\r\n    const csvContent = this.toCSV(data, options);\r\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    \r\n    if (link.download !== undefined) {\r\n      const url = URL.createObjectURL(blob);\r\n      link.setAttribute('href', url);\r\n      link.setAttribute('download', filename);\r\n      link.style.visibility = 'hidden';\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n    }\r\n  }\r\n\r\n  // Read CSV file from input\r\n  async readCSVFile(file) {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      \r\n      reader.onload = (event) => {\r\n        try {\r\n          const csvString = event.target.result;\r\n          const data = this.parseCSV(csvString);\r\n          resolve(data);\r\n        } catch (error) {\r\n          reject(error);\r\n        }\r\n      };\r\n      \r\n      reader.onerror = () => reject(new Error('Failed to read file'));\r\n      reader.readAsText(file);\r\n    });\r\n  }\r\n\r\n  // Export RFP data to CSV\r\n  exportRFPData(rfps) {\r\n    const data = rfps.map(rfp => ({\r\n      'RFP ID': rfp.id,\r\n      'Title': rfp.title,\r\n      'Source': rfp.source,\r\n      'Deadline': rfp.deadline,\r\n      'Value': rfp.value,\r\n      'Status': rfp.status,\r\n      'Days Left': rfp.daysLeft,\r\n      'Match Score': rfp.matchScore || 'N/A',\r\n      'Area (sq ft)': rfp.requirements?.area || 'N/A',\r\n      'Type': rfp.requirements?.type || 'N/A',\r\n      'Urgency': rfp.requirements?.urgency || 'N/A'\r\n    }));\r\n\r\n    this.downloadCSV(data, `rfp_data_${Date.now()}.csv`);\r\n  }\r\n\r\n  // Export vendor quotes to CSV\r\n  exportVendorQuotes(vendorQuotes) {\r\n    const data = Object.values(vendorQuotes).map(quote => ({\r\n      'Vendor': quote.vendor || quote.vendorName,\r\n      'Final Price': quote.finalPrice,\r\n      'Material Cost': quote.costBreakdown?.materialCost || quote.subtotalCost,\r\n      'Labor Cost': quote.costBreakdown?.laborCost || quote.totalLaborFees,\r\n      'Testing Cost': quote.costBreakdown?.testingCost || quote.totalTestingCosts,\r\n      'Overhead': quote.costBreakdown?.overheadCost || quote.overheadCost,\r\n      'Volume Discount': quote.costBreakdown?.volumeDiscount || quote.volumeDiscount,\r\n      'Reliability': `${quote.projectMetrics?.avgReliability || quote.avgReliability}%`,\r\n      'Lead Time': `${quote.projectMetrics?.maxLeadTime || quote.maxLeadTime} days`,\r\n      'Competitive Score': quote.competitiveScore || quote.score,\r\n      'Total Area': quote.projectMetrics?.totalArea || quote.totalArea\r\n    }));\r\n\r\n    this.downloadCSV(data, `vendor_quotes_${Date.now()}.csv`);\r\n  }\r\n\r\n  // Export product catalog to CSV\r\n  exportProductCatalog(productRepository) {\r\n    const data = [];\r\n    \r\n    Object.entries(productRepository).forEach(([vendor, products]) => {\r\n      products.forEach(product => {\r\n        data.push({\r\n          'Vendor': vendor,\r\n          'Product ID': product.id,\r\n          'Product Name': product.name,\r\n          'Category': product.category,\r\n          'Finish': product.finish,\r\n          'Coverage (sq ft/liter)': product.coverage,\r\n          'Durability (years)': product.durability,\r\n          'Cost': product.cost,\r\n          'Reliability': `${product.reliability}%`,\r\n          'Lead Time (days)': product.leadTime,\r\n          'Weather Resistance': product.specs?.weatherResistance || 'N/A',\r\n          'Fade Resistance': product.specs?.fadeResistance || 'N/A',\r\n          'Washability': product.specs?.washability || 'N/A',\r\n          'VOC': product.specs?.voc || 'N/A'\r\n        });\r\n      });\r\n    });\r\n\r\n    this.downloadCSV(data, `product_catalog_${Date.now()}.csv`);\r\n  }\r\n\r\n  // Export audit trail to CSV\r\n  exportAuditTrail(auditLogs) {\r\n    const data = auditLogs.map(log => ({\r\n      'Timestamp': log.timestamp,\r\n      'Agent': log.agent,\r\n      'Action': log.action,\r\n      'Reasoning': log.reasoning,\r\n      'Log ID': log.id,\r\n      'RFP ID': log.data?.rfpId || 'N/A'\r\n    }));\r\n\r\n    this.downloadCSV(data, `audit_trail_${Date.now()}.csv`);\r\n  }\r\n\r\n  // Import product catalog from CSV\r\n  async importProductCatalog(file) {\r\n    const data = await this.readCSVFile(file);\r\n    const productRepository = {};\r\n\r\n    data.forEach(row => {\r\n      const vendor = row['Vendor'];\r\n      if (!productRepository[vendor]) {\r\n        productRepository[vendor] = [];\r\n      }\r\n\r\n      productRepository[vendor].push({\r\n        id: row['Product ID'],\r\n        name: row['Product Name'],\r\n        category: row['Category'],\r\n        finish: row['Finish'],\r\n        coverage: parseFloat(row['Coverage (sq ft/liter)']),\r\n        durability: parseInt(row['Durability (years)']),\r\n        cost: parseFloat(row['Cost']),\r\n        reliability: parseFloat(row['Reliability'].replace('%', '')),\r\n        leadTime: parseInt(row['Lead Time (days)']),\r\n        specs: {\r\n          weatherResistance: row['Weather Resistance'],\r\n          fadeResistance: row['Fade Resistance'],\r\n          washability: row['Washability'],\r\n          voc: row['VOC']\r\n        }\r\n      });\r\n    });\r\n\r\n    return productRepository;\r\n  }\r\n\r\n  // Validate CSV structure\r\n  validateCSV(data, requiredColumns) {\r\n    if (!data || data.length === 0) {\r\n      return { valid: false, error: 'CSV is empty' };\r\n    }\r\n\r\n    const headers = Object.keys(data[0]);\r\n    const missingColumns = requiredColumns.filter(col => !headers.includes(col));\r\n\r\n    if (missingColumns.length > 0) {\r\n      return {\r\n        valid: false,\r\n        error: `Missing required columns: ${missingColumns.join(', ')}`\r\n      };\r\n    }\r\n\r\n    return { valid: true };\r\n  }\r\n\r\n  // Convert JSON to CSV (generic)\r\n  jsonToCSV(jsonData) {\r\n    return this.toCSV(jsonData);\r\n  }\r\n\r\n  // Convert CSV to JSON (generic)\r\n  csvToJSON(csvString) {\r\n    return this.parseCSV(csvString);\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nexport const csvHandler = new CSVHandler();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}