{"ast":null,"code":"import React, { useState, useCallback, useRef } from 'react';\nimport { RefreshCw, Zap, Sliders, DollarSign, CheckCircle, Search, Upload, BarChart3, Users, FileText, TrendingUp, Award } from 'lucide-react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, LineChart, Line } from 'recharts';\n\n// --- ENHANCED MOCK DATA ---\n// 1. Multiple Vendor Catalogs\nconst VENDOR_CATALOGS = {\n  'PowerCorp': [{\n    id: 'PC001-A',\n    name: 'Industrial Power Cable 5kV',\n    insulation: 'XLPE',\n    conductor: 'Copper',\n    rating: 5000,\n    cost: 12.50,\n    reliability: 95,\n    leadTime: 14\n  }, {\n    id: 'PC002-B',\n    name: 'Flexible Data Cable',\n    insulation: 'PVC',\n    conductor: 'Aluminum',\n    rating: 600,\n    cost: 1.80,\n    reliability: 88,\n    leadTime: 7\n  }, {\n    id: 'PC003-C',\n    name: 'Fire Resistant Cable',\n    insulation: 'Silicon',\n    conductor: 'Copper',\n    rating: 1000,\n    cost: 4.25,\n    reliability: 92,\n    leadTime: 10\n  }],\n  'CableTech': [{\n    id: 'CT001-X',\n    name: 'Heavy Duty Power Line',\n    insulation: 'XLPE',\n    conductor: 'Copper',\n    rating: 5000,\n    cost: 11.80,\n    reliability: 97,\n    leadTime: 21\n  }, {\n    id: 'CT002-Y',\n    name: 'Standard Building Wire',\n    insulation: 'PVC',\n    conductor: 'Copper',\n    rating: 600,\n    cost: 0.95,\n    reliability: 90,\n    leadTime: 5\n  }, {\n    id: 'CT003-Z',\n    name: 'High Temp Cable',\n    insulation: 'Silicon',\n    conductor: 'Copper',\n    rating: 1000,\n    cost: 4.50,\n    reliability: 94,\n    leadTime: 12\n  }],\n  'ElectroSupply': [{\n    id: 'ES001-M',\n    name: 'Premium Power Cable',\n    insulation: 'XLPE',\n    conductor: 'Copper',\n    rating: 5000,\n    cost: 13.20,\n    reliability: 99,\n    leadTime: 28\n  }, {\n    id: 'ES002-N',\n    name: 'Economy Data Cable',\n    insulation: 'PVC',\n    conductor: 'Aluminum',\n    rating: 600,\n    cost: 1.60,\n    reliability: 85,\n    leadTime: 3\n  }, {\n    id: 'ES003-P',\n    name: 'Marine Grade Cable',\n    insulation: 'PolyEthylene',\n    conductor: 'Fiber',\n    rating: 20000,\n    cost: 85.00,\n    reliability: 96,\n    leadTime: 35\n  }]\n};\n\n// 2. Historical Analytics Data\nconst HISTORICAL_DATA = {\n  rfpHistory: [{\n    month: 'Jan',\n    processed: 12,\n    won: 8,\n    avgValue: 45000\n  }, {\n    month: 'Feb',\n    processed: 15,\n    won: 11,\n    avgValue: 52000\n  }, {\n    month: 'Mar',\n    processed: 18,\n    won: 13,\n    avgValue: 48000\n  }, {\n    month: 'Apr',\n    processed: 22,\n    won: 16,\n    avgValue: 55000\n  }, {\n    month: 'May',\n    processed: 25,\n    won: 19,\n    avgValue: 61000\n  }, {\n    month: 'Jun',\n    processed: 28,\n    won: 21,\n    avgValue: 58000\n  }],\n  vendorPerformance: [{\n    vendor: 'PowerCorp',\n    winRate: 68,\n    avgCost: 8.50,\n    reliability: 95\n  }, {\n    vendor: 'CableTech',\n    winRate: 72,\n    avgCost: 7.80,\n    reliability: 97\n  }, {\n    vendor: 'ElectroSupply',\n    winRate: 65,\n    avgCost: 9.20,\n    reliability: 99\n  }]\n};\n\n// 3. Enhanced Pricing Rules\nconst PRICING_RULES = {\n  markup_percentage: 0.20,\n  overhead_per_meter: 0.10,\n  rush_order_multiplier: 1.15,\n  volume_discounts: {\n    1000: 0.02,\n    5000: 0.05,\n    10000: 0.08\n  }\n};\n\n// --- PDF PARSING UTILITIES ---\nconst extractTextFromPDF = async file => {\n  return new Promise(resolve => {\n    const reader = new FileReader();\n    reader.onload = async e => {\n      try {\n        // Simulate PDF text extraction (in real implementation, use pdf-parse)\n        const mockExtractedText = `\nREQUEST FOR PROPOSAL - Tender #${Math.random().toString(36).substr(2, 9).toUpperCase()}\nDeadline: ${new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}\n\nPROJECT REQUIREMENTS:\nWe require ${Math.floor(Math.random() * 8000) + 2000} meters of cable for industrial facility upgrade.\n\nRequirement A: Heavy-Duty Cable (${Math.floor(Math.random() * 4000) + 2000}m)\n- Insulation Material: XLPE or similar high-performance polymer\n- Conductor: Must be Copper\n- Voltage Rating: Must handle minimum of ${Math.floor(Math.random() * 2000) + 3000}V\n\nRequirement B: Standard Cable (${Math.floor(Math.random() * 3000) + 1000}m)  \n- Insulation Material: PVC\n- Conductor: Must be Copper\n- Voltage Rating: Must handle up to 600V\n- Note: Include certification test fee of $${Math.floor(Math.random() * 1000) + 1000}\n        `;\n        setTimeout(() => resolve(mockExtractedText), 1500); // Simulate processing time\n      } catch (error) {\n        resolve(\"Error parsing PDF. Using default RFP text.\");\n      }\n    };\n    reader.readAsArrayBuffer(file);\n  });\n};\nconst parseRFPRequirements = text => {\n  // Enhanced parsing logic\n  const lines = text.split('\\n');\n  const requirements = [];\n  let currentReq = null;\n  lines.forEach(line => {\n    if (line.includes('Requirement A') || line.includes('Heavy-Duty')) {\n      const lengthMatch = line.match(/(\\d+)m/);\n      const ratingMatch = text.match(/minimum of (\\d+)V/);\n      requirements.push({\n        id: 'A',\n        length: lengthMatch ? parseInt(lengthMatch[1]) : 3000,\n        specs: {\n          insulation: 'XLPE',\n          conductor: 'Copper',\n          minRating: ratingMatch ? parseInt(ratingMatch[1]) : 4000\n        }\n      });\n    }\n    if (line.includes('Requirement B') || line.includes('Standard Cable')) {\n      const lengthMatch = line.match(/(\\d+)m/);\n      const feeMatch = text.match(/\\$(\\d+)/);\n      requirements.push({\n        id: 'B',\n        length: lengthMatch ? parseInt(lengthMatch[1]) : 2000,\n        specs: {\n          insulation: 'PVC',\n          conductor: 'Copper',\n          maxRating: 600,\n          testFee: feeMatch ? parseInt(feeMatch[1]) : 1500\n        }\n      });\n    }\n  });\n  const deadlineMatch = text.match(/Deadline: (\\d{4}-\\d{2}-\\d{2})/);\n  const totalMatch = text.match(/(\\d+) meters/);\n  return {\n    deadline: deadlineMatch ? deadlineMatch[1] : '2024-12-15',\n    totalMeters: totalMatch ? parseInt(totalMatch[1]) : 5000,\n    requirements: requirements.length > 0 ? requirements : [{\n      id: 'A',\n      length: 3000,\n      specs: {\n        insulation: 'XLPE',\n        conductor: 'Copper',\n        minRating: 4000\n      }\n    }, {\n      id: 'B',\n      length: 2000,\n      specs: {\n        insulation: 'PVC',\n        conductor: 'Copper',\n        maxRating: 600,\n        testFee: 1500\n      }\n    }]\n  };\n};\n\n// --- ENHANCED AGENT LOGIC ---\nconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\n// Enhanced Sales Agent with PDF support\nconst salesAgent = async (rfpText, isFromPDF = false) => {\n  await delay(isFromPDF ? 2000 : 1000);\n  console.log(`Sales Agent: ${isFromPDF ? 'Processing uploaded PDF' : 'Processing text input'}...`);\n  return parseRFPRequirements(rfpText);\n};\n\n// Multi-Vendor Technical Agent\nconst technicalAgent = async salesOutput => {\n  await delay(2500);\n  console.log(\"Technical Agent: Comparing across multiple vendors...\");\n  const matchedRequirements = salesOutput.requirements.map(req => {\n    const vendorMatches = {};\n\n    // Check each vendor\n    Object.entries(VENDOR_CATALOGS).forEach(([vendorName, catalog]) => {\n      let bestMatch = null;\n      let maxScore = -1;\n      catalog.forEach(sku => {\n        let score = 0;\n        let reason = [];\n\n        // Insulation match\n        if (sku.insulation.toLowerCase() === req.specs.insulation.toLowerCase()) {\n          score += 40;\n          reason.push(\"Insulation Match (40%)\");\n        }\n\n        // Conductor match\n        if (sku.conductor.toLowerCase() === req.specs.conductor.toLowerCase()) {\n          score += 40;\n          reason.push(\"Conductor Match (40%)\");\n        }\n\n        // Rating check\n        if (req.specs.minRating && sku.rating >= req.specs.minRating) {\n          score += 20;\n          reason.push(\"Voltage Rating Met (20%)\");\n        } else if (req.specs.maxRating && sku.rating <= req.specs.maxRating) {\n          score += 20;\n          reason.push(\"Voltage Rating Met (20%)\");\n        }\n        if (score > maxScore) {\n          maxScore = score;\n          bestMatch = {\n            skuId: sku.id,\n            skuName: sku.name,\n            skuCost: sku.cost,\n            reliability: sku.reliability,\n            leadTime: sku.leadTime,\n            matchScore: maxScore,\n            matchReason: reason.join(', ')\n          };\n        }\n      });\n      if (bestMatch) {\n        vendorMatches[vendorName] = bestMatch;\n      }\n    });\n    return {\n      ...req,\n      vendorMatches\n    };\n  });\n  return {\n    deadline: salesOutput.deadline,\n    matchedRequirements\n  };\n};\n\n// Enhanced Pricing Agent with multi-vendor comparison\nconst pricingAgent = async technicalOutput => {\n  await delay(2000);\n  console.log(\"Pricing Agent: Calculating costs across all vendors...\");\n  const vendorQuotes = {};\n\n  // Calculate quote for each vendor\n  Object.keys(VENDOR_CATALOGS).forEach(vendorName => {\n    let subtotalCost = 0;\n    let totalTestFees = 0;\n    let totalLength = 0;\n    let avgReliability = 0;\n    let maxLeadTime = 0;\n    let validQuote = true;\n    const vendorItems = [];\n    technicalOutput.matchedRequirements.forEach(item => {\n      const vendorMatch = item.vendorMatches[vendorName];\n      if (vendorMatch) {\n        const costPerMeter = vendorMatch.skuCost;\n        const length = item.length;\n        const itemCost = costPerMeter * length;\n        subtotalCost += itemCost;\n        totalLength += length;\n        avgReliability += vendorMatch.reliability;\n        maxLeadTime = Math.max(maxLeadTime, vendorMatch.leadTime);\n        if (item.specs.testFee) {\n          totalTestFees += item.specs.testFee;\n        }\n        vendorItems.push({\n          requirement: item.id,\n          sku: vendorMatch.skuId,\n          cost: itemCost,\n          reliability: vendorMatch.reliability,\n          leadTime: vendorMatch.leadTime\n        });\n      } else {\n        validQuote = false;\n      }\n    });\n    if (validQuote && vendorItems.length > 0) {\n      avgReliability = avgReliability / vendorItems.length;\n\n      // Apply volume discounts\n      let volumeDiscount = 0;\n      Object.entries(PRICING_RULES.volume_discounts).forEach(([threshold, discount]) => {\n        if (totalLength >= parseInt(threshold)) {\n          volumeDiscount = Math.max(volumeDiscount, discount);\n        }\n      });\n      const overheadCost = totalLength * PRICING_RULES.overhead_per_meter;\n      const discountAmount = subtotalCost * volumeDiscount;\n      const grossCost = subtotalCost + overheadCost + totalTestFees - discountAmount;\n      const finalPrice = grossCost * (1 + PRICING_RULES.markup_percentage);\n      vendorQuotes[vendorName] = {\n        vendor: vendorName,\n        subtotalCost,\n        overheadCost,\n        totalTestFees,\n        volumeDiscount: discountAmount,\n        finalPrice: parseFloat(finalPrice.toFixed(2)),\n        avgReliability: parseFloat(avgReliability.toFixed(1)),\n        maxLeadTime,\n        totalLength,\n        items: vendorItems,\n        score: calculateVendorScore(finalPrice, avgReliability, maxLeadTime)\n      };\n    }\n  });\n\n  // Select best vendor\n  const bestVendor = Object.values(vendorQuotes).reduce((best, current) => current.score > best.score ? current : best);\n  return {\n    ...technicalOutput,\n    vendorQuotes,\n    recommendedVendor: bestVendor.vendor,\n    pricingDetails: bestVendor\n  };\n};\n\n// Vendor scoring algorithm\nconst calculateVendorScore = (price, reliability, leadTime) => {\n  const priceScore = Math.max(0, 100 - price / 1000); // Lower price = higher score\n  const reliabilityScore = reliability; // Direct reliability score\n  const timeScore = Math.max(0, 100 - leadTime * 2); // Faster delivery = higher score\n\n  return priceScore * 0.4 + reliabilityScore * 0.4 + timeScore * 0.2;\n};","map":{"version":3,"names":["React","useState","useCallback","useRef","RefreshCw","Zap","Sliders","DollarSign","CheckCircle","Search","Upload","BarChart3","Users","FileText","TrendingUp","Award","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","PieChart","Pie","Cell","LineChart","Line","VENDOR_CATALOGS","id","name","insulation","conductor","rating","cost","reliability","leadTime","HISTORICAL_DATA","rfpHistory","month","processed","won","avgValue","vendorPerformance","vendor","winRate","avgCost","PRICING_RULES","markup_percentage","overhead_per_meter","rush_order_multiplier","volume_discounts","extractTextFromPDF","file","Promise","resolve","reader","FileReader","onload","e","mockExtractedText","Math","random","toString","substr","toUpperCase","Date","now","toISOString","split","floor","setTimeout","error","readAsArrayBuffer","parseRFPRequirements","text","lines","requirements","currentReq","forEach","line","includes","lengthMatch","match","ratingMatch","push","length","parseInt","specs","minRating","feeMatch","maxRating","testFee","deadlineMatch","totalMatch","deadline","totalMeters","delay","ms","salesAgent","rfpText","isFromPDF","console","log","technicalAgent","salesOutput","matchedRequirements","map","req","vendorMatches","Object","entries","vendorName","catalog","bestMatch","maxScore","sku","score","reason","toLowerCase","skuId","skuName","skuCost","matchScore","matchReason","join","pricingAgent","technicalOutput","vendorQuotes","keys","subtotalCost","totalTestFees","totalLength","avgReliability","maxLeadTime","validQuote","vendorItems","item","vendorMatch","costPerMeter","itemCost","max","requirement","volumeDiscount","threshold","discount","overheadCost","discountAmount","grossCost","finalPrice","parseFloat","toFixed","items","calculateVendorScore","bestVendor","values","reduce","best","current","recommendedVendor","pricingDetails","price","priceScore","reliabilityScore","timeScore"],"sources":["C:/Users/BIT/Downloads/RFP/src/App.js"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\r\nimport { RefreshCw, Zap, Sliders, DollarSign, CheckCircle, Search, Upload, BarChart3, Users, FileText, TrendingUp, Award } from 'lucide-react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, LineChart, Line } from 'recharts';\r\n\r\n// --- ENHANCED MOCK DATA ---\r\n// 1. Multiple Vendor Catalogs\r\nconst VENDOR_CATALOGS = {\r\n  'PowerCorp': [\r\n    { id: 'PC001-A', name: 'Industrial Power Cable 5kV', insulation: 'XLPE', conductor: 'Copper', rating: 5000, cost: 12.50, reliability: 95, leadTime: 14 },\r\n    { id: 'PC002-B', name: 'Flexible Data Cable', insulation: 'PVC', conductor: 'Aluminum', rating: 600, cost: 1.80, reliability: 88, leadTime: 7 },\r\n    { id: 'PC003-C', name: 'Fire Resistant Cable', insulation: 'Silicon', conductor: 'Copper', rating: 1000, cost: 4.25, reliability: 92, leadTime: 10 },\r\n  ],\r\n  'CableTech': [\r\n    { id: 'CT001-X', name: 'Heavy Duty Power Line', insulation: 'XLPE', conductor: 'Copper', rating: 5000, cost: 11.80, reliability: 97, leadTime: 21 },\r\n    { id: 'CT002-Y', name: 'Standard Building Wire', insulation: 'PVC', conductor: 'Copper', rating: 600, cost: 0.95, reliability: 90, leadTime: 5 },\r\n    { id: 'CT003-Z', name: 'High Temp Cable', insulation: 'Silicon', conductor: 'Copper', rating: 1000, cost: 4.50, reliability: 94, leadTime: 12 },\r\n  ],\r\n  'ElectroSupply': [\r\n    { id: 'ES001-M', name: 'Premium Power Cable', insulation: 'XLPE', conductor: 'Copper', rating: 5000, cost: 13.20, reliability: 99, leadTime: 28 },\r\n    { id: 'ES002-N', name: 'Economy Data Cable', insulation: 'PVC', conductor: 'Aluminum', rating: 600, cost: 1.60, reliability: 85, leadTime: 3 },\r\n    { id: 'ES003-P', name: 'Marine Grade Cable', insulation: 'PolyEthylene', conductor: 'Fiber', rating: 20000, cost: 85.00, reliability: 96, leadTime: 35 },\r\n  ]\r\n};\r\n\r\n// 2. Historical Analytics Data\r\nconst HISTORICAL_DATA = {\r\n  rfpHistory: [\r\n    { month: 'Jan', processed: 12, won: 8, avgValue: 45000 },\r\n    { month: 'Feb', processed: 15, won: 11, avgValue: 52000 },\r\n    { month: 'Mar', processed: 18, won: 13, avgValue: 48000 },\r\n    { month: 'Apr', processed: 22, won: 16, avgValue: 55000 },\r\n    { month: 'May', processed: 25, won: 19, avgValue: 61000 },\r\n    { month: 'Jun', processed: 28, won: 21, avgValue: 58000 },\r\n  ],\r\n  vendorPerformance: [\r\n    { vendor: 'PowerCorp', winRate: 68, avgCost: 8.50, reliability: 95 },\r\n    { vendor: 'CableTech', winRate: 72, avgCost: 7.80, reliability: 97 },\r\n    { vendor: 'ElectroSupply', winRate: 65, avgCost: 9.20, reliability: 99 },\r\n  ]\r\n};\r\n\r\n// 3. Enhanced Pricing Rules\r\nconst PRICING_RULES = {\r\n  markup_percentage: 0.20,\r\n  overhead_per_meter: 0.10,\r\n  rush_order_multiplier: 1.15,\r\n  volume_discounts: {\r\n    1000: 0.02,\r\n    5000: 0.05,\r\n    10000: 0.08\r\n  }\r\n};\r\n\r\n// --- PDF PARSING UTILITIES ---\r\nconst extractTextFromPDF = async (file) => {\r\n  return new Promise((resolve) => {\r\n    const reader = new FileReader();\r\n    reader.onload = async (e) => {\r\n      try {\r\n        // Simulate PDF text extraction (in real implementation, use pdf-parse)\r\n        const mockExtractedText = `\r\nREQUEST FOR PROPOSAL - Tender #${Math.random().toString(36).substr(2, 9).toUpperCase()}\r\nDeadline: ${new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}\r\n\r\nPROJECT REQUIREMENTS:\r\nWe require ${Math.floor(Math.random() * 8000) + 2000} meters of cable for industrial facility upgrade.\r\n\r\nRequirement A: Heavy-Duty Cable (${Math.floor(Math.random() * 4000) + 2000}m)\r\n- Insulation Material: XLPE or similar high-performance polymer\r\n- Conductor: Must be Copper\r\n- Voltage Rating: Must handle minimum of ${Math.floor(Math.random() * 2000) + 3000}V\r\n\r\nRequirement B: Standard Cable (${Math.floor(Math.random() * 3000) + 1000}m)  \r\n- Insulation Material: PVC\r\n- Conductor: Must be Copper\r\n- Voltage Rating: Must handle up to 600V\r\n- Note: Include certification test fee of $${Math.floor(Math.random() * 1000) + 1000}\r\n        `;\r\n        \r\n        setTimeout(() => resolve(mockExtractedText), 1500); // Simulate processing time\r\n      } catch (error) {\r\n        resolve(\"Error parsing PDF. Using default RFP text.\");\r\n      }\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n};\r\n\r\nconst parseRFPRequirements = (text) => {\r\n  // Enhanced parsing logic\r\n  const lines = text.split('\\n');\r\n  const requirements = [];\r\n  let currentReq = null;\r\n  \r\n  lines.forEach(line => {\r\n    if (line.includes('Requirement A') || line.includes('Heavy-Duty')) {\r\n      const lengthMatch = line.match(/(\\d+)m/);\r\n      const ratingMatch = text.match(/minimum of (\\d+)V/);\r\n      requirements.push({\r\n        id: 'A',\r\n        length: lengthMatch ? parseInt(lengthMatch[1]) : 3000,\r\n        specs: {\r\n          insulation: 'XLPE',\r\n          conductor: 'Copper',\r\n          minRating: ratingMatch ? parseInt(ratingMatch[1]) : 4000\r\n        }\r\n      });\r\n    }\r\n    if (line.includes('Requirement B') || line.includes('Standard Cable')) {\r\n      const lengthMatch = line.match(/(\\d+)m/);\r\n      const feeMatch = text.match(/\\$(\\d+)/);\r\n      requirements.push({\r\n        id: 'B',\r\n        length: lengthMatch ? parseInt(lengthMatch[1]) : 2000,\r\n        specs: {\r\n          insulation: 'PVC',\r\n          conductor: 'Copper',\r\n          maxRating: 600,\r\n          testFee: feeMatch ? parseInt(feeMatch[1]) : 1500\r\n        }\r\n      });\r\n    }\r\n  });\r\n  \r\n  const deadlineMatch = text.match(/Deadline: (\\d{4}-\\d{2}-\\d{2})/);\r\n  const totalMatch = text.match(/(\\d+) meters/);\r\n  \r\n  return {\r\n    deadline: deadlineMatch ? deadlineMatch[1] : '2024-12-15',\r\n    totalMeters: totalMatch ? parseInt(totalMatch[1]) : 5000,\r\n    requirements: requirements.length > 0 ? requirements : [\r\n      { id: 'A', length: 3000, specs: { insulation: 'XLPE', conductor: 'Copper', minRating: 4000 } },\r\n      { id: 'B', length: 2000, specs: { insulation: 'PVC', conductor: 'Copper', maxRating: 600, testFee: 1500 } }\r\n    ]\r\n  };\r\n};\r\n\r\n// --- ENHANCED AGENT LOGIC ---\r\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n// Enhanced Sales Agent with PDF support\r\nconst salesAgent = async (rfpText, isFromPDF = false) => {\r\n  await delay(isFromPDF ? 2000 : 1000);\r\n  console.log(`Sales Agent: ${isFromPDF ? 'Processing uploaded PDF' : 'Processing text input'}...`);\r\n  \r\n  return parseRFPRequirements(rfpText);\r\n};\r\n\r\n// Multi-Vendor Technical Agent\r\nconst technicalAgent = async (salesOutput) => {\r\n  await delay(2500);\r\n  console.log(\"Technical Agent: Comparing across multiple vendors...\");\r\n  \r\n  const matchedRequirements = salesOutput.requirements.map(req => {\r\n    const vendorMatches = {};\r\n    \r\n    // Check each vendor\r\n    Object.entries(VENDOR_CATALOGS).forEach(([vendorName, catalog]) => {\r\n      let bestMatch = null;\r\n      let maxScore = -1;\r\n      \r\n      catalog.forEach(sku => {\r\n        let score = 0;\r\n        let reason = [];\r\n        \r\n        // Insulation match\r\n        if (sku.insulation.toLowerCase() === req.specs.insulation.toLowerCase()) {\r\n          score += 40;\r\n          reason.push(\"Insulation Match (40%)\");\r\n        }\r\n        \r\n        // Conductor match\r\n        if (sku.conductor.toLowerCase() === req.specs.conductor.toLowerCase()) {\r\n          score += 40;\r\n          reason.push(\"Conductor Match (40%)\");\r\n        }\r\n        \r\n        // Rating check\r\n        if (req.specs.minRating && sku.rating >= req.specs.minRating) {\r\n          score += 20;\r\n          reason.push(\"Voltage Rating Met (20%)\");\r\n        } else if (req.specs.maxRating && sku.rating <= req.specs.maxRating) {\r\n          score += 20;\r\n          reason.push(\"Voltage Rating Met (20%)\");\r\n        }\r\n        \r\n        if (score > maxScore) {\r\n          maxScore = score;\r\n          bestMatch = {\r\n            skuId: sku.id,\r\n            skuName: sku.name,\r\n            skuCost: sku.cost,\r\n            reliability: sku.reliability,\r\n            leadTime: sku.leadTime,\r\n            matchScore: maxScore,\r\n            matchReason: reason.join(', '),\r\n          };\r\n        }\r\n      });\r\n      \r\n      if (bestMatch) {\r\n        vendorMatches[vendorName] = bestMatch;\r\n      }\r\n    });\r\n    \r\n    return { ...req, vendorMatches };\r\n  });\r\n  \r\n  return { deadline: salesOutput.deadline, matchedRequirements };\r\n};\r\n\r\n// Enhanced Pricing Agent with multi-vendor comparison\r\nconst pricingAgent = async (technicalOutput) => {\r\n  await delay(2000);\r\n  console.log(\"Pricing Agent: Calculating costs across all vendors...\");\r\n  \r\n  const vendorQuotes = {};\r\n  \r\n  // Calculate quote for each vendor\r\n  Object.keys(VENDOR_CATALOGS).forEach(vendorName => {\r\n    let subtotalCost = 0;\r\n    let totalTestFees = 0;\r\n    let totalLength = 0;\r\n    let avgReliability = 0;\r\n    let maxLeadTime = 0;\r\n    let validQuote = true;\r\n    \r\n    const vendorItems = [];\r\n    \r\n    technicalOutput.matchedRequirements.forEach(item => {\r\n      const vendorMatch = item.vendorMatches[vendorName];\r\n      if (vendorMatch) {\r\n        const costPerMeter = vendorMatch.skuCost;\r\n        const length = item.length;\r\n        const itemCost = costPerMeter * length;\r\n        \r\n        subtotalCost += itemCost;\r\n        totalLength += length;\r\n        avgReliability += vendorMatch.reliability;\r\n        maxLeadTime = Math.max(maxLeadTime, vendorMatch.leadTime);\r\n        \r\n        if (item.specs.testFee) {\r\n          totalTestFees += item.specs.testFee;\r\n        }\r\n        \r\n        vendorItems.push({\r\n          requirement: item.id,\r\n          sku: vendorMatch.skuId,\r\n          cost: itemCost,\r\n          reliability: vendorMatch.reliability,\r\n          leadTime: vendorMatch.leadTime\r\n        });\r\n      } else {\r\n        validQuote = false;\r\n      }\r\n    });\r\n    \r\n    if (validQuote && vendorItems.length > 0) {\r\n      avgReliability = avgReliability / vendorItems.length;\r\n      \r\n      // Apply volume discounts\r\n      let volumeDiscount = 0;\r\n      Object.entries(PRICING_RULES.volume_discounts).forEach(([threshold, discount]) => {\r\n        if (totalLength >= parseInt(threshold)) {\r\n          volumeDiscount = Math.max(volumeDiscount, discount);\r\n        }\r\n      });\r\n      \r\n      const overheadCost = totalLength * PRICING_RULES.overhead_per_meter;\r\n      const discountAmount = subtotalCost * volumeDiscount;\r\n      const grossCost = subtotalCost + overheadCost + totalTestFees - discountAmount;\r\n      const finalPrice = grossCost * (1 + PRICING_RULES.markup_percentage);\r\n      \r\n      vendorQuotes[vendorName] = {\r\n        vendor: vendorName,\r\n        subtotalCost,\r\n        overheadCost,\r\n        totalTestFees,\r\n        volumeDiscount: discountAmount,\r\n        finalPrice: parseFloat(finalPrice.toFixed(2)),\r\n        avgReliability: parseFloat(avgReliability.toFixed(1)),\r\n        maxLeadTime,\r\n        totalLength,\r\n        items: vendorItems,\r\n        score: calculateVendorScore(finalPrice, avgReliability, maxLeadTime)\r\n      };\r\n    }\r\n  });\r\n  \r\n  // Select best vendor\r\n  const bestVendor = Object.values(vendorQuotes).reduce((best, current) => \r\n    current.score > best.score ? current : best\r\n  );\r\n  \r\n  return {\r\n    ...technicalOutput,\r\n    vendorQuotes,\r\n    recommendedVendor: bestVendor.vendor,\r\n    pricingDetails: bestVendor\r\n  };\r\n};\r\n\r\n// Vendor scoring algorithm\r\nconst calculateVendorScore = (price, reliability, leadTime) => {\r\n  const priceScore = Math.max(0, 100 - (price / 1000)); // Lower price = higher score\r\n  const reliabilityScore = reliability; // Direct reliability score\r\n  const timeScore = Math.max(0, 100 - leadTime * 2); // Faster delivery = higher score\r\n  \r\n  return (priceScore * 0.4 + reliabilityScore * 0.4 + timeScore * 0.2);\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}