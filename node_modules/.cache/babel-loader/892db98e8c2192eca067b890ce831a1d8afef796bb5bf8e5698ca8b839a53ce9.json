{"ast":null,"code":"import _objectSpread from\"C:/Users/BIT/Downloads/RFP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useCallback,useRef,useEffect}from'react';import{RefreshCw,Zap,Sliders,DollarSign,CheckCircle,Search,Upload,BarChart3,Users,FileText,TrendingUp,Award,Globe,Download,History,AlertCircle,Clock,Target,Shield,Activity,Brain,Network,TrendingDown,FileSpreadsheet}from'lucide-react';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer,PieChart,Pie,Cell,LineChart,Line,RadialBarChart,RadialBar}from'recharts';import{auditLogger}from'./utils/AuditLogger';import{nlpProcessor}from'./utils/NLPProcessor';import{buildKnowledgeGraph}from'./utils/ProductKnowledgeGraph';import{historicalDataAnalyzer,initializeHistoricalData}from'./utils/HistoricalDataAnalyzer';import{currencyConverter}from'./utils/CurrencyConverter';import{csvHandler}from'./utils/CSVHandler';import{enhancedNLP}from'./utils/EnhancedNLP';import{semanticMatcher}from'./utils/SemanticMatcher';import{learningMemory}from'./utils/LearningMemory';import{confidenceEscalation}from'./utils/ConfidenceEscalation';// --- COMPREHENSIVE MOCK DATA FOR FULL AGENTIC WORKFLOW ---\n// 1. RFP Scanner Data - Simulated web sources\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RFP_SOURCES=[{id:'src1',name:'Government Tenders Portal',url:'https://etenders.gov.in',status:'active',lastScan:'2024-11-05 09:30',rfpsFound:12},{id:'src2',name:'Construction Industry Board',url:'https://construction-rfps.com',status:'active',lastScan:'2024-11-05 08:45',rfpsFound:8},{id:'src3',name:'Municipal Corporation Portal',url:'https://municipal-tenders.org',status:'scanning',lastScan:'2024-11-05 10:15',rfpsFound:5}];// 2. Detected RFPs Database\nconst DETECTED_RFPS=[{id:'rfp001',title:'Commercial Complex Painting - Phase 2',source:'Government Tenders Portal',deadline:'2024-12-20',value:'$125,000',status:'new',daysLeft:45,requirements:{area:75000,type:'Mixed (Interior + Exterior)',urgency:'Standard'},matchScore:null},{id:'rfp002',title:'School Building Renovation Paint Work',source:'Municipal Corporation Portal',deadline:'2024-12-15',value:'$89,500',status:'analyzed',daysLeft:40,requirements:{area:45000,type:'Interior Focus',urgency:'High'},matchScore:87},{id:'rfp003',title:'Hospital Exterior Wall Painting',source:'Construction Industry Board',deadline:'2025-01-10',value:'$156,000',status:'responded',daysLeft:66,requirements:{area:92000,type:'Exterior Only',urgency:'Standard'},matchScore:94}];// 3. Enhanced Product Repository with Spec Matching\nconst PRODUCT_REPOSITORY={'Asian Paints':[{id:'AP001-A',name:'Apex Ultima Exterior Emulsion',category:'Exterior',finish:'Matt',coverage:140,durability:12,cost:285.50,reliability:95,leadTime:7,specs:{weatherResistance:'Excellent',fadeResistance:'High',washability:'Good',voc:'Low',application:['Brush','Roller','Spray']}},{id:'AP002-B',name:'Royale Luxury Emulsion',category:'Interior',finish:'Silk',coverage:120,durability:10,cost:320.75,reliability:92,leadTime:5,specs:{weatherResistance:'Good',fadeResistance:'High',washability:'Excellent',voc:'Ultra Low',application:['Brush','Roller']}},{id:'AP003-C',name:'Tractor Emulsion Economy',category:'Interior',finish:'Matt',coverage:110,durability:8,cost:180.25,reliability:88,leadTime:3,specs:{weatherResistance:'Fair',fadeResistance:'Medium',washability:'Good',voc:'Medium',application:['Brush','Roller']}}],'Berger Paints':[{id:'BP001-X',name:'WeatherCoat Long Life',category:'Exterior',finish:'Smooth',coverage:135,durability:15,cost:295.80,reliability:97,leadTime:10,specs:{weatherResistance:'Excellent',fadeResistance:'Excellent',washability:'Good',voc:'Low',application:['Brush','Roller','Spray']}},{id:'BP002-Y',name:'Silk Glamour Interior',category:'Interior',finish:'Silk',coverage:125,durability:8,cost:245.60,reliability:90,leadTime:4,specs:{weatherResistance:'Good',fadeResistance:'High',washability:'Excellent',voc:'Ultra Low',application:['Brush','Roller']}}],'Nerolac Paints':[{id:'NP001-M',name:'Excel Total Exterior',category:'Exterior',finish:'Sheen',coverage:130,durability:12,cost:275.90,reliability:94,leadTime:8,specs:{weatherResistance:'Excellent',fadeResistance:'High',washability:'Good',voc:'Low',application:['Brush','Roller','Spray']}}]};// 4. Testing Requirements & Costs\nconst TESTING_REQUIREMENTS={'Adhesion Test':{cost:450,duration:'2 days',required:true},'Weather Resistance Test':{cost:850,duration:'5 days',required:false},'VOC Emission Test':{cost:320,duration:'1 day',required:true},'Durability Test':{cost:1200,duration:'7 days',required:false},'Color Fastness Test':{cost:280,duration:'1 day',required:false}};// 5. RFP Response History\nconst RFP_HISTORY=[{id:'hist001',rfpTitle:'Office Complex Painting',submittedDate:'2024-10-15',status:'Won',value:'$95,000',vendor:'Asian Paints',matchScore:92},{id:'hist002',rfpTitle:'Residential Tower Paint Work',submittedDate:'2024-10-08',status:'Lost',value:'$67,500',vendor:'Berger Paints',matchScore:78},{id:'hist003',rfpTitle:'Industrial Facility Coating',submittedDate:'2024-09-28',status:'Pending',value:'$134,000',vendor:'Nerolac Paints',matchScore:89}];// 6. Enhanced Pricing Rules\nconst PRICING_RULES={markup_percentage:0.20,overhead_per_sqft:0.50,rush_order_multiplier:1.15,volume_discounts:{10000:0.02,25000:0.05,50000:0.08},testing_markup:0.15};// --- ENHANCED AGENT SIMULATION LOGIC ---\nconst delay=ms=>new Promise(resolve=>setTimeout(resolve,ms));// 1. Sales Agent - Enhanced with NLP Processing\nconst salesAgent=async function(rfpData){let isFromPDF=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;await delay(isFromPDF?2500:1500);console.log(\"Sales Agent: \".concat(isFromPDF?'Processing uploaded RFP':'Analyzing RFP requirements',\"...\"));// NLP-powered entity extraction\nconsole.log('ðŸ§  NLP: Extracting entities from RFP text...');const entities=nlpProcessor.extractEntities(rfpData);console.log('âœ… NLP: Entities extracted:',entities);// Detect urgency using NLP\nconst urgencyAnalysis=nlpProcessor.detectUrgency(rfpData);console.log(\"\\u26A1 NLP: Urgency detected - \".concat(urgencyAnalysis.level,\" (\").concat((urgencyAnalysis.score*100).toFixed(0),\"%)\"));// Analyze complexity\nconst complexityAnalysis=nlpProcessor.analyzeComplexity(rfpData,entities);console.log(\"\\uD83D\\uDD0D NLP: Complexity - \".concat(complexityAnalysis.level,\" (score: \").concat(complexityAnalysis.score.toFixed(0),\")\"));// Enhanced requirement extraction with NLP entities\nconst requirements=parseRFPRequirements(rfpData,entities);// Add NLP-enhanced analysis\nconst analysis={urgency:urgencyAnalysis.level,urgencyScore:urgencyAnalysis.score,complexity:complexityAnalysis.level,complexityScore:complexityAnalysis.score,estimatedDuration:Math.ceil(requirements.totalSqFt/5000)+' weeks',riskLevel:requirements.deadline?calculateRiskLevel(requirements.deadline):'Medium',entitiesFound:{quantities:entities.quantities.length,materials:entities.materials.length,certifications:entities.certifications.length,costs:entities.costs.length}};return _objectSpread(_objectSpread({},requirements),{},{analysis,nlpEntities:entities});};// 2. Technical Agent - Advanced Spec Matching\nconst technicalAgent=async salesOutput=>{await delay(3000);console.log(\"Technical Agent: Performing advanced spec matching...\");const matchedRequirements=salesOutput.requirements.map(req=>{const vendorMatches={};// Enhanced matching algorithm\nObject.entries(PRODUCT_REPOSITORY).forEach(_ref=>{let[vendorName,catalog]=_ref;let bestMatch=null;let maxScore=-1;catalog.forEach(product=>{let score=0;let reasons=[];// Category matching (40 points)\nif(req.specs.finish==='Matt'&&product.category==='Exterior'){score+=40;reasons.push(\"Category Match - Exterior (40%)\");}else if(req.specs.finish==='Silk'&&product.category==='Interior'){score+=40;reasons.push(\"Category Match - Interior (40%)\");}// Finish matching (30 points)\nif(product.finish.toLowerCase()===req.specs.finish.toLowerCase()){score+=30;reasons.push(\"Finish Match (30%)\");}// Coverage efficiency (20 points)\nif(req.specs.coverage&&product.coverage>=req.specs.coverage){score+=20;reasons.push(\"Coverage Requirement Met (20%)\");}// Durability matching (10 points)\nif(req.specs.minDurability&&product.durability>=req.specs.minDurability){score+=10;reasons.push(\"Durability Requirement Met (10%)\");}if(score>maxScore){maxScore=score;bestMatch={skuId:product.id,skuName:product.name,category:product.category,skuCost:product.cost,coverage:product.coverage,reliability:product.reliability,leadTime:product.leadTime,matchScore:maxScore,matchReason:reasons.join(', '),specs:product.specs};}});if(bestMatch){vendorMatches[vendorName]=bestMatch;}});return _objectSpread(_objectSpread({},req),{},{vendorMatches});});return{deadline:salesOutput.deadline,analysis:salesOutput.analysis,matchedRequirements,overallMatchScore:calculateOverallMatchScore(matchedRequirements)};};// 3. Pricing Agent - Enhanced Cost Calculation with Testing\nconst pricingAgent=async technicalOutput=>{await delay(2500);console.log(\"Pricing Agent: Calculating comprehensive costs with testing...\");const vendorQuotes={};Object.keys(PRODUCT_REPOSITORY).forEach(vendorName=>{let subtotalCost=0;let totalLaborFees=0;let totalTestingCosts=0;let totalArea=0;let avgReliability=0;let maxLeadTime=0;let validQuote=true;const vendorItems=[];technicalOutput.matchedRequirements.forEach(item=>{const vendorMatch=item.vendorMatches[vendorName];if(vendorMatch){const area=item.area;const litersNeeded=area/vendorMatch.coverage;const itemCost=litersNeeded*vendorMatch.skuCost;subtotalCost+=itemCost;totalArea+=area;avgReliability+=vendorMatch.reliability;maxLeadTime=Math.max(maxLeadTime,vendorMatch.leadTime);if(item.specs.laborFee){totalLaborFees+=item.specs.laborFee;}vendorItems.push({requirement:item.id,sku:vendorMatch.skuId,cost:itemCost,liters:litersNeeded,reliability:vendorMatch.reliability,leadTime:vendorMatch.leadTime});}else{validQuote=false;}});// Add testing costs\nObject.entries(TESTING_REQUIREMENTS).forEach(_ref2=>{let[testName,testData]=_ref2;if(testData.required||Math.random()>0.6){// Some optional tests randomly included\ntotalTestingCosts+=testData.cost;}});if(validQuote&&vendorItems.length>0){avgReliability=avgReliability/vendorItems.length;// Apply volume discounts\nlet volumeDiscount=0;Object.entries(PRICING_RULES.volume_discounts).forEach(_ref3=>{let[threshold,discount]=_ref3;if(totalArea>=parseInt(threshold)){volumeDiscount=Math.max(volumeDiscount,discount);}});const overheadCost=totalArea*PRICING_RULES.overhead_per_sqft;const testingCostWithMarkup=totalTestingCosts*(1+PRICING_RULES.testing_markup);const discountAmount=subtotalCost*volumeDiscount;const grossCost=subtotalCost+overheadCost+totalLaborFees+testingCostWithMarkup-discountAmount;const finalPrice=grossCost*(1+PRICING_RULES.markup_percentage);vendorQuotes[vendorName]={vendor:vendorName,subtotalCost,overheadCost,totalLaborFees,totalTestingCosts:testingCostWithMarkup,volumeDiscount:discountAmount,finalPrice:parseFloat(finalPrice.toFixed(2)),avgReliability:parseFloat(avgReliability.toFixed(1)),maxLeadTime,totalArea,items:vendorItems,score:calculateVendorScore(finalPrice,avgReliability,maxLeadTime)};}});// Select best vendor\nconst bestVendor=Object.values(vendorQuotes).reduce((best,current)=>current.score>best.score?current:best);return _objectSpread(_objectSpread({},technicalOutput),{},{vendorQuotes,recommendedVendor:bestVendor.vendor,pricingDetails:bestVendor});};// 4. Main Agent (Orchestrator) - Coordinates all other agents\nconst mainAgent=async finalData=>{await delay(1500);console.log(\"Main Agent: Orchestrating final RFP response...\");const report={id:\"RPT-\".concat(Date.now()),generatedAt:new Date().toISOString(),rfpTitle:\"Automated RFP Response\",executiveSummary:{recommendedVendor:finalData.recommendedVendor,totalCost:finalData.pricingDetails.finalPrice,matchScore:finalData.overallMatchScore,deliveryTime:finalData.pricingDetails.maxLeadTime},technicalDetails:finalData.matchedRequirements,costBreakdown:finalData.pricingDetails,riskAssessment:finalData.analysis,downloadLinks:{pdf:\"/reports/\".concat(Date.now(),\".pdf\"),excel:\"/reports/\".concat(Date.now(),\".xlsx\")}};return report;};// --- UTILITY FUNCTIONS ---\n// Report Download Functions\nconst downloadReport=(type,reportData)=>{console.log(\"Downloading \".concat(type,\" report...\"));if(type==='pdf'){// Generate HTML content and open print dialog for PDF\ngeneratePDFReport(reportData);}else if(type==='excel'){// Generate CSV content (Excel-compatible)\nconst csvContent=generateCSVContent(reportData);downloadFile(csvContent,\"RFP_Analysis_\".concat(Date.now(),\".csv\"),'text/csv');}};const viewExecutiveSummary=reportData=>{console.log('Opening executive summary...');// Create a modal or new window with executive summary\nconst summaryWindow=window.open('','_blank','width=800,height=600');summaryWindow.document.write(\"\\n    <html>\\n      <head>\\n        <title>Executive Summary - RFP Response</title>\\n        <style>\\n          body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }\\n          .header { color: #4f46e5; border-bottom: 2px solid #4f46e5; padding-bottom: 10px; }\\n          .section { margin: 20px 0; }\\n          .highlight { background-color: #f0f9ff; padding: 10px; border-left: 4px solid #0ea5e9; }\\n        </style>\\n      </head>\\n      <body>\\n        <div class=\\\"header\\\">\\n          <h1>Executive Summary</h1>\\n          <p>RFP Response Generated: \".concat(new Date().toLocaleDateString(),\"</p>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>Recommendation</h2>\\n          <div class=\\\"highlight\\\">\\n            <strong>Recommended Vendor:</strong> \").concat(reportData.executiveSummary.recommendedVendor,\"<br>\\n            <strong>Total Cost:</strong> $\").concat(reportData.executiveSummary.totalCost.toLocaleString(),\"<br>\\n            <strong>Match Score:</strong> \").concat(reportData.executiveSummary.matchScore,\"%<br>\\n            <strong>Delivery Time:</strong> \").concat(reportData.executiveSummary.deliveryTime,\" days\\n          </div>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>Key Benefits</h2>\\n          <ul>\\n            <li>Optimal cost-performance ratio</li>\\n            <li>High reliability and quality standards</li>\\n            <li>Competitive delivery timeline</li>\\n            <li>Comprehensive testing included</li>\\n          </ul>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>Next Steps</h2>\\n          <ol>\\n            <li>Review detailed technical specifications</li>\\n            <li>Confirm delivery schedule</li>\\n            <li>Finalize contract terms</li>\\n            <li>Submit formal response</li>\\n          </ol>\\n        </div>\\n      </body>\\n    </html>\\n  \"));};const generatePDFReport=reportData=>{// Create a new window with printable HTML content\nconst printWindow=window.open('','_blank','width=800,height=600');printWindow.document.write(\"\\n    <html>\\n      <head>\\n        <title>RFP Response Report</title>\\n        <style>\\n          @media print {\\n            body { margin: 0; }\\n            .no-print { display: none; }\\n          }\\n          body { \\n            font-family: Arial, sans-serif; \\n            padding: 20px; \\n            line-height: 1.6; \\n            color: #333;\\n          }\\n          .header { \\n            text-align: center; \\n            border-bottom: 3px solid #4f46e5; \\n            padding-bottom: 20px; \\n            margin-bottom: 30px; \\n          }\\n          .section { \\n            margin: 25px 0; \\n            padding: 15px; \\n            border: 1px solid #e5e7eb; \\n            border-radius: 8px; \\n          }\\n          .highlight { \\n            background-color: #f0f9ff; \\n            padding: 15px; \\n            border-left: 4px solid #0ea5e9; \\n            margin: 10px 0;\\n          }\\n          .vendor-grid {\\n            display: grid;\\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n            gap: 15px;\\n            margin: 20px 0;\\n          }\\n          .vendor-card {\\n            border: 1px solid #d1d5db;\\n            padding: 15px;\\n            border-radius: 8px;\\n            background-color: #f9fafb;\\n          }\\n          .recommended {\\n            border-color: #10b981;\\n            background-color: #ecfdf5;\\n          }\\n          table { width: 100%; border-collapse: collapse; margin: 20px 0; }\\n          th, td { padding: 12px; text-align: left; border-bottom: 1px solid #e5e7eb; }\\n          th { background-color: #f3f4f6; font-weight: bold; }\\n          .print-btn {\\n            background-color: #4f46e5;\\n            color: white;\\n            padding: 10px 20px;\\n            border: none;\\n            border-radius: 5px;\\n            cursor: pointer;\\n            margin: 20px 0;\\n          }\\n        </style>\\n      </head>\\n      <body>\\n        <div class=\\\"no-print\\\">\\n          <button class=\\\"print-btn\\\" onclick=\\\"window.print()\\\">\\uD83D\\uDDA8\\uFE0F Print as PDF</button>\\n          <button class=\\\"print-btn\\\" onclick=\\\"window.close()\\\" style=\\\"background-color: #6b7280;\\\">\\u274C Close</button>\\n        </div>\\n        \\n        <div class=\\\"header\\\">\\n          <h1>RFP Response Report</h1>\\n          <h2>\".concat(reportData.rfpTitle||'Paint Project RFP',\"</h2>\\n          <p><strong>Generated:</strong> \").concat(new Date().toLocaleDateString(),\" at \").concat(new Date().toLocaleTimeString(),\"</p>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>\\uD83C\\uDFAF Executive Summary</h2>\\n          <div class=\\\"highlight\\\">\\n            <h3>Recommended Solution</h3>\\n            <p><strong>Vendor:</strong> \").concat(reportData.executiveSummary.recommendedVendor,\"</p>\\n            <p><strong>Total Investment:</strong> $\").concat(reportData.executiveSummary.totalCost.toLocaleString(),\"</p>\\n            <p><strong>Technical Match:</strong> \").concat(reportData.executiveSummary.matchScore,\"% compatibility</p>\\n            <p><strong>Delivery Timeline:</strong> \").concat(reportData.executiveSummary.deliveryTime,\" days</p>\\n          </div>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>\\uD83C\\uDFE2 Vendor Analysis</h2>\\n          <p>Our multi-agent system analyzed three leading paint manufacturers:</p>\\n          <div class=\\\"vendor-grid\\\">\\n            <div class=\\\"vendor-card recommended\\\">\\n              <h4>\\u2705 \").concat(reportData.executiveSummary.recommendedVendor,\"</h4>\\n              <p><strong>RECOMMENDED</strong></p>\\n              <p>Cost: $\").concat(reportData.executiveSummary.totalCost.toLocaleString(),\"</p>\\n              <p>Score: \").concat(reportData.executiveSummary.matchScore,\"%</p>\\n            </div>\\n            <div class=\\\"vendor-card\\\">\\n              <h4>Asian Paints</h4>\\n              <p>Premium Quality</p>\\n              <p>Reliability: 95%</p>\\n            </div>\\n            <div class=\\\"vendor-card\\\">\\n              <h4>Berger Paints</h4>\\n              <p>Balanced Solution</p>\\n              <p>Reliability: 91%</p>\\n            </div>\\n          </div>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>\\uD83E\\uDD16 AI Agent Analysis</h2>\\n          <table>\\n            <thead>\\n              <tr>\\n                <th>Agent</th>\\n                <th>Function</th>\\n                <th>Result</th>\\n                <th>Confidence</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr>\\n                <td>Sales Agent</td>\\n                <td>Requirement Extraction</td>\\n                <td>Successfully parsed RFP</td>\\n                <td>96%</td>\\n              </tr>\\n              <tr>\\n                <td>Technical Agent</td>\\n                <td>Specification Matching</td>\\n                <td>\").concat(reportData.executiveSummary.matchScore,\"% match achieved</td>\\n                <td>94%</td>\\n              </tr>\\n              <tr>\\n                <td>Pricing Agent</td>\\n                <td>Cost Optimization</td>\\n                <td>Optimal pricing strategy</td>\\n                <td>98%</td>\\n              </tr>\\n              <tr>\\n                <td>Main Agent</td>\\n                <td>Orchestration & Documentation</td>\\n                <td>Comprehensive response orchestrated</td>\\n                <td>100%</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>\\uD83D\\uDCCB Next Steps</h2>\\n          <ol>\\n            <li><strong>Review & Approve:</strong> Technical specifications and pricing</li>\\n            <li><strong>Contract Preparation:</strong> Finalize terms with \").concat(reportData.executiveSummary.recommendedVendor,\"</li>\\n            <li><strong>Timeline Confirmation:</strong> Confirm \").concat(reportData.executiveSummary.deliveryTime,\"-day delivery schedule</li>\\n            <li><strong>Submit Response:</strong> Submit formal RFP response</li>\\n          </ol>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>\\uD83D\\uDCCA Cost Breakdown</h2>\\n          <table>\\n            <thead>\\n              <tr>\\n                <th>Component</th>\\n                <th>Amount</th>\\n                <th>Percentage</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr>\\n                <td>Materials</td>\\n                <td>$\").concat((reportData.executiveSummary.totalCost*0.7).toLocaleString(),\"</td>\\n                <td>70%</td>\\n              </tr>\\n              <tr>\\n                <td>Testing & Quality</td>\\n                <td>$\").concat((reportData.executiveSummary.totalCost*0.15).toLocaleString(),\"</td>\\n                <td>15%</td>\\n              </tr>\\n              <tr>\\n                <td>Overhead & Margin</td>\\n                <td>$\").concat((reportData.executiveSummary.totalCost*0.15).toLocaleString(),\"</td>\\n                <td>15%</td>\\n              </tr>\\n              <tr style=\\\"font-weight: bold; background-color: #f3f4f6;\\\">\\n                <td>Total Investment</td>\\n                <td>$\").concat(reportData.executiveSummary.totalCost.toLocaleString(),\"</td>\\n                <td>100%</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n        \\n        <footer style=\\\"margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; text-align: center; color: #6b7280;\\\">\\n          <p>Generated by Agentic RFP Automation Platform</p>\\n          <p>Report ID: RPT-\").concat(Date.now(),\"</p>\\n        </footer>\\n      </body>\\n    </html>\\n  \"));// Auto-focus the print window\nprintWindow.focus();// Show instruction\nshowNotification('Report opened in new window. Click \"Print as PDF\" to save as PDF file.','success');};const generateCSVContent=reportData=>{// Generate proper CSV content for Excel\nconst csvHeader='Vendor,Final Cost,Reliability,Lead Time,Match Score,Status\\n';const csvData=\"\".concat(reportData.executiveSummary.recommendedVendor,\",$\").concat(reportData.executiveSummary.totalCost,\",95%,\").concat(reportData.executiveSummary.deliveryTime,\" days,\").concat(reportData.executiveSummary.matchScore,\"%,Recommended\\n\");const csvData2='Asian Paints,$49263,95%,7 days,89%,Alternative\\n';const csvData3='Berger Paints,$44636,91%,10 days,87%,Alternative\\n';const csvData4='Nerolac Paints,$51037,91%,8 days,85%,Alternative\\n';return csvHeader+csvData+csvData2+csvData3+csvData4;};const downloadFile=(content,filename,mimeType)=>{const blob=new Blob([content],{type:mimeType});const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);// Show success message with better styling\nshowNotification(\"\".concat(filename,\" has been downloaded successfully!\"),'success');};// History Tab Functions\nconst viewRfpDetails=rfpItem=>{console.log('Viewing RFP details:',rfpItem);// Create a modal with RFP details\nconst detailsWindow=window.open('','_blank','width=900,height=700');detailsWindow.document.write(\"\\n    <html>\\n      <head>\\n        <title>RFP Details - \".concat(rfpItem.rfpTitle,\"</title>\\n        <style>\\n          body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }\\n          .header { color: #4f46e5; border-bottom: 2px solid #4f46e5; padding-bottom: 10px; margin-bottom: 20px; }\\n          .section { margin: 20px 0; padding: 15px; border: 1px solid #e5e7eb; border-radius: 8px; }\\n          .status-\").concat(rfpItem.status.toLowerCase(),\" { \\n            background-color: \").concat(rfpItem.status==='Won'?'#dcfce7':rfpItem.status==='Lost'?'#fef2f2':'#fef3c7',\"; \\n            color: \").concat(rfpItem.status==='Won'?'#166534':rfpItem.status==='Lost'?'#991b1b':'#92400e',\";\\n            padding: 5px 10px; border-radius: 20px; font-weight: bold;\\n          }\\n          .metric { display: inline-block; margin: 10px 20px 10px 0; }\\n        </style>\\n      </head>\\n      <body>\\n        <div class=\\\"header\\\">\\n          <h1>\").concat(rfpItem.rfpTitle,\"</h1>\\n          <span class=\\\"status-\").concat(rfpItem.status.toLowerCase(),\"\\\">\").concat(rfpItem.status,\"</span>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>Project Overview</h2>\\n          <div class=\\\"metric\\\"><strong>Submitted:</strong> \").concat(rfpItem.submittedDate,\"</div>\\n          <div class=\\\"metric\\\"><strong>Value:</strong> \").concat(rfpItem.value,\"</div>\\n          <div class=\\\"metric\\\"><strong>Vendor:</strong> \").concat(rfpItem.vendor,\"</div>\\n          <div class=\\\"metric\\\"><strong>Match Score:</strong> \").concat(rfpItem.matchScore,\"%</div>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>Technical Analysis</h2>\\n          <p>This RFP was processed using our multi-agent system with the following results:</p>\\n          <ul>\\n            <li><strong>Sales Agent:</strong> Successfully extracted requirements</li>\\n            <li><strong>Technical Agent:</strong> Achieved \").concat(rfpItem.matchScore,\"% specification match</li>\\n            <li><strong>Pricing Agent:</strong> Optimized cost structure</li>\\n            <li><strong>Main Agent:</strong> Orchestrated comprehensive response</li>\\n          </ul>\\n        </div>\\n        \\n        <div class=\\\"section\\\">\\n          <h2>Outcome Analysis</h2>\\n          <p><strong>Result:</strong> \").concat(rfpItem.status,\"</p>\\n          <p><strong>Key Factors:</strong></p>\\n          <ul>\\n            \").concat(rfpItem.status==='Won'?'<li>Competitive pricing strategy</li><li>High technical match score</li><li>Optimal vendor selection</li>':'<li>Market competition analysis</li><li>Areas for improvement identified</li><li>Lessons learned documented</li>',\"\\n          </ul>\\n        </div>\\n      </body>\\n    </html>\\n  \"));};const downloadHistoryReport=rfpItem=>{console.log('Downloading history report for:',rfpItem);const reportContent=\"RFP RESPONSE REPORT\\n===================\\n\\nProject: \".concat(rfpItem.rfpTitle,\"\\nSubmitted: \").concat(rfpItem.submittedDate,\"\\nStatus: \").concat(rfpItem.status,\"\\nValue: \").concat(rfpItem.value,\"\\nVendor: \").concat(rfpItem.vendor,\"\\nMatch Score: \").concat(rfpItem.matchScore,\"%\\n\\nEXECUTIVE SUMMARY\\n================\\nThis RFP was processed through our automated multi-agent system.\\nThe technical match score of \").concat(rfpItem.matchScore,\"% indicates \").concat(rfpItem.matchScore>85?'excellent':rfpItem.matchScore>70?'good':'moderate',\" alignment with requirements.\\n\\nOUTCOME\\n=======\\nFinal Result: \").concat(rfpItem.status,\"\\n\").concat(rfpItem.status==='Won'?'Successfully secured this project through optimal vendor selection and competitive pricing.':rfpItem.status==='Lost'?'Project not secured. Analysis indicates areas for improvement in future bids.':'Response submitted and awaiting client decision.',\"\\n\\nGenerated by Agentic RFP Automation Platform\\nReport Date: \").concat(new Date().toLocaleDateString(),\"\\n\");downloadFile(reportContent,\"RFP_Report_\".concat(rfpItem.id,\"_\").concat(Date.now(),\".txt\"),'text/plain');};// Notification System\nconst showNotification=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';// Create notification element\nconst notification=document.createElement('div');notification.className=\"fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 \".concat(type==='success'?'bg-green-500 text-white':type==='error'?'bg-red-500 text-white':'bg-blue-500 text-white');notification.textContent=message;// Add to page\ndocument.body.appendChild(notification);// Remove after 3 seconds\nsetTimeout(()=>{notification.style.opacity='0';setTimeout(()=>{if(document.body.contains(notification)){document.body.removeChild(notification);}},300);},3000);};const parseRFPRequirements=function(text){var _nlpEntities$deadline,_nlpEntities$deadline2;let nlpEntities=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;console.log('Parsing RFP text with NLP enhancement...');// Use NLP entities if available\nconst areas=(nlpEntities===null||nlpEntities===void 0?void 0:nlpEntities.quantities)||[];const coverages=(nlpEntities===null||nlpEntities===void 0?void 0:nlpEntities.coverages)||[];const costs=(nlpEntities===null||nlpEntities===void 0?void 0:nlpEntities.costs)||[];const materials=(nlpEntities===null||nlpEntities===void 0?void 0:nlpEntities.materials)||[];const certifications=(nlpEntities===null||nlpEntities===void 0?void 0:nlpEntities.certifications)||[];// Fallback to regex if NLP didn't find entities\nif(areas.length===0){const areaMatches=text.match(/(\\d+(?:,\\d{3})*)\\s*(?:sq\\s*ft|sqft|square\\s*feet)/gi)||[];areas.push(...areaMatches.map(match=>parseInt(match.replace(/,/g,'').match(/\\d+/)[0])));}if(coverages.length===0){const coverageMatches=text.match(/(\\d+)\\s*(?:sq\\s*ft\\s*per\\s*liter|sqft\\/liter)/gi)||[];coverages.push(...coverageMatches.map(match=>parseInt(match.match(/\\d+/)[0])));}if(costs.length===0){const moneyMatches=text.match(/\\$\\s*(\\d+(?:,\\d{3})*(?:\\.\\d{2})?)/g)||[];costs.push(...moneyMatches.map(match=>parseFloat(match.replace(/[\\$,]/g,''))));}const requirements=[];// Create requirements based on extracted data\nif(areas.length===0){areas.push(25000,20000);// Default areas\n}requirements.push({id:'A',area:areas[0]||25000,specs:{finish:'Matt',coverage:coverages[0]||130,minDurability:10,category:'Exterior',materials:materials.length>0?materials:['paint'],certifications:certifications}},{id:'B',area:areas[1]||20000,specs:{finish:'Silk',coverage:110,minDurability:8,laborFee:costs[0]||3000,category:'Interior',materials:materials.length>0?materials:['paint'],certifications:certifications}});// Use NLP-extracted deadline if available\nlet deadline=(nlpEntities===null||nlpEntities===void 0?void 0:(_nlpEntities$deadline=nlpEntities.deadlines)===null||_nlpEntities$deadline===void 0?void 0:_nlpEntities$deadline[0])||'2024-12-15';// Fallback to regex\nif(!(nlpEntities!==null&&nlpEntities!==void 0&&(_nlpEntities$deadline2=nlpEntities.deadlines)!==null&&_nlpEntities$deadline2!==void 0&&_nlpEntities$deadline2.length)){const deadlineMatch=text.match(/(?:deadline|due|completion).*?(\\d{4}-\\d{2}-\\d{2}|\\d{1,2}\\/\\d{1,2}\\/\\d{4}|\\d{1,2}-\\d{1,2}-\\d{4})/i);if(deadlineMatch){const dateStr=deadlineMatch[1];if(dateStr.includes('/')){const[month,day,year]=dateStr.split('/');deadline=\"\".concat(year,\"-\").concat(month.padStart(2,'0'),\"-\").concat(day.padStart(2,'0'));}else if(dateStr.includes('-')&&dateStr.length===10){deadline=dateStr;}}}const totalSqFt=areas.reduce((sum,area)=>sum+area,0)||50000;console.log(\"\\u2705 Parsed \".concat(requirements.length,\" requirements, total area: \").concat(totalSqFt,\" sq ft\"));return{deadline,totalSqFt,requirements};};const calculateRiskLevel=deadline=>{const today=new Date();const deadlineDate=new Date(deadline);const daysLeft=Math.ceil((deadlineDate-today)/(1000*60*60*24));if(daysLeft<30)return'High';if(daysLeft<60)return'Medium';return'Low';};const calculateOverallMatchScore=matchedRequirements=>{const scores=matchedRequirements.flatMap(req=>Object.values(req.vendorMatches).map(match=>match.matchScore));return scores.length>0?Math.round(scores.reduce((a,b)=>a+b,0)/scores.length):0;};const calculateVendorScore=(price,reliability,leadTime)=>{const priceScore=Math.max(0,100-price/1000);const reliabilityScore=reliability;const timeScore=Math.max(0,100-leadTime*2);return priceScore*0.4+reliabilityScore*0.4+timeScore*0.2;};// Win Probability Calculator - Enhanced with Historical Data\nconst calculateWinProbability=rfpAnalysis=>{var _rfpAnalysis$pricingD,_rfpAnalysis$pricingD2,_rfpAnalysis$pricingD3;const matchScore=rfpAnalysis.overallMatchScore||75;const avgReliability=((_rfpAnalysis$pricingD=rfpAnalysis.pricingDetails)===null||_rfpAnalysis$pricingD===void 0?void 0:_rfpAnalysis$pricingD.avgReliability)||90;const competitiveScore=((_rfpAnalysis$pricingD2=rfpAnalysis.pricingDetails)===null||_rfpAnalysis$pricingD2===void 0?void 0:_rfpAnalysis$pricingD2.score)||75;const vendor=rfpAnalysis.recommendedVendor;const finalPrice=((_rfpAnalysis$pricingD3=rfpAnalysis.pricingDetails)===null||_rfpAnalysis$pricingD3===void 0?void 0:_rfpAnalysis$pricingD3.finalPrice)||50000;// Get historical prediction\nconsole.log('ðŸ“Š Analyzing historical data for win probability...');const historicalProbability=historicalDataAnalyzer.predictWinProbability(matchScore,finalPrice,vendor);console.log(\"\\uD83D\\uDCC8 Historical win probability: \".concat(historicalProbability.toFixed(1),\"%\"));// Get vendor performance\nconst vendorPerf=historicalDataAnalyzer.getVendorPerformance(vendor);const vendorWinRate=(vendorPerf===null||vendorPerf===void 0?void 0:vendorPerf.winRate)||72;console.log(\"\\uD83C\\uDFC6 \".concat(vendor,\" historical win rate: \").concat(vendorWinRate.toFixed(1),\"%\"));// Calculate factors\nconst factors={matchScore:matchScore,pricingCompetitiveness:avgReliability*0.4+competitiveScore*0.6,deadlineCompliance:85,// Default good compliance\nhistoricalSuccess:historicalProbability};// Weighted formula with historical data\nconst winProbability=factors.matchScore*0.35+factors.pricingCompetitiveness*0.30+factors.deadlineCompliance*0.20+factors.historicalSuccess*0.15;const probability=Math.round(winProbability);// Generate recommendation\nlet recommendation;if(probability>=80){recommendation={level:'ðŸŸ¢ HIGH',message:'Strongly recommend bidding - Excellent win potential',action:'Proceed with confidence'};}else if(probability>=60){recommendation={level:'ðŸŸ¡ MEDIUM',message:'Consider bidding with optimizations',action:'Review pricing and timeline for improvements'};}else if(probability>=40){recommendation={level:'ðŸŸ  LOW',message:'Risky - Requires strategic pricing adjustments',action:'Significant optimization needed'};}else{recommendation={level:'ðŸ”´ VERY LOW',message:'Not recommended unless strategic value exists',action:'Consider passing or major strategy revision'};}// Get price forecast\nconst priceForecast=historicalDataAnalyzer.forecastPrice(rfpAnalysis.totalSqFt||50000,vendor);return{probability:probability,confidence:probability>=75?'High':probability>=55?'Medium':'Low',factors:factors,recommendation:recommendation,riskLevel:probability>=75?'Low Risk':probability>=55?'Medium Risk':'High Risk',historicalInsights:{vendorWinRate:vendorWinRate.toFixed(1),historicalProbability:historicalProbability.toFixed(1),priceForecast:priceForecast}};};// --- MAIN APPLICATION COMPONENT ---\nconst statusMap={IDLE:{text:\"System Ready\",icon:Search},SCANNING:{text:\"Sales Agent: Scanning for RFP Opportunities\",icon:Globe},UPLOADING:{text:\"Sales Agent: Processing PDF Upload\",icon:Upload},SALES_SCANNING:{text:\"Sales Agent: Analyzing Requirements\",icon:Search},TECHNICAL_MATCHING:{text:\"Technical Agent: Spec Matching & Scoring\",icon:Sliders},PRICING_CALCULATING:{text:\"Pricing Agent: Cost Optimization\",icon:DollarSign},ORCHESTRATING:{text:\"Main Agent: Orchestrating Final Response\",icon:Zap},COMPLETE:{text:\"RFP Response Generated Successfully!\",icon:CheckCircle},ERROR:{text:\"Workflow Error\",icon:AlertCircle}};const App=()=>{var _statusMap$status;const[status,setStatus]=useState('IDLE');const[orchestratorOutput,setOrchestratorOutput]=useState(null);const[rfpText,setRfpText]=useState('');const[activeTab,setActiveTab]=useState('dashboard');const[uploadedFile,setUploadedFile]=useState(null);const[detectedRfps,setDetectedRfps]=useState(DETECTED_RFPS);const[selectedRfp,setSelectedRfp]=useState(null);const[scannerResults,setScannerResults]=useState(null);const[selectedCurrency,setSelectedCurrency]=useState('USD');const[knowledgeGraphInitialized,setKnowledgeGraphInitialized]=useState(false);const fileInputRef=useRef(null);// Default RFP text\nconst DEFAULT_RFP=\"REQUEST FOR PROPOSAL - Tender #PP-2024-001 | Commercial Building Paint Project\\nDeadline: 2024-12-15\\n\\nPROJECT REQUIREMENTS:\\nWe require painting services for a 50,000 sq ft commercial building complex.\\n\\nRequirement A: Exterior Walls (25,000 sq ft)\\n- Finish Type: Weather-resistant Matt or Smooth finish\\n- Coverage: Minimum 120 sq ft per liter\\n- Durability: Must last minimum 10 years\\n- Application: Spray/Roller application\\n\\nRequirement B: Interior Walls (25,000 sq ft)\\n- Finish Type: Silk or Satin finish preferred\\n- Coverage: Minimum 100 sq ft per liter  \\n- Durability: Minimum 8 years expected life\\n- Note: Include primer cost and labor charges of $5000.\";// Initialize with default text\nuseEffect(()=>{if(!rfpText){setRfpText(DEFAULT_RFP);}},[rfpText]);// Initialize knowledge graph and historical data\nuseEffect(()=>{if(!knowledgeGraphInitialized){console.log('ðŸ§  Initializing Knowledge Graph...');buildKnowledgeGraph(PRODUCT_REPOSITORY);console.log('âœ… Knowledge Graph initialized');console.log('ðŸ“Š Initializing Historical Data...');initializeHistoricalData();console.log('âœ… Historical Data initialized');setKnowledgeGraphInitialized(true);}},[knowledgeGraphInitialized]);// Auto-scan simulation (simplified)\nuseEffect(()=>{const interval=setInterval(async()=>{if(status==='IDLE'){// Simulate periodic RFP discovery\nconst mockResults={scannedSources:RFP_SOURCES.length,newRfpsFound:Math.floor(Math.random()*3),totalActive:DETECTED_RFPS.length,newRfps:[]};setScannerResults(mockResults);}},30000);// Scan every 30 seconds\nreturn()=>clearInterval(interval);},[status]);// File upload handler\nconst handleFileUpload=async event=>{const file=event.target.files[0];if(file&&file.type==='application/pdf'){setUploadedFile(file);setStatus('UPLOADING');try{const extractedText=await extractTextFromPDF(file);setRfpText(extractedText);setStatus('IDLE');}catch(error){console.error('PDF processing failed:',error);setStatus('ERROR');}}};// Manual RFP scan trigger (simplified)\nconst triggerRfpScan=async()=>{setStatus('SCANNING');try{await delay(2000);const results={scannedSources:RFP_SOURCES.length,newRfpsFound:Math.floor(Math.random()*5)+1,totalActive:DETECTED_RFPS.length+Math.floor(Math.random()*3),newRfps:[]};setScannerResults(results);setStatus('IDLE');}catch(error){console.error('RFP scanning failed:',error);setStatus('ERROR');}};// Main orchestrator function - Enhanced workflow with audit logging and win probability\nconst runOrchestrator=useCallback(async function(){let inputRfp=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(status!=='IDLE'&&status!=='COMPLETE')return;const rfpId=\"RFP_\".concat(Date.now());// Log workflow start\nauditLogger.logAgentAction('System','Workflow Started',{rfpId,inputType:uploadedFile?'PDF Upload':'Text Input'},'Initiating multi-agent RFP processing workflow');setStatus('SALES_SCANNING');setOrchestratorOutput(null);try{// Step 1: Sales Agent Analysis\nauditLogger.logAgentAction('Sales Agent','Processing Started',{rfpId},'Analyzing RFP and extracting requirements');const salesResult=await salesAgent(inputRfp||rfpText,!!uploadedFile);auditLogger.logAgentAction('Sales Agent','Processing Complete',{rfpId,requirementsFound:salesResult.requirements.length},\"Extracted \".concat(salesResult.requirements.length,\" requirements\"));setStatus('TECHNICAL_MATCHING');// Step 2: Technical Agent Spec Matching\nauditLogger.logAgentAction('Technical Agent','Matching Started',{rfpId},'Performing specification matching across vendors');const technicalResult=await technicalAgent(salesResult);auditLogger.logAgentAction('Technical Agent','Matching Complete',{rfpId,matchScore:technicalResult.overallMatchScore},\"Achieved \".concat(technicalResult.overallMatchScore,\"% match score\"));setStatus('PRICING_CALCULATING');// Step 3: Pricing Agent Cost Calculation\nauditLogger.logAgentAction('Pricing Agent','Pricing Started',{rfpId},'Calculating comprehensive pricing');const pricingResult=await pricingAgent(technicalResult);auditLogger.logAgentAction('Pricing Agent','Pricing Complete',{rfpId,vendor:pricingResult.recommendedVendor,price:pricingResult.pricingDetails.finalPrice},\"Recommended \".concat(pricingResult.recommendedVendor,\" at $\").concat(pricingResult.pricingDetails.finalPrice.toLocaleString()));setStatus('ORCHESTRATING');// Step 4: Main Agent (Orchestrator) - Final compilation\nauditLogger.logAgentAction('Main Agent','Orchestration Started',{rfpId},'Compiling final report and calculating win probability');const reportResult=await mainAgent(pricingResult);// Calculate Win Probability\nconst winProbability=calculateWinProbability(pricingResult);auditLogger.logAgentAction('Main Agent','Win Probability Calculated',{rfpId,probability:winProbability.probability},\"Win probability: \".concat(winProbability.probability,\"% (\").concat(winProbability.recommendation.level,\")\"));// Final output compilation\nawait delay(500);const finalOutput=_objectSpread(_objectSpread({},pricingResult),{},{report:reportResult,winProbability:winProbability,rfpId:rfpId,auditTrail:auditLogger.getAuditTrail(rfpId)});auditLogger.logAgentAction('Main Agent','Orchestration Complete',{rfpId},'RFP response generated successfully');setOrchestratorOutput(finalOutput);setStatus('COMPLETE');// Update RFP status if processing detected RFP\nif(selectedRfp){setDetectedRfps(prev=>prev.map(rfp=>rfp.id===selectedRfp.id?_objectSpread(_objectSpread({},rfp),{},{status:'responded',matchScore:finalOutput.overallMatchScore}):rfp));}}catch(error){console.error(\"Agent Workflow Failed:\",error);auditLogger.logAgentAction('System','Workflow Failed',{rfpId,error:error.message},\"Error: \".concat(error.message));setOrchestratorOutput({error:error.message||\"Unknown error during processing.\"});setStatus('ERROR');}},[rfpText,uploadedFile,status,selectedRfp]);const CurrentIcon=(_statusMap$status=statusMap[status])===null||_statusMap$status===void 0?void 0:_statusMap$status.icon;return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 p-6 font-inter antialiased\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"text-center py-8 bg-white rounded-xl shadow-lg mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-black text-indigo-700\",children:\"Agentic RFP Automation Platform\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-2\",children:\"End-to-End Automated RFP Response \\u2022 Multi-Agent Workflow \\u2022 Real-time Analytics\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-lg mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b overflow-x-auto\",children:[/*#__PURE__*/_jsx(TabButton,{active:activeTab==='dashboard',onClick:()=>setActiveTab('dashboard'),icon:BarChart3,text:\"Live Dashboard\"}),/*#__PURE__*/_jsx(TabButton,{active:activeTab==='rfp-scanner',onClick:()=>setActiveTab('rfp-scanner'),icon:Globe,text:\"RFP Scanner\"}),/*#__PURE__*/_jsx(TabButton,{active:activeTab==='workflow',onClick:()=>setActiveTab('workflow'),icon:Zap,text:\"Agent Workflow\"}),/*#__PURE__*/_jsx(TabButton,{active:activeTab==='analytics',onClick:()=>setActiveTab('analytics'),icon:TrendingUp,text:\"Analytics\"}),/*#__PURE__*/_jsx(TabButton,{active:activeTab==='vendors',onClick:()=>setActiveTab('vendors'),icon:Users,text:\"Vendor Analysis\"}),/*#__PURE__*/_jsx(TabButton,{active:activeTab==='history',onClick:()=>setActiveTab('history'),icon:History,text:\"Response History\"})]})}),activeTab==='dashboard'&&/*#__PURE__*/_jsx(DashboardTab,{status:status,CurrentIcon:CurrentIcon,statusMap:statusMap,detectedRfps:detectedRfps,scannerResults:scannerResults,triggerRfpScan:triggerRfpScan,orchestratorOutput:orchestratorOutput,setActiveTab:setActiveTab,fileInputRef:fileInputRef}),activeTab==='rfp-scanner'&&/*#__PURE__*/_jsx(RfpScannerTab,{detectedRfps:detectedRfps,setSelectedRfp:setSelectedRfp,selectedRfp:selectedRfp,runOrchestrator:runOrchestrator,scannerResults:scannerResults,triggerRfpScan:triggerRfpScan}),activeTab==='workflow'&&/*#__PURE__*/_jsx(WorkflowTab,{status:status,CurrentIcon:CurrentIcon,statusMap:statusMap,runOrchestrator:runOrchestrator,rfpText:rfpText,setRfpText:setRfpText,handleFileUpload:handleFileUpload,fileInputRef:fileInputRef,uploadedFile:uploadedFile,orchestratorOutput:orchestratorOutput}),activeTab==='analytics'&&/*#__PURE__*/_jsx(AnalyticsTab,{}),activeTab==='vendors'&&orchestratorOutput&&/*#__PURE__*/_jsx(VendorComparisonTab,{orchestratorOutput:orchestratorOutput}),activeTab==='history'&&/*#__PURE__*/_jsx(HistoryTab,{})]})});};// --- TAB COMPONENTS ---\nconst TabButton=_ref4=>{let{active,onClick,icon:Icon,text}=_ref4;return/*#__PURE__*/_jsxs(\"button\",{onClick:onClick,className:\"flex items-center px-4 py-3 font-semibold transition-all whitespace-nowrap \".concat(active?'text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50':'text-gray-500 hover:text-gray-700'),children:[/*#__PURE__*/_jsx(Icon,{className:\"w-4 h-4 mr-2\"}),text]});};// 1. Live Dashboard Tab\nconst DashboardTab=_ref5=>{var _statusMap$status2;let{status,CurrentIcon,statusMap,detectedRfps,scannerResults,triggerRfpScan,orchestratorOutput,setActiveTab,fileInputRef}=_ref5;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(CurrentIcon,{className:\"w-8 h-8 \".concat(status==='COMPLETE'?'text-green-500':status==='IDLE'?'text-gray-400':'text-indigo-500 animate-spin-slow')}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:\"System Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(status==='COMPLETE'?'text-green-700':'text-gray-600'),children:(_statusMap$status2=statusMap[status])===null||_statusMap$status2===void 0?void 0:_statusMap$status2.text})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:triggerRfpScan,disabled:status!=='IDLE',className:\"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(Globe,{className:\"w-4 h-4 mr-2\"}),\"Scan RFPs\"]})]}),scannerResults&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:scannerResults.scannedSources}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Sources Scanned\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:scannerResults.newRfpsFound}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"New RFPs Found\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-600\",children:scannerResults.totalActive}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Total Active RFPs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-orange-600\",children:detectedRfps.filter(rfp=>rfp.status==='responded').length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Responses Generated\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:\"Recent RFP Opportunities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:detectedRfps.slice(0,3).map(rfp=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800\",children:rfp.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[rfp.source,\" \\u2022 \",rfp.value,\" \\u2022 \",rfp.daysLeft,\" days left\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-bold \".concat(rfp.status==='new'?'bg-blue-100 text-blue-800':rfp.status==='analyzed'?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'),children:rfp.status.toUpperCase()}),rfp.matchScore&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-bold text-indigo-600\",children:[rfp.matchScore,\"% Match\"]})]})]},rfp.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg text-center\",children:[/*#__PURE__*/_jsx(Globe,{className:\"w-12 h-12 text-indigo-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Auto-Scan RFPs\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Continuously monitor configured sources for new opportunities\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log('Configure Sources clicked');setActiveTab('rfp-scanner');},className:\"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition-colors\",children:\"Configure Sources\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg text-center\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-12 h-12 text-green-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Upload RFP\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Process individual RFP documents manually\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log('Upload Document clicked');setActiveTab('workflow');setTimeout(()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},100);},className:\"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors\",children:\"Upload Document\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg text-center\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-12 h-12 text-purple-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Export Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Download generated responses and analytics\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log('View Reports clicked');setActiveTab('history');},className:\"w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors\",children:\"View Reports\"})]})]})]});};// 2. RFP Scanner Tab\nconst RfpScannerTab=_ref6=>{let{detectedRfps,setSelectedRfp,selectedRfp,runOrchestrator,scannerResults,triggerRfpScan}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:\"RFP Detection & Scanning\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:triggerRfpScan,className:\"flex items-center px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2\"}),\"Refresh Scan\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",children:RFP_SOURCES.map(source=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800\",children:source.name}),/*#__PURE__*/_jsx(\"span\",{className:\"w-3 h-3 rounded-full \".concat(source.status==='active'?'bg-green-500':source.status==='scanning'?'bg-yellow-500':'bg-red-500')})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:source.url}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Last scan: \",source.lastScan]}),/*#__PURE__*/_jsxs(\"span\",{children:[source.rfpsFound,\" RFPs found\"]})]})]},source.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:\"Detected RFP Opportunities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"RFP Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Source\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Value\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Deadline\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Match Score\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:detectedRfps.map(rfp=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50 \".concat((selectedRfp===null||selectedRfp===void 0?void 0:selectedRfp.id)===rfp.id?'bg-indigo-50':''),children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-800\",children:rfp.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[rfp.requirements.area.toLocaleString(),\" sq ft \\u2022 \",rfp.requirements.type]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-gray-600\",children:rfp.source}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 font-semibold text-green-600\",children:rfp.value}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-800\",children:rfp.deadline}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs \".concat(rfp.daysLeft<30?'text-red-500':rfp.daysLeft<60?'text-yellow-500':'text-green-500'),children:[rfp.daysLeft,\" days left\"]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-bold \".concat(rfp.status==='new'?'bg-blue-100 text-blue-800':rfp.status==='analyzed'?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'),children:rfp.status.toUpperCase()})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:rfp.matchScore?/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-indigo-600\",children:[rfp.matchScore,\"%\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"-\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedRfp(rfp),className:\"px-3 py-1 bg-indigo-600 text-white text-xs rounded hover:bg-indigo-700\",children:\"Select\"}),(selectedRfp===null||selectedRfp===void 0?void 0:selectedRfp.id)===rfp.id&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>runOrchestrator(rfp.title),className:\"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700\",children:\"Process\"})]})})]},rfp.id))})]})})]})]});};// 3. Enhanced Workflow Tab\nconst WorkflowTab=_ref7=>{var _statusMap$status3;let{status,CurrentIcon,statusMap,runOrchestrator,rfpText,setRfpText,handleFileUpload,fileInputRef,uploadedFile,orchestratorOutput}=_ref7;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(CurrentIcon,{className:\"w-8 h-8 \".concat(status==='COMPLETE'?'text-green-500':status==='IDLE'?'text-gray-400':'text-indigo-500 animate-spin-slow')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-semibold \".concat(status==='COMPLETE'?'text-green-700':'text-gray-800'),children:(_statusMap$status3=statusMap[status])===null||_statusMap$status3===void 0?void 0:_statusMap$status3.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _fileInputRef$current2;return(_fileInputRef$current2=fileInputRef.current)===null||_fileInputRef$current2===void 0?void 0:_fileInputRef$current2.click();},className:\"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4 mr-2\"}),\"Upload PDF\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>runOrchestrator(),disabled:status!=='IDLE'&&status!=='COMPLETE'&&status!=='ERROR',className:\"flex items-center px-6 py-2 rounded-lg text-white font-bold transition-all \".concat(status==='IDLE'||status==='COMPLETE'||status==='ERROR'?'bg-indigo-600 hover:bg-indigo-700 shadow-md hover:shadow-lg':'bg-gray-400 cursor-not-allowed opacity-75'),children:[/*#__PURE__*/_jsx(Zap,{className:\"w-5 h-5 mr-2\"}),status==='COMPLETE'?'Process Another':'Start Agent Workflow']})]})]}),uploadedFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-green-700 mb-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"PDF Processed: \",uploadedFile.name]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600\",children:\"\\u2713 Text extraction completed - Requirements parsed from PDF content\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-green-500 mt-1\",children:[\"File size: \",(uploadedFile.size/1024).toFixed(1),\" KB\"]})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,onChange:handleFileUpload,accept:\".pdf\",className:\"hidden\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800 mb-4 border-b pb-2\",children:\"RFP Input\"}),/*#__PURE__*/_jsx(\"textarea\",{value:rfpText,onChange:e=>setRfpText(e.target.value),className:\"w-full h-80 p-3 border border-gray-200 rounded-lg text-sm font-mono resize-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",placeholder:\"Paste RFP text here or upload a PDF...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800 mb-4 border-b pb-2\",children:\"Multi-Agent Workflow\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(WorkflowStep,{status:status,stepKey:\"SALES_SCANNING\",title:\"Sales Agent\",description:\"RFP analysis and requirement extraction\"}),/*#__PURE__*/_jsx(WorkflowStep,{status:status,stepKey:\"TECHNICAL_MATCHING\",title:\"Technical Agent\",description:\"Spec matching across Asian Paints, Berger Paints, Nerolac Paints\"}),/*#__PURE__*/_jsx(WorkflowStep,{status:status,stepKey:\"PRICING_CALCULATING\",title:\"Pricing Agent\",description:\"Cost optimization with testing requirements\"}),/*#__PURE__*/_jsx(WorkflowStep,{status:status,stepKey:\"ORCHESTRATING\",title:\"Main Agent (Orchestrator)\",description:\"Final workflow orchestration and report generation\"})]})]})]}),orchestratorOutput&&/*#__PURE__*/_jsx(EnhancedResultsPanel,{orchestratorOutput:orchestratorOutput})]});};// 4. Enhanced Analytics Tab\nconst AnalyticsTab=()=>{const COLORS=['#8884d8','#82ca9d','#ffc658','#ff7300','#00ff00'];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-5 gap-6\",children:[/*#__PURE__*/_jsx(MetricCard,{title:\"RFPs Processed\",value:\"156\",change:\"+23%\",icon:FileText,color:\"bg-blue-500\"}),/*#__PURE__*/_jsx(MetricCard,{title:\"Win Rate\",value:\"78%\",change:\"+12%\",icon:Award,color:\"bg-green-500\"}),/*#__PURE__*/_jsx(MetricCard,{title:\"Avg Response Time\",value:\"2.4hrs\",change:\"-35%\",icon:Clock,color:\"bg-purple-500\"}),/*#__PURE__*/_jsx(MetricCard,{title:\"Match Accuracy\",value:\"94%\",change:\"+8%\",icon:Target,color:\"bg-orange-500\"}),/*#__PURE__*/_jsx(MetricCard,{title:\"Total Value Won\",value:\"$2.1M\",change:\"+45%\",icon:DollarSign,color:\"bg-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:\"RFP Processing Pipeline\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:[{stage:'Detected',count:45},{stage:'Analyzed',count:38},{stage:'Matched',count:32},{stage:'Priced',count:28},{stage:'Submitted',count:25}],children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"stage\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"count\",stroke:\"#8884d8\",strokeWidth:3})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:\"Vendor Success Rates\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:[{vendor:'Asian Paints',winRate:72,avgScore:89},{vendor:'Berger Paints',winRate:75,avgScore:91},{vendor:'Nerolac Paints',winRate:68,avgScore:87}],children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"vendor\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"winRate\",fill:\"#8884d8\",name:\"Win Rate %\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"avgScore\",fill:\"#82ca9d\",name:\"Avg Match Score\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:\"Agent Performance Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Agent\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Tasks Completed\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Avg Processing Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Accuracy Rate\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Performance Score\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 font-medium\",children:\"Sales Agent\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:\"156\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:\"45 seconds\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\",children:\"96%\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 bg-gray-200 rounded-full h-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full\",style:{width:'96%'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"96\"})]})})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 font-medium\",children:\"Technical Agent\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:\"142\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:\"2.1 minutes\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\",children:\"94%\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 bg-gray-200 rounded-full h-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full\",style:{width:'94%'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"94\"})]})})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 font-medium\",children:\"Pricing Agent\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:\"138\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:\"1.8 minutes\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\",children:\"98%\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 bg-gray-200 rounded-full h-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full\",style:{width:'98%'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"98\"})]})})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 font-medium\",children:\"Main Agent\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:\"138\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:\"1.2 minutes\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\",children:\"99%\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 bg-gray-200 rounded-full h-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full\",style:{width:'99%'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"99\"})]})})]})]})]})})]})]});};// 5. Vendor Comparison Tab\nconst VendorComparisonTab=_ref8=>{let{orchestratorOutput}=_ref8;if(!(orchestratorOutput!==null&&orchestratorOutput!==void 0&&orchestratorOutput.vendorQuotes)){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-xl shadow-lg text-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-16 h-16 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-600 mb-2\",children:\"No Vendor Analysis Available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Process an RFP first to see detailed vendor comparisons.\"})]});}const quotes=Object.values(orchestratorOutput.vendorQuotes);const recommended=orchestratorOutput.recommendedVendor;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-2\",children:\"Recommended Vendor\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-100\",children:\"Optimal choice based on price, reliability, and delivery\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-black\",children:recommended}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-green-100\",children:[\"Match Score: \",orchestratorOutput.overallMatchScore,\"%\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:quotes.map(quote=>/*#__PURE__*/_jsx(VendorCard,{quote:quote,isRecommended:quote.vendor===recommended},quote.vendor))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:\"Comprehensive Vendor Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Vendor\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Final Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Testing Costs\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Reliability\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Lead Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4\",children:\"Overall Score\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:quotes.map(quote=>{var _quote$totalTestingCo;return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50 \".concat(quote.vendor===recommended?'bg-green-50':''),children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:quote.vendor}),quote.vendor===recommended&&/*#__PURE__*/_jsx(Award,{className:\"w-4 h-4 text-green-500 ml-2\"})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-4 font-bold\",children:[\"$\",quote.finalPrice.toLocaleString()]}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-4\",children:[\"$\",((_quote$totalTestingCo=quote.totalTestingCosts)===null||_quote$totalTestingCo===void 0?void 0:_quote$totalTestingCo.toFixed(2))||'0.00']}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-4\",children:[quote.avgReliability,\"%\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-4\",children:[quote.maxLeadTime,\" days\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-bold \".concat(quote.vendor===recommended?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:quote.score.toFixed(1)})})]},quote.vendor);})})]})})]})]});};// 6. History Tab\nconst HistoryTab=()=>/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6\",children:\"RFP Response History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:RFP_HISTORY.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800\",children:item.rfpTitle}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-bold \".concat(item.status==='Won'?'bg-green-100 text-green-800':item.status==='Lost'?'bg-red-100 text-red-800':'bg-yellow-100 text-yellow-800'),children:item.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Submitted:\"}),\" \",item.submittedDate]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Value:\"}),\" \",item.value]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Vendor:\"}),\" \",item.vendor]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Match Score:\"}),\" \",item.matchScore,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>viewRfpDetails(item),className:\"px-3 py-1 bg-indigo-600 text-white text-xs rounded hover:bg-indigo-700 transition-colors\",children:\"View Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadHistoryReport(item),className:\"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors\",children:\"Download Report\"})]})]},item.id))})]})});// --- UTILITY COMPONENTS ---\nconst MetricCard=_ref9=>{let{title,value,change,icon:Icon,color}=_ref9;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:value}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(change.startsWith('+')?'text-green-600':'text-red-600'),children:[change,\" from last month\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(color,\" p-3 rounded-lg\"),children:/*#__PURE__*/_jsx(Icon,{className:\"w-6 h-6 text-white\"})})]})});};const VendorCard=_ref0=>{var _quote$totalTestingCo2;let{quote,isRecommended}=_ref0;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border-2 transition-all \".concat(isRecommended?'border-green-500 ring-2 ring-green-200':'border-gray-200'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-800\",children:quote.vendor}),isRecommended&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold\",children:\"RECOMMENDED\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Final Price:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-lg\",children:[\"$\",quote.finalPrice.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Testing Costs:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"$\",((_quote$totalTestingCo2=quote.totalTestingCosts)===null||_quote$totalTestingCo2===void 0?void 0:_quote$totalTestingCo2.toFixed(2))||'0.00']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Reliability:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[quote.avgReliability,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Lead Time:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[quote.maxLeadTime,\" days\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Score:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold \".concat(isRecommended?'text-green-600':'text-gray-800'),children:[quote.score.toFixed(1),\"/100\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Material: $\",quote.subtotalCost.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Overhead: $\",quote.overheadCost.toFixed(2)]}),quote.volumeDiscount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-green-600\",children:[\"Volume Discount: -$\",quote.volumeDiscount.toFixed(2)]})]})})]});};const WorkflowStep=_ref1=>{let{status,stepKey,title,description}=_ref1;const isCurrent=status===stepKey;const isCompleted=['TECHNICAL_MATCHING','PRICING_CALCULATING','ORCHESTRATING','COMPLETE'].includes(status)&&(stepKey==='SALES_SCANNING'||stepKey==='TECHNICAL_MATCHING'&&['PRICING_CALCULATING','ORCHESTRATING','COMPLETE'].includes(status)||stepKey==='PRICING_CALCULATING'&&['ORCHESTRATING','COMPLETE'].includes(status)||stepKey==='ORCHESTRATING'&&status==='COMPLETE');let dotColor='bg-gray-300';if(isCompleted)dotColor='bg-green-500';if(isCurrent)dotColor='bg-indigo-500 animate-pulse';return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full mt-1.5 mr-4 \".concat(dotColor)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-base font-semibold \".concat(isCurrent?'text-indigo-600':isCompleted?'text-gray-700':'text-gray-500'),children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:description})]})]});};const EnhancedResultsPanel=_ref10=>{var _pricingDetails$total;let{orchestratorOutput}=_ref10;if(orchestratorOutput.error){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Error:\"}),/*#__PURE__*/_jsx(\"p\",{children:orchestratorOutput.error})]});}const{pricingDetails,recommendedVendor,vendorQuotes,report,overallMatchScore,winProbability}=orchestratorOutput;const vendorCount=Object.keys(vendorQuotes).length;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-6 h-6 text-green-500 mr-3\"}),\"Comprehensive RFP Response Generated\"]}),winProbability&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-6 rounded-xl border-2 \".concat(winProbability.probability>=80?'bg-green-50 border-green-500':winProbability.probability>=60?'bg-yellow-50 border-yellow-500':winProbability.probability>=40?'bg-orange-50 border-orange-500':'bg-red-50 border-red-500'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:[\"Win Probability: \",winProbability.probability,\"%\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold\",children:winProbability.recommendation.level}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mt-1\",children:winProbability.recommendation.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:[\"Confidence: \",winProbability.confidence]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Risk: \",winProbability.riskLevel]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 px-4 py-2 bg-white rounded-lg shadow\",children:/*#__PURE__*/_jsx(Target,{className:\"w-8 h-8 mx-auto text-indigo-600\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-4 gap-4 mt-4 pt-4 border-t\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Match Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold\",children:[winProbability.factors.matchScore.toFixed(0),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Pricing\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold\",children:[winProbability.factors.pricingCompetitiveness.toFixed(0),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Deadline\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold\",children:[winProbability.factors.deadlineCompliance.toFixed(0),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Historical\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold\",children:[winProbability.factors.historicalSuccess.toFixed(0),\"%\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-white rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-gray-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Recommended Action:\"}),\" \",winProbability.recommendation.action]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-indigo-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-indigo-600\",children:vendorCount}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Vendors Analyzed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:recommendedVendor}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Best Vendor\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-purple-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-purple-600\",children:[\"$\",pricingDetails.finalPrice.toLocaleString()]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Final Quote\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-orange-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-orange-600\",children:[overallMatchScore,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Match Score\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:pricingDetails.maxLeadTime}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Days Delivery\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-red-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-red-600\",children:[\"$\",((_pricingDetails$total=pricingDetails.totalTestingCosts)===null||_pricingDetails$total===void 0?void 0:_pricingDetails$total.toFixed(0))||'0']}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Testing Costs\"})]})]}),report&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-4\",children:\"Generated Reports & Data Export\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>downloadReport('pdf',report),className:\"flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-2\"}),\"PDF Report\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>downloadReport('excel',report),className:\"flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-2\"}),\"Excel Analysis\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>csvHandler.exportVendorQuotes(vendorQuotes),className:\"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(FileSpreadsheet,{className:\"w-4 h-4 mr-2\"}),\"Export CSV\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>viewExecutiveSummary(report),className:\"flex items-center justify-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 mr-2\"}),\"Summary\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-sm text-gray-600\",children:[\"\\uD83D\\uDCA1 \",/*#__PURE__*/_jsx(\"strong\",{children:\"New:\"}),\" Export vendor quotes to CSV for further analysis in Excel/Google Sheets\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-3\",children:\"Vendor Comparison Summary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:Object.values(vendorQuotes).map(quote=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg border-2 \".concat(quote.vendor===recommendedVendor?'border-green-500 bg-green-50':'border-gray-200 bg-gray-50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:quote.vendor}),quote.vendor===recommendedVendor&&/*#__PURE__*/_jsx(Award,{className:\"w-4 h-4 text-green-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"$\",quote.finalPrice.toLocaleString(),\" \\u2022 \",quote.avgReliability,\"% \\u2022 \",quote.maxLeadTime,\"d\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs mt-1\",children:[\"Score: \",quote.score.toFixed(1),\"/100\"]})]})]},quote.vendor))})]})]});};// PDF extraction utility (simplified for demo)\nconst extractTextFromPDF=async file=>{return new Promise(resolve=>{const reader=new FileReader();reader.onload=async e=>{// Simulate PDF processing\nsetTimeout(()=>{resolve(\"EXTRACTED FROM PDF: \".concat(file.name,\"\\n        \\nREQUEST FOR PROPOSAL - Custom Paint Project\\nDeadline: \").concat(new Date(Date.now()+45*24*60*60*1000).toISOString().split('T')[0],\"\\n\\nPROJECT REQUIREMENTS:\\nBased on uploaded PDF: \").concat(file.name,\"\\n\\nRequirement A: Exterior Painting (\").concat(Math.floor(Math.random()*20000)+25000,\" sq ft)\\n- Finish Type: Weather-resistant Matt finish\\n- Coverage: Minimum 130 sq ft per liter\\n- Durability: 12+ years expected life\\n\\nRequirement B: Interior Painting (\").concat(Math.floor(Math.random()*15000)+15000,\" sq ft)\\n- Finish Type: Silk finish preferred\\n- Coverage: Minimum 110 sq ft per liter\\n- Durability: 8+ years expected life\\n- Note: Include primer and labor charges of $\").concat(Math.floor(Math.random()*2000)+3000));},1500);};reader.readAsArrayBuffer(file);});};export default App;","map":{"version":3,"names":["React","useState","useCallback","useRef","useEffect","RefreshCw","Zap","Sliders","DollarSign","CheckCircle","Search","Upload","BarChart3","Users","FileText","TrendingUp","Award","Globe","Download","History","AlertCircle","Clock","Target","Shield","Activity","Brain","Network","TrendingDown","FileSpreadsheet","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","PieChart","Pie","Cell","LineChart","Line","RadialBarChart","RadialBar","auditLogger","nlpProcessor","buildKnowledgeGraph","historicalDataAnalyzer","initializeHistoricalData","currencyConverter","csvHandler","enhancedNLP","semanticMatcher","learningMemory","confidenceEscalation","jsx","_jsx","jsxs","_jsxs","RFP_SOURCES","id","name","url","status","lastScan","rfpsFound","DETECTED_RFPS","title","source","deadline","value","daysLeft","requirements","area","type","urgency","matchScore","PRODUCT_REPOSITORY","category","finish","coverage","durability","cost","reliability","leadTime","specs","weatherResistance","fadeResistance","washability","voc","application","TESTING_REQUIREMENTS","duration","required","RFP_HISTORY","rfpTitle","submittedDate","vendor","PRICING_RULES","markup_percentage","overhead_per_sqft","rush_order_multiplier","volume_discounts","testing_markup","delay","ms","Promise","resolve","setTimeout","salesAgent","rfpData","isFromPDF","arguments","length","undefined","console","log","concat","entities","extractEntities","urgencyAnalysis","detectUrgency","level","score","toFixed","complexityAnalysis","analyzeComplexity","parseRFPRequirements","analysis","urgencyScore","complexity","complexityScore","estimatedDuration","Math","ceil","totalSqFt","riskLevel","calculateRiskLevel","entitiesFound","quantities","materials","certifications","costs","_objectSpread","nlpEntities","technicalAgent","salesOutput","matchedRequirements","map","req","vendorMatches","Object","entries","forEach","_ref","vendorName","catalog","bestMatch","maxScore","product","reasons","push","toLowerCase","minDurability","skuId","skuName","skuCost","matchReason","join","overallMatchScore","calculateOverallMatchScore","pricingAgent","technicalOutput","vendorQuotes","keys","subtotalCost","totalLaborFees","totalTestingCosts","totalArea","avgReliability","maxLeadTime","validQuote","vendorItems","item","vendorMatch","litersNeeded","itemCost","max","laborFee","requirement","sku","liters","_ref2","testName","testData","random","volumeDiscount","_ref3","threshold","discount","parseInt","overheadCost","testingCostWithMarkup","discountAmount","grossCost","finalPrice","parseFloat","items","calculateVendorScore","bestVendor","values","reduce","best","current","recommendedVendor","pricingDetails","mainAgent","finalData","report","Date","now","generatedAt","toISOString","executiveSummary","totalCost","deliveryTime","technicalDetails","costBreakdown","riskAssessment","downloadLinks","pdf","excel","downloadReport","reportData","generatePDFReport","csvContent","generateCSVContent","downloadFile","viewExecutiveSummary","summaryWindow","window","open","document","write","toLocaleDateString","toLocaleString","printWindow","toLocaleTimeString","focus","showNotification","csvHeader","csvData","csvData2","csvData3","csvData4","content","filename","mimeType","blob","Blob","URL","createObjectURL","link","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","viewRfpDetails","rfpItem","detailsWindow","downloadHistoryReport","reportContent","message","notification","className","textContent","style","opacity","contains","text","_nlpEntities$deadline","_nlpEntities$deadline2","areas","coverages","areaMatches","match","replace","coverageMatches","moneyMatches","deadlines","deadlineMatch","dateStr","includes","month","day","year","split","padStart","sum","today","deadlineDate","scores","flatMap","round","a","b","price","priceScore","reliabilityScore","timeScore","calculateWinProbability","rfpAnalysis","_rfpAnalysis$pricingD","_rfpAnalysis$pricingD2","_rfpAnalysis$pricingD3","competitiveScore","historicalProbability","predictWinProbability","vendorPerf","getVendorPerformance","vendorWinRate","winRate","factors","pricingCompetitiveness","deadlineCompliance","historicalSuccess","winProbability","probability","recommendation","action","priceForecast","forecastPrice","confidence","historicalInsights","statusMap","IDLE","icon","SCANNING","UPLOADING","SALES_SCANNING","TECHNICAL_MATCHING","PRICING_CALCULATING","ORCHESTRATING","COMPLETE","ERROR","App","_statusMap$status","setStatus","orchestratorOutput","setOrchestratorOutput","rfpText","setRfpText","activeTab","setActiveTab","uploadedFile","setUploadedFile","detectedRfps","setDetectedRfps","selectedRfp","setSelectedRfp","scannerResults","setScannerResults","selectedCurrency","setSelectedCurrency","knowledgeGraphInitialized","setKnowledgeGraphInitialized","fileInputRef","DEFAULT_RFP","interval","setInterval","mockResults","scannedSources","newRfpsFound","floor","totalActive","newRfps","clearInterval","handleFileUpload","event","file","target","files","extractedText","extractTextFromPDF","error","triggerRfpScan","results","runOrchestrator","inputRfp","rfpId","logAgentAction","inputType","salesResult","requirementsFound","technicalResult","pricingResult","reportResult","finalOutput","auditTrail","getAuditTrail","prev","rfp","CurrentIcon","children","TabButton","active","onClick","DashboardTab","RfpScannerTab","WorkflowTab","AnalyticsTab","VendorComparisonTab","HistoryTab","_ref4","Icon","_ref5","_statusMap$status2","disabled","filter","slice","toUpperCase","_fileInputRef$current","_ref6","_ref7","_statusMap$status3","_fileInputRef$current2","size","ref","onChange","accept","e","placeholder","WorkflowStep","stepKey","description","EnhancedResultsPanel","COLORS","MetricCard","change","color","width","height","data","stage","count","strokeDasharray","dataKey","stroke","strokeWidth","avgScore","fill","_ref8","quotes","recommended","quote","VendorCard","isRecommended","_quote$totalTestingCo","_ref9","startsWith","_ref0","_quote$totalTestingCo2","_ref1","isCurrent","isCompleted","dotColor","_ref10","_pricingDetails$total","vendorCount","exportVendorQuotes","reader","FileReader","onload","readAsArrayBuffer"],"sources":["C:/Users/BIT/Downloads/RFP/src/App.js"],"sourcesContent":["import React, { useState, useCallback, useRef, useEffect } from 'react';\r\nimport { RefreshCw, Zap, Sliders, DollarSign, CheckCircle, Search, Upload, BarChart3, Users, FileText, TrendingUp, Award, Globe, Download, History, AlertCircle, Clock, Target, Shield, Activity, Brain, Network, TrendingDown, FileSpreadsheet } from 'lucide-react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, LineChart, Line, RadialBarChart, RadialBar } from 'recharts';\r\nimport { auditLogger } from './utils/AuditLogger';\r\nimport { nlpProcessor } from './utils/NLPProcessor';\r\nimport { buildKnowledgeGraph } from './utils/ProductKnowledgeGraph';\r\nimport { historicalDataAnalyzer, initializeHistoricalData } from './utils/HistoricalDataAnalyzer';\r\nimport { currencyConverter } from './utils/CurrencyConverter';\r\nimport { csvHandler } from './utils/CSVHandler';\r\nimport { enhancedNLP } from './utils/EnhancedNLP';\r\nimport { semanticMatcher } from './utils/SemanticMatcher';\r\nimport { learningMemory } from './utils/LearningMemory';\r\nimport { confidenceEscalation } from './utils/ConfidenceEscalation';\r\n\r\n// --- COMPREHENSIVE MOCK DATA FOR FULL AGENTIC WORKFLOW ---\r\n\r\n// 1. RFP Scanner Data - Simulated web sources\r\nconst RFP_SOURCES = [\r\n  { \r\n    id: 'src1', \r\n    name: 'Government Tenders Portal', \r\n    url: 'https://etenders.gov.in', \r\n    status: 'active',\r\n    lastScan: '2024-11-05 09:30',\r\n    rfpsFound: 12\r\n  },\r\n  { \r\n    id: 'src2', \r\n    name: 'Construction Industry Board', \r\n    url: 'https://construction-rfps.com', \r\n    status: 'active',\r\n    lastScan: '2024-11-05 08:45',\r\n    rfpsFound: 8\r\n  },\r\n  { \r\n    id: 'src3', \r\n    name: 'Municipal Corporation Portal', \r\n    url: 'https://municipal-tenders.org', \r\n    status: 'scanning',\r\n    lastScan: '2024-11-05 10:15',\r\n    rfpsFound: 5\r\n  }\r\n];\r\n\r\n// 2. Detected RFPs Database\r\nconst DETECTED_RFPS = [\r\n  {\r\n    id: 'rfp001',\r\n    title: 'Commercial Complex Painting - Phase 2',\r\n    source: 'Government Tenders Portal',\r\n    deadline: '2024-12-20',\r\n    value: '$125,000',\r\n    status: 'new',\r\n    daysLeft: 45,\r\n    requirements: {\r\n      area: 75000,\r\n      type: 'Mixed (Interior + Exterior)',\r\n      urgency: 'Standard'\r\n    },\r\n    matchScore: null\r\n  },\r\n  {\r\n    id: 'rfp002', \r\n    title: 'School Building Renovation Paint Work',\r\n    source: 'Municipal Corporation Portal',\r\n    deadline: '2024-12-15',\r\n    value: '$89,500',\r\n    status: 'analyzed',\r\n    daysLeft: 40,\r\n    requirements: {\r\n      area: 45000,\r\n      type: 'Interior Focus',\r\n      urgency: 'High'\r\n    },\r\n    matchScore: 87\r\n  },\r\n  {\r\n    id: 'rfp003',\r\n    title: 'Hospital Exterior Wall Painting',\r\n    source: 'Construction Industry Board', \r\n    deadline: '2025-01-10',\r\n    value: '$156,000',\r\n    status: 'responded',\r\n    daysLeft: 66,\r\n    requirements: {\r\n      area: 92000,\r\n      type: 'Exterior Only',\r\n      urgency: 'Standard'\r\n    },\r\n    matchScore: 94\r\n  }\r\n];\r\n\r\n// 3. Enhanced Product Repository with Spec Matching\r\nconst PRODUCT_REPOSITORY = {\r\n  'Asian Paints': [\r\n    { \r\n      id: 'AP001-A', \r\n      name: 'Apex Ultima Exterior Emulsion', \r\n      category: 'Exterior',\r\n      finish: 'Matt', \r\n      coverage: 140, \r\n      durability: 12, \r\n      cost: 285.50, \r\n      reliability: 95, \r\n      leadTime: 7,\r\n      specs: {\r\n        weatherResistance: 'Excellent',\r\n        fadeResistance: 'High',\r\n        washability: 'Good',\r\n        voc: 'Low',\r\n        application: ['Brush', 'Roller', 'Spray']\r\n      }\r\n    },\r\n    { \r\n      id: 'AP002-B', \r\n      name: 'Royale Luxury Emulsion', \r\n      category: 'Interior',\r\n      finish: 'Silk', \r\n      coverage: 120, \r\n      durability: 10, \r\n      cost: 320.75, \r\n      reliability: 92, \r\n      leadTime: 5,\r\n      specs: {\r\n        weatherResistance: 'Good',\r\n        fadeResistance: 'High',\r\n        washability: 'Excellent',\r\n        voc: 'Ultra Low',\r\n        application: ['Brush', 'Roller']\r\n      }\r\n    },\r\n    { \r\n      id: 'AP003-C', \r\n      name: 'Tractor Emulsion Economy', \r\n      category: 'Interior',\r\n      finish: 'Matt', \r\n      coverage: 110, \r\n      durability: 8, \r\n      cost: 180.25, \r\n      reliability: 88, \r\n      leadTime: 3,\r\n      specs: {\r\n        weatherResistance: 'Fair',\r\n        fadeResistance: 'Medium',\r\n        washability: 'Good',\r\n        voc: 'Medium',\r\n        application: ['Brush', 'Roller']\r\n      }\r\n    }\r\n  ],\r\n  'Berger Paints': [\r\n    { \r\n      id: 'BP001-X', \r\n      name: 'WeatherCoat Long Life', \r\n      category: 'Exterior',\r\n      finish: 'Smooth', \r\n      coverage: 135, \r\n      durability: 15, \r\n      cost: 295.80, \r\n      reliability: 97, \r\n      leadTime: 10,\r\n      specs: {\r\n        weatherResistance: 'Excellent',\r\n        fadeResistance: 'Excellent',\r\n        washability: 'Good',\r\n        voc: 'Low',\r\n        application: ['Brush', 'Roller', 'Spray']\r\n      }\r\n    },\r\n    { \r\n      id: 'BP002-Y', \r\n      name: 'Silk Glamour Interior', \r\n      category: 'Interior',\r\n      finish: 'Silk', \r\n      coverage: 125, \r\n      durability: 8, \r\n      cost: 245.60, \r\n      reliability: 90, \r\n      leadTime: 4,\r\n      specs: {\r\n        weatherResistance: 'Good',\r\n        fadeResistance: 'High',\r\n        washability: 'Excellent',\r\n        voc: 'Ultra Low',\r\n        application: ['Brush', 'Roller']\r\n      }\r\n    }\r\n  ],\r\n  'Nerolac Paints': [\r\n    { \r\n      id: 'NP001-M', \r\n      name: 'Excel Total Exterior', \r\n      category: 'Exterior',\r\n      finish: 'Sheen', \r\n      coverage: 130, \r\n      durability: 12, \r\n      cost: 275.90, \r\n      reliability: 94, \r\n      leadTime: 8,\r\n      specs: {\r\n        weatherResistance: 'Excellent',\r\n        fadeResistance: 'High',\r\n        washability: 'Good',\r\n        voc: 'Low',\r\n        application: ['Brush', 'Roller', 'Spray']\r\n      }\r\n    }\r\n  ]\r\n};\r\n\r\n// 4. Testing Requirements & Costs\r\nconst TESTING_REQUIREMENTS = {\r\n  'Adhesion Test': { cost: 450, duration: '2 days', required: true },\r\n  'Weather Resistance Test': { cost: 850, duration: '5 days', required: false },\r\n  'VOC Emission Test': { cost: 320, duration: '1 day', required: true },\r\n  'Durability Test': { cost: 1200, duration: '7 days', required: false },\r\n  'Color Fastness Test': { cost: 280, duration: '1 day', required: false }\r\n};\r\n\r\n// 5. RFP Response History\r\nconst RFP_HISTORY = [\r\n  {\r\n    id: 'hist001',\r\n    rfpTitle: 'Office Complex Painting',\r\n    submittedDate: '2024-10-15',\r\n    status: 'Won',\r\n    value: '$95,000',\r\n    vendor: 'Asian Paints',\r\n    matchScore: 92\r\n  },\r\n  {\r\n    id: 'hist002', \r\n    rfpTitle: 'Residential Tower Paint Work',\r\n    submittedDate: '2024-10-08',\r\n    status: 'Lost',\r\n    value: '$67,500',\r\n    vendor: 'Berger Paints',\r\n    matchScore: 78\r\n  },\r\n  {\r\n    id: 'hist003',\r\n    rfpTitle: 'Industrial Facility Coating',\r\n    submittedDate: '2024-09-28',\r\n    status: 'Pending',\r\n    value: '$134,000',\r\n    vendor: 'Nerolac Paints',\r\n    matchScore: 89\r\n  }\r\n];\r\n\r\n// 6. Enhanced Pricing Rules\r\nconst PRICING_RULES = {\r\n  markup_percentage: 0.20,\r\n  overhead_per_sqft: 0.50,\r\n  rush_order_multiplier: 1.15,\r\n  volume_discounts: {\r\n    10000: 0.02,\r\n    25000: 0.05,\r\n    50000: 0.08\r\n  },\r\n  testing_markup: 0.15\r\n};\r\n\r\n// --- ENHANCED AGENT SIMULATION LOGIC ---\r\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n// 1. Sales Agent - Enhanced with NLP Processing\r\nconst salesAgent = async (rfpData, isFromPDF = false) => {\r\n  await delay(isFromPDF ? 2500 : 1500);\r\n  console.log(`Sales Agent: ${isFromPDF ? 'Processing uploaded RFP' : 'Analyzing RFP requirements'}...`);\r\n  \r\n  // NLP-powered entity extraction\r\n  console.log('ðŸ§  NLP: Extracting entities from RFP text...');\r\n  const entities = nlpProcessor.extractEntities(rfpData);\r\n  console.log('âœ… NLP: Entities extracted:', entities);\r\n  \r\n  // Detect urgency using NLP\r\n  const urgencyAnalysis = nlpProcessor.detectUrgency(rfpData);\r\n  console.log(`âš¡ NLP: Urgency detected - ${urgencyAnalysis.level} (${(urgencyAnalysis.score * 100).toFixed(0)}%)`);\r\n  \r\n  // Analyze complexity\r\n  const complexityAnalysis = nlpProcessor.analyzeComplexity(rfpData, entities);\r\n  console.log(`ðŸ” NLP: Complexity - ${complexityAnalysis.level} (score: ${complexityAnalysis.score.toFixed(0)})`);\r\n  \r\n  // Enhanced requirement extraction with NLP entities\r\n  const requirements = parseRFPRequirements(rfpData, entities);\r\n  \r\n  // Add NLP-enhanced analysis\r\n  const analysis = {\r\n    urgency: urgencyAnalysis.level,\r\n    urgencyScore: urgencyAnalysis.score,\r\n    complexity: complexityAnalysis.level,\r\n    complexityScore: complexityAnalysis.score,\r\n    estimatedDuration: Math.ceil(requirements.totalSqFt / 5000) + ' weeks',\r\n    riskLevel: requirements.deadline ? calculateRiskLevel(requirements.deadline) : 'Medium',\r\n    entitiesFound: {\r\n      quantities: entities.quantities.length,\r\n      materials: entities.materials.length,\r\n      certifications: entities.certifications.length,\r\n      costs: entities.costs.length\r\n    }\r\n  };\r\n  \r\n  return { ...requirements, analysis, nlpEntities: entities };\r\n};\r\n\r\n\r\n\r\n// 2. Technical Agent - Advanced Spec Matching\r\nconst technicalAgent = async (salesOutput) => {\r\n  await delay(3000);\r\n  console.log(\"Technical Agent: Performing advanced spec matching...\");\r\n  \r\n  const matchedRequirements = salesOutput.requirements.map(req => {\r\n    const vendorMatches = {};\r\n    \r\n    // Enhanced matching algorithm\r\n    Object.entries(PRODUCT_REPOSITORY).forEach(([vendorName, catalog]) => {\r\n      let bestMatch = null;\r\n      let maxScore = -1;\r\n      \r\n      catalog.forEach(product => {\r\n        let score = 0;\r\n        let reasons = [];\r\n        \r\n        // Category matching (40 points)\r\n        if (req.specs.finish === 'Matt' && product.category === 'Exterior') {\r\n          score += 40;\r\n          reasons.push(\"Category Match - Exterior (40%)\");\r\n        } else if (req.specs.finish === 'Silk' && product.category === 'Interior') {\r\n          score += 40;\r\n          reasons.push(\"Category Match - Interior (40%)\");\r\n        }\r\n        \r\n        // Finish matching (30 points)\r\n        if (product.finish.toLowerCase() === req.specs.finish.toLowerCase()) {\r\n          score += 30;\r\n          reasons.push(\"Finish Match (30%)\");\r\n        }\r\n        \r\n        // Coverage efficiency (20 points)\r\n        if (req.specs.coverage && product.coverage >= req.specs.coverage) {\r\n          score += 20;\r\n          reasons.push(\"Coverage Requirement Met (20%)\");\r\n        }\r\n        \r\n        // Durability matching (10 points)\r\n        if (req.specs.minDurability && product.durability >= req.specs.minDurability) {\r\n          score += 10;\r\n          reasons.push(\"Durability Requirement Met (10%)\");\r\n        }\r\n        \r\n        if (score > maxScore) {\r\n          maxScore = score;\r\n          bestMatch = {\r\n            skuId: product.id,\r\n            skuName: product.name,\r\n            category: product.category,\r\n            skuCost: product.cost,\r\n            coverage: product.coverage,\r\n            reliability: product.reliability,\r\n            leadTime: product.leadTime,\r\n            matchScore: maxScore,\r\n            matchReason: reasons.join(', '),\r\n            specs: product.specs\r\n          };\r\n        }\r\n      });\r\n      \r\n      if (bestMatch) {\r\n        vendorMatches[vendorName] = bestMatch;\r\n      }\r\n    });\r\n    \r\n    return { ...req, vendorMatches };\r\n  });\r\n  \r\n  return { \r\n    deadline: salesOutput.deadline, \r\n    analysis: salesOutput.analysis,\r\n    matchedRequirements,\r\n    overallMatchScore: calculateOverallMatchScore(matchedRequirements)\r\n  };\r\n};\r\n\r\n// 3. Pricing Agent - Enhanced Cost Calculation with Testing\r\nconst pricingAgent = async (technicalOutput) => {\r\n  await delay(2500);\r\n  console.log(\"Pricing Agent: Calculating comprehensive costs with testing...\");\r\n  \r\n  const vendorQuotes = {};\r\n  \r\n  Object.keys(PRODUCT_REPOSITORY).forEach(vendorName => {\r\n    let subtotalCost = 0;\r\n    let totalLaborFees = 0;\r\n    let totalTestingCosts = 0;\r\n    let totalArea = 0;\r\n    let avgReliability = 0;\r\n    let maxLeadTime = 0;\r\n    let validQuote = true;\r\n    \r\n    const vendorItems = [];\r\n    \r\n    technicalOutput.matchedRequirements.forEach(item => {\r\n      const vendorMatch = item.vendorMatches[vendorName];\r\n      if (vendorMatch) {\r\n        const area = item.area;\r\n        const litersNeeded = area / vendorMatch.coverage;\r\n        const itemCost = litersNeeded * vendorMatch.skuCost;\r\n        \r\n        subtotalCost += itemCost;\r\n        totalArea += area;\r\n        avgReliability += vendorMatch.reliability;\r\n        maxLeadTime = Math.max(maxLeadTime, vendorMatch.leadTime);\r\n        \r\n        if (item.specs.laborFee) {\r\n          totalLaborFees += item.specs.laborFee;\r\n        }\r\n        \r\n        vendorItems.push({\r\n          requirement: item.id,\r\n          sku: vendorMatch.skuId,\r\n          cost: itemCost,\r\n          liters: litersNeeded,\r\n          reliability: vendorMatch.reliability,\r\n          leadTime: vendorMatch.leadTime\r\n        });\r\n      } else {\r\n        validQuote = false;\r\n      }\r\n    });\r\n    \r\n    // Add testing costs\r\n    Object.entries(TESTING_REQUIREMENTS).forEach(([testName, testData]) => {\r\n      if (testData.required || Math.random() > 0.6) { // Some optional tests randomly included\r\n        totalTestingCosts += testData.cost;\r\n      }\r\n    });\r\n    \r\n    if (validQuote && vendorItems.length > 0) {\r\n      avgReliability = avgReliability / vendorItems.length;\r\n      \r\n      // Apply volume discounts\r\n      let volumeDiscount = 0;\r\n      Object.entries(PRICING_RULES.volume_discounts).forEach(([threshold, discount]) => {\r\n        if (totalArea >= parseInt(threshold)) {\r\n          volumeDiscount = Math.max(volumeDiscount, discount);\r\n        }\r\n      });\r\n      \r\n      const overheadCost = totalArea * PRICING_RULES.overhead_per_sqft;\r\n      const testingCostWithMarkup = totalTestingCosts * (1 + PRICING_RULES.testing_markup);\r\n      const discountAmount = subtotalCost * volumeDiscount;\r\n      const grossCost = subtotalCost + overheadCost + totalLaborFees + testingCostWithMarkup - discountAmount;\r\n      const finalPrice = grossCost * (1 + PRICING_RULES.markup_percentage);\r\n      \r\n      vendorQuotes[vendorName] = {\r\n        vendor: vendorName,\r\n        subtotalCost,\r\n        overheadCost,\r\n        totalLaborFees,\r\n        totalTestingCosts: testingCostWithMarkup,\r\n        volumeDiscount: discountAmount,\r\n        finalPrice: parseFloat(finalPrice.toFixed(2)),\r\n        avgReliability: parseFloat(avgReliability.toFixed(1)),\r\n        maxLeadTime,\r\n        totalArea,\r\n        items: vendorItems,\r\n        score: calculateVendorScore(finalPrice, avgReliability, maxLeadTime)\r\n      };\r\n    }\r\n  });\r\n  \r\n  // Select best vendor\r\n  const bestVendor = Object.values(vendorQuotes).reduce((best, current) => \r\n    current.score > best.score ? current : best\r\n  );\r\n  \r\n  return {\r\n    ...technicalOutput,\r\n    vendorQuotes,\r\n    recommendedVendor: bestVendor.vendor,\r\n    pricingDetails: bestVendor\r\n  };\r\n};\r\n\r\n// 4. Main Agent (Orchestrator) - Coordinates all other agents\r\nconst mainAgent = async (finalData) => {\r\n  await delay(1500);\r\n  console.log(\"Main Agent: Orchestrating final RFP response...\");\r\n  \r\n  const report = {\r\n    id: `RPT-${Date.now()}`,\r\n    generatedAt: new Date().toISOString(),\r\n    rfpTitle: \"Automated RFP Response\",\r\n    executiveSummary: {\r\n      recommendedVendor: finalData.recommendedVendor,\r\n      totalCost: finalData.pricingDetails.finalPrice,\r\n      matchScore: finalData.overallMatchScore,\r\n      deliveryTime: finalData.pricingDetails.maxLeadTime\r\n    },\r\n    technicalDetails: finalData.matchedRequirements,\r\n    costBreakdown: finalData.pricingDetails,\r\n    riskAssessment: finalData.analysis,\r\n    downloadLinks: {\r\n      pdf: `/reports/${Date.now()}.pdf`,\r\n      excel: `/reports/${Date.now()}.xlsx`\r\n    }\r\n  };\r\n  \r\n  return report;\r\n};\r\n\r\n// --- UTILITY FUNCTIONS ---\r\n\r\n// Report Download Functions\r\nconst downloadReport = (type, reportData) => {\r\n  console.log(`Downloading ${type} report...`);\r\n  \r\n  if (type === 'pdf') {\r\n    // Generate HTML content and open print dialog for PDF\r\n    generatePDFReport(reportData);\r\n  } else if (type === 'excel') {\r\n    // Generate CSV content (Excel-compatible)\r\n    const csvContent = generateCSVContent(reportData);\r\n    downloadFile(csvContent, `RFP_Analysis_${Date.now()}.csv`, 'text/csv');\r\n  }\r\n};\r\n\r\nconst viewExecutiveSummary = (reportData) => {\r\n  console.log('Opening executive summary...');\r\n  \r\n  // Create a modal or new window with executive summary\r\n  const summaryWindow = window.open('', '_blank', 'width=800,height=600');\r\n  summaryWindow.document.write(`\r\n    <html>\r\n      <head>\r\n        <title>Executive Summary - RFP Response</title>\r\n        <style>\r\n          body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }\r\n          .header { color: #4f46e5; border-bottom: 2px solid #4f46e5; padding-bottom: 10px; }\r\n          .section { margin: 20px 0; }\r\n          .highlight { background-color: #f0f9ff; padding: 10px; border-left: 4px solid #0ea5e9; }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <div class=\"header\">\r\n          <h1>Executive Summary</h1>\r\n          <p>RFP Response Generated: ${new Date().toLocaleDateString()}</p>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>Recommendation</h2>\r\n          <div class=\"highlight\">\r\n            <strong>Recommended Vendor:</strong> ${reportData.executiveSummary.recommendedVendor}<br>\r\n            <strong>Total Cost:</strong> $${reportData.executiveSummary.totalCost.toLocaleString()}<br>\r\n            <strong>Match Score:</strong> ${reportData.executiveSummary.matchScore}%<br>\r\n            <strong>Delivery Time:</strong> ${reportData.executiveSummary.deliveryTime} days\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>Key Benefits</h2>\r\n          <ul>\r\n            <li>Optimal cost-performance ratio</li>\r\n            <li>High reliability and quality standards</li>\r\n            <li>Competitive delivery timeline</li>\r\n            <li>Comprehensive testing included</li>\r\n          </ul>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>Next Steps</h2>\r\n          <ol>\r\n            <li>Review detailed technical specifications</li>\r\n            <li>Confirm delivery schedule</li>\r\n            <li>Finalize contract terms</li>\r\n            <li>Submit formal response</li>\r\n          </ol>\r\n        </div>\r\n      </body>\r\n    </html>\r\n  `);\r\n};\r\n\r\nconst generatePDFReport = (reportData) => {\r\n  // Create a new window with printable HTML content\r\n  const printWindow = window.open('', '_blank', 'width=800,height=600');\r\n  printWindow.document.write(`\r\n    <html>\r\n      <head>\r\n        <title>RFP Response Report</title>\r\n        <style>\r\n          @media print {\r\n            body { margin: 0; }\r\n            .no-print { display: none; }\r\n          }\r\n          body { \r\n            font-family: Arial, sans-serif; \r\n            padding: 20px; \r\n            line-height: 1.6; \r\n            color: #333;\r\n          }\r\n          .header { \r\n            text-align: center; \r\n            border-bottom: 3px solid #4f46e5; \r\n            padding-bottom: 20px; \r\n            margin-bottom: 30px; \r\n          }\r\n          .section { \r\n            margin: 25px 0; \r\n            padding: 15px; \r\n            border: 1px solid #e5e7eb; \r\n            border-radius: 8px; \r\n          }\r\n          .highlight { \r\n            background-color: #f0f9ff; \r\n            padding: 15px; \r\n            border-left: 4px solid #0ea5e9; \r\n            margin: 10px 0;\r\n          }\r\n          .vendor-grid {\r\n            display: grid;\r\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n            gap: 15px;\r\n            margin: 20px 0;\r\n          }\r\n          .vendor-card {\r\n            border: 1px solid #d1d5db;\r\n            padding: 15px;\r\n            border-radius: 8px;\r\n            background-color: #f9fafb;\r\n          }\r\n          .recommended {\r\n            border-color: #10b981;\r\n            background-color: #ecfdf5;\r\n          }\r\n          table { width: 100%; border-collapse: collapse; margin: 20px 0; }\r\n          th, td { padding: 12px; text-align: left; border-bottom: 1px solid #e5e7eb; }\r\n          th { background-color: #f3f4f6; font-weight: bold; }\r\n          .print-btn {\r\n            background-color: #4f46e5;\r\n            color: white;\r\n            padding: 10px 20px;\r\n            border: none;\r\n            border-radius: 5px;\r\n            cursor: pointer;\r\n            margin: 20px 0;\r\n          }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <div class=\"no-print\">\r\n          <button class=\"print-btn\" onclick=\"window.print()\">ðŸ–¨ï¸ Print as PDF</button>\r\n          <button class=\"print-btn\" onclick=\"window.close()\" style=\"background-color: #6b7280;\">âŒ Close</button>\r\n        </div>\r\n        \r\n        <div class=\"header\">\r\n          <h1>RFP Response Report</h1>\r\n          <h2>${reportData.rfpTitle || 'Paint Project RFP'}</h2>\r\n          <p><strong>Generated:</strong> ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}</p>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>ðŸŽ¯ Executive Summary</h2>\r\n          <div class=\"highlight\">\r\n            <h3>Recommended Solution</h3>\r\n            <p><strong>Vendor:</strong> ${reportData.executiveSummary.recommendedVendor}</p>\r\n            <p><strong>Total Investment:</strong> $${reportData.executiveSummary.totalCost.toLocaleString()}</p>\r\n            <p><strong>Technical Match:</strong> ${reportData.executiveSummary.matchScore}% compatibility</p>\r\n            <p><strong>Delivery Timeline:</strong> ${reportData.executiveSummary.deliveryTime} days</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>ðŸ¢ Vendor Analysis</h2>\r\n          <p>Our multi-agent system analyzed three leading paint manufacturers:</p>\r\n          <div class=\"vendor-grid\">\r\n            <div class=\"vendor-card recommended\">\r\n              <h4>âœ… ${reportData.executiveSummary.recommendedVendor}</h4>\r\n              <p><strong>RECOMMENDED</strong></p>\r\n              <p>Cost: $${reportData.executiveSummary.totalCost.toLocaleString()}</p>\r\n              <p>Score: ${reportData.executiveSummary.matchScore}%</p>\r\n            </div>\r\n            <div class=\"vendor-card\">\r\n              <h4>Asian Paints</h4>\r\n              <p>Premium Quality</p>\r\n              <p>Reliability: 95%</p>\r\n            </div>\r\n            <div class=\"vendor-card\">\r\n              <h4>Berger Paints</h4>\r\n              <p>Balanced Solution</p>\r\n              <p>Reliability: 91%</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>ðŸ¤– AI Agent Analysis</h2>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Agent</th>\r\n                <th>Function</th>\r\n                <th>Result</th>\r\n                <th>Confidence</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>Sales Agent</td>\r\n                <td>Requirement Extraction</td>\r\n                <td>Successfully parsed RFP</td>\r\n                <td>96%</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Technical Agent</td>\r\n                <td>Specification Matching</td>\r\n                <td>${reportData.executiveSummary.matchScore}% match achieved</td>\r\n                <td>94%</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Pricing Agent</td>\r\n                <td>Cost Optimization</td>\r\n                <td>Optimal pricing strategy</td>\r\n                <td>98%</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Main Agent</td>\r\n                <td>Orchestration & Documentation</td>\r\n                <td>Comprehensive response orchestrated</td>\r\n                <td>100%</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>ðŸ“‹ Next Steps</h2>\r\n          <ol>\r\n            <li><strong>Review & Approve:</strong> Technical specifications and pricing</li>\r\n            <li><strong>Contract Preparation:</strong> Finalize terms with ${reportData.executiveSummary.recommendedVendor}</li>\r\n            <li><strong>Timeline Confirmation:</strong> Confirm ${reportData.executiveSummary.deliveryTime}-day delivery schedule</li>\r\n            <li><strong>Submit Response:</strong> Submit formal RFP response</li>\r\n          </ol>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>ðŸ“Š Cost Breakdown</h2>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Component</th>\r\n                <th>Amount</th>\r\n                <th>Percentage</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>Materials</td>\r\n                <td>$${(reportData.executiveSummary.totalCost * 0.7).toLocaleString()}</td>\r\n                <td>70%</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Testing & Quality</td>\r\n                <td>$${(reportData.executiveSummary.totalCost * 0.15).toLocaleString()}</td>\r\n                <td>15%</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Overhead & Margin</td>\r\n                <td>$${(reportData.executiveSummary.totalCost * 0.15).toLocaleString()}</td>\r\n                <td>15%</td>\r\n              </tr>\r\n              <tr style=\"font-weight: bold; background-color: #f3f4f6;\">\r\n                <td>Total Investment</td>\r\n                <td>$${reportData.executiveSummary.totalCost.toLocaleString()}</td>\r\n                <td>100%</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        \r\n        <footer style=\"margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; text-align: center; color: #6b7280;\">\r\n          <p>Generated by Agentic RFP Automation Platform</p>\r\n          <p>Report ID: RPT-${Date.now()}</p>\r\n        </footer>\r\n      </body>\r\n    </html>\r\n  `);\r\n  \r\n  // Auto-focus the print window\r\n  printWindow.focus();\r\n  \r\n  // Show instruction\r\n  showNotification('Report opened in new window. Click \"Print as PDF\" to save as PDF file.', 'success');\r\n};\r\n\r\nconst generateCSVContent = (reportData) => {\r\n  // Generate proper CSV content for Excel\r\n  const csvHeader = 'Vendor,Final Cost,Reliability,Lead Time,Match Score,Status\\n';\r\n  const csvData = `${reportData.executiveSummary.recommendedVendor},$${reportData.executiveSummary.totalCost},95%,${reportData.executiveSummary.deliveryTime} days,${reportData.executiveSummary.matchScore}%,Recommended\\n`;\r\n  const csvData2 = 'Asian Paints,$49263,95%,7 days,89%,Alternative\\n';\r\n  const csvData3 = 'Berger Paints,$44636,91%,10 days,87%,Alternative\\n';\r\n  const csvData4 = 'Nerolac Paints,$51037,91%,8 days,85%,Alternative\\n';\r\n  \r\n  return csvHeader + csvData + csvData2 + csvData3 + csvData4;\r\n};\r\n\r\nconst downloadFile = (content, filename, mimeType) => {\r\n  const blob = new Blob([content], { type: mimeType });\r\n  const url = URL.createObjectURL(blob);\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  link.download = filename;\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  URL.revokeObjectURL(url);\r\n  \r\n  // Show success message with better styling\r\n  showNotification(`${filename} has been downloaded successfully!`, 'success');\r\n};\r\n\r\n// History Tab Functions\r\nconst viewRfpDetails = (rfpItem) => {\r\n  console.log('Viewing RFP details:', rfpItem);\r\n  \r\n  // Create a modal with RFP details\r\n  const detailsWindow = window.open('', '_blank', 'width=900,height=700');\r\n  detailsWindow.document.write(`\r\n    <html>\r\n      <head>\r\n        <title>RFP Details - ${rfpItem.rfpTitle}</title>\r\n        <style>\r\n          body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }\r\n          .header { color: #4f46e5; border-bottom: 2px solid #4f46e5; padding-bottom: 10px; margin-bottom: 20px; }\r\n          .section { margin: 20px 0; padding: 15px; border: 1px solid #e5e7eb; border-radius: 8px; }\r\n          .status-${rfpItem.status.toLowerCase()} { \r\n            background-color: ${rfpItem.status === 'Won' ? '#dcfce7' : rfpItem.status === 'Lost' ? '#fef2f2' : '#fef3c7'}; \r\n            color: ${rfpItem.status === 'Won' ? '#166534' : rfpItem.status === 'Lost' ? '#991b1b' : '#92400e'};\r\n            padding: 5px 10px; border-radius: 20px; font-weight: bold;\r\n          }\r\n          .metric { display: inline-block; margin: 10px 20px 10px 0; }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <div class=\"header\">\r\n          <h1>${rfpItem.rfpTitle}</h1>\r\n          <span class=\"status-${rfpItem.status.toLowerCase()}\">${rfpItem.status}</span>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>Project Overview</h2>\r\n          <div class=\"metric\"><strong>Submitted:</strong> ${rfpItem.submittedDate}</div>\r\n          <div class=\"metric\"><strong>Value:</strong> ${rfpItem.value}</div>\r\n          <div class=\"metric\"><strong>Vendor:</strong> ${rfpItem.vendor}</div>\r\n          <div class=\"metric\"><strong>Match Score:</strong> ${rfpItem.matchScore}%</div>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>Technical Analysis</h2>\r\n          <p>This RFP was processed using our multi-agent system with the following results:</p>\r\n          <ul>\r\n            <li><strong>Sales Agent:</strong> Successfully extracted requirements</li>\r\n            <li><strong>Technical Agent:</strong> Achieved ${rfpItem.matchScore}% specification match</li>\r\n            <li><strong>Pricing Agent:</strong> Optimized cost structure</li>\r\n            <li><strong>Main Agent:</strong> Orchestrated comprehensive response</li>\r\n          </ul>\r\n        </div>\r\n        \r\n        <div class=\"section\">\r\n          <h2>Outcome Analysis</h2>\r\n          <p><strong>Result:</strong> ${rfpItem.status}</p>\r\n          <p><strong>Key Factors:</strong></p>\r\n          <ul>\r\n            ${rfpItem.status === 'Won' ? \r\n              '<li>Competitive pricing strategy</li><li>High technical match score</li><li>Optimal vendor selection</li>' :\r\n              '<li>Market competition analysis</li><li>Areas for improvement identified</li><li>Lessons learned documented</li>'\r\n            }\r\n          </ul>\r\n        </div>\r\n      </body>\r\n    </html>\r\n  `);\r\n};\r\n\r\nconst downloadHistoryReport = (rfpItem) => {\r\n  console.log('Downloading history report for:', rfpItem);\r\n  \r\n  const reportContent = `RFP RESPONSE REPORT\r\n===================\r\n\r\nProject: ${rfpItem.rfpTitle}\r\nSubmitted: ${rfpItem.submittedDate}\r\nStatus: ${rfpItem.status}\r\nValue: ${rfpItem.value}\r\nVendor: ${rfpItem.vendor}\r\nMatch Score: ${rfpItem.matchScore}%\r\n\r\nEXECUTIVE SUMMARY\r\n================\r\nThis RFP was processed through our automated multi-agent system.\r\nThe technical match score of ${rfpItem.matchScore}% indicates ${rfpItem.matchScore > 85 ? 'excellent' : rfpItem.matchScore > 70 ? 'good' : 'moderate'} alignment with requirements.\r\n\r\nOUTCOME\r\n=======\r\nFinal Result: ${rfpItem.status}\r\n${rfpItem.status === 'Won' ? 'Successfully secured this project through optimal vendor selection and competitive pricing.' : \r\n  rfpItem.status === 'Lost' ? 'Project not secured. Analysis indicates areas for improvement in future bids.' :\r\n  'Response submitted and awaiting client decision.'}\r\n\r\nGenerated by Agentic RFP Automation Platform\r\nReport Date: ${new Date().toLocaleDateString()}\r\n`;\r\n\r\n  downloadFile(reportContent, `RFP_Report_${rfpItem.id}_${Date.now()}.txt`, 'text/plain');\r\n};\r\n\r\n// Notification System\r\nconst showNotification = (message, type = 'info') => {\r\n  // Create notification element\r\n  const notification = document.createElement('div');\r\n  notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 ${\r\n    type === 'success' ? 'bg-green-500 text-white' :\r\n    type === 'error' ? 'bg-red-500 text-white' :\r\n    'bg-blue-500 text-white'\r\n  }`;\r\n  notification.textContent = message;\r\n  \r\n  // Add to page\r\n  document.body.appendChild(notification);\r\n  \r\n  // Remove after 3 seconds\r\n  setTimeout(() => {\r\n    notification.style.opacity = '0';\r\n    setTimeout(() => {\r\n      if (document.body.contains(notification)) {\r\n        document.body.removeChild(notification);\r\n      }\r\n    }, 300);\r\n  }, 3000);\r\n};\r\n\r\nconst parseRFPRequirements = (text, nlpEntities = null) => {\r\n  console.log('Parsing RFP text with NLP enhancement...');\r\n  \r\n  // Use NLP entities if available\r\n  const areas = nlpEntities?.quantities || [];\r\n  const coverages = nlpEntities?.coverages || [];\r\n  const costs = nlpEntities?.costs || [];\r\n  const materials = nlpEntities?.materials || [];\r\n  const certifications = nlpEntities?.certifications || [];\r\n  \r\n  // Fallback to regex if NLP didn't find entities\r\n  if (areas.length === 0) {\r\n    const areaMatches = text.match(/(\\d+(?:,\\d{3})*)\\s*(?:sq\\s*ft|sqft|square\\s*feet)/gi) || [];\r\n    areas.push(...areaMatches.map(match => parseInt(match.replace(/,/g, '').match(/\\d+/)[0])));\r\n  }\r\n  \r\n  if (coverages.length === 0) {\r\n    const coverageMatches = text.match(/(\\d+)\\s*(?:sq\\s*ft\\s*per\\s*liter|sqft\\/liter)/gi) || [];\r\n    coverages.push(...coverageMatches.map(match => parseInt(match.match(/\\d+/)[0])));\r\n  }\r\n  \r\n  if (costs.length === 0) {\r\n    const moneyMatches = text.match(/\\$\\s*(\\d+(?:,\\d{3})*(?:\\.\\d{2})?)/g) || [];\r\n    costs.push(...moneyMatches.map(match => parseFloat(match.replace(/[\\$,]/g, ''))));\r\n  }\r\n  \r\n  const requirements = [];\r\n  \r\n  // Create requirements based on extracted data\r\n  if (areas.length === 0) {\r\n    areas.push(25000, 20000); // Default areas\r\n  }\r\n  \r\n  requirements.push(\r\n    { \r\n      id: 'A', \r\n      area: areas[0] || 25000, \r\n      specs: { \r\n        finish: 'Matt', \r\n        coverage: coverages[0] || 130, \r\n        minDurability: 10,\r\n        category: 'Exterior',\r\n        materials: materials.length > 0 ? materials : ['paint'],\r\n        certifications: certifications\r\n      }\r\n    },\r\n    { \r\n      id: 'B', \r\n      area: areas[1] || 20000, \r\n      specs: { \r\n        finish: 'Silk', \r\n        coverage: 110, \r\n        minDurability: 8, \r\n        laborFee: costs[0] || 3000,\r\n        category: 'Interior',\r\n        materials: materials.length > 0 ? materials : ['paint'],\r\n        certifications: certifications\r\n      }\r\n    }\r\n  );\r\n  \r\n  // Use NLP-extracted deadline if available\r\n  let deadline = nlpEntities?.deadlines?.[0] || '2024-12-15';\r\n  \r\n  // Fallback to regex\r\n  if (!nlpEntities?.deadlines?.length) {\r\n    const deadlineMatch = text.match(/(?:deadline|due|completion).*?(\\d{4}-\\d{2}-\\d{2}|\\d{1,2}\\/\\d{1,2}\\/\\d{4}|\\d{1,2}-\\d{1,2}-\\d{4})/i);\r\n    if (deadlineMatch) {\r\n      const dateStr = deadlineMatch[1];\r\n      if (dateStr.includes('/')) {\r\n        const [month, day, year] = dateStr.split('/');\r\n        deadline = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;\r\n      } else if (dateStr.includes('-') && dateStr.length === 10) {\r\n        deadline = dateStr;\r\n      }\r\n    }\r\n  }\r\n  \r\n  const totalSqFt = areas.reduce((sum, area) => sum + area, 0) || 50000;\r\n  \r\n  console.log(`âœ… Parsed ${requirements.length} requirements, total area: ${totalSqFt} sq ft`);\r\n  \r\n  return {\r\n    deadline,\r\n    totalSqFt,\r\n    requirements\r\n  };\r\n};\r\n\r\nconst calculateRiskLevel = (deadline) => {\r\n  const today = new Date();\r\n  const deadlineDate = new Date(deadline);\r\n  const daysLeft = Math.ceil((deadlineDate - today) / (1000 * 60 * 60 * 24));\r\n  \r\n  if (daysLeft < 30) return 'High';\r\n  if (daysLeft < 60) return 'Medium';\r\n  return 'Low';\r\n};\r\n\r\nconst calculateOverallMatchScore = (matchedRequirements) => {\r\n  const scores = matchedRequirements.flatMap(req => \r\n    Object.values(req.vendorMatches).map(match => match.matchScore)\r\n  );\r\n  return scores.length > 0 ? Math.round(scores.reduce((a, b) => a + b, 0) / scores.length) : 0;\r\n};\r\n\r\nconst calculateVendorScore = (price, reliability, leadTime) => {\r\n  const priceScore = Math.max(0, 100 - (price / 1000));\r\n  const reliabilityScore = reliability;\r\n  const timeScore = Math.max(0, 100 - leadTime * 2);\r\n  \r\n  return (priceScore * 0.4 + reliabilityScore * 0.4 + timeScore * 0.2);\r\n};\r\n\r\n// Win Probability Calculator - Enhanced with Historical Data\r\nconst calculateWinProbability = (rfpAnalysis) => {\r\n  const matchScore = rfpAnalysis.overallMatchScore || 75;\r\n  const avgReliability = rfpAnalysis.pricingDetails?.avgReliability || 90;\r\n  const competitiveScore = rfpAnalysis.pricingDetails?.score || 75;\r\n  const vendor = rfpAnalysis.recommendedVendor;\r\n  const finalPrice = rfpAnalysis.pricingDetails?.finalPrice || 50000;\r\n  \r\n  // Get historical prediction\r\n  console.log('ðŸ“Š Analyzing historical data for win probability...');\r\n  const historicalProbability = historicalDataAnalyzer.predictWinProbability(\r\n    matchScore,\r\n    finalPrice,\r\n    vendor\r\n  );\r\n  console.log(`ðŸ“ˆ Historical win probability: ${historicalProbability.toFixed(1)}%`);\r\n  \r\n  // Get vendor performance\r\n  const vendorPerf = historicalDataAnalyzer.getVendorPerformance(vendor);\r\n  const vendorWinRate = vendorPerf?.winRate || 72;\r\n  console.log(`ðŸ† ${vendor} historical win rate: ${vendorWinRate.toFixed(1)}%`);\r\n  \r\n  // Calculate factors\r\n  const factors = {\r\n    matchScore: matchScore,\r\n    pricingCompetitiveness: (avgReliability * 0.4 + competitiveScore * 0.6),\r\n    deadlineCompliance: 85, // Default good compliance\r\n    historicalSuccess: historicalProbability\r\n  };\r\n  \r\n  // Weighted formula with historical data\r\n  const winProbability = (\r\n    factors.matchScore * 0.35 +\r\n    factors.pricingCompetitiveness * 0.30 +\r\n    factors.deadlineCompliance * 0.20 +\r\n    factors.historicalSuccess * 0.15\r\n  );\r\n  \r\n  const probability = Math.round(winProbability);\r\n  \r\n  // Generate recommendation\r\n  let recommendation;\r\n  if (probability >= 80) {\r\n    recommendation = {\r\n      level: 'ðŸŸ¢ HIGH',\r\n      message: 'Strongly recommend bidding - Excellent win potential',\r\n      action: 'Proceed with confidence'\r\n    };\r\n  } else if (probability >= 60) {\r\n    recommendation = {\r\n      level: 'ðŸŸ¡ MEDIUM',\r\n      message: 'Consider bidding with optimizations',\r\n      action: 'Review pricing and timeline for improvements'\r\n    };\r\n  } else if (probability >= 40) {\r\n    recommendation = {\r\n      level: 'ðŸŸ  LOW',\r\n      message: 'Risky - Requires strategic pricing adjustments',\r\n      action: 'Significant optimization needed'\r\n    };\r\n  } else {\r\n    recommendation = {\r\n      level: 'ðŸ”´ VERY LOW',\r\n      message: 'Not recommended unless strategic value exists',\r\n      action: 'Consider passing or major strategy revision'\r\n    };\r\n  }\r\n  \r\n  // Get price forecast\r\n  const priceForecast = historicalDataAnalyzer.forecastPrice(\r\n    rfpAnalysis.totalSqFt || 50000,\r\n    vendor\r\n  );\r\n  \r\n  return {\r\n    probability: probability,\r\n    confidence: probability >= 75 ? 'High' : probability >= 55 ? 'Medium' : 'Low',\r\n    factors: factors,\r\n    recommendation: recommendation,\r\n    riskLevel: probability >= 75 ? 'Low Risk' : probability >= 55 ? 'Medium Risk' : 'High Risk',\r\n    historicalInsights: {\r\n      vendorWinRate: vendorWinRate.toFixed(1),\r\n      historicalProbability: historicalProbability.toFixed(1),\r\n      priceForecast: priceForecast\r\n    }\r\n  };\r\n};\r\n\r\n// --- MAIN APPLICATION COMPONENT ---\r\nconst statusMap = {\r\n  IDLE: { text: \"System Ready\", icon: Search },\r\n  SCANNING: { text: \"Sales Agent: Scanning for RFP Opportunities\", icon: Globe },\r\n  UPLOADING: { text: \"Sales Agent: Processing PDF Upload\", icon: Upload },\r\n  SALES_SCANNING: { text: \"Sales Agent: Analyzing Requirements\", icon: Search },\r\n  TECHNICAL_MATCHING: { text: \"Technical Agent: Spec Matching & Scoring\", icon: Sliders },\r\n  PRICING_CALCULATING: { text: \"Pricing Agent: Cost Optimization\", icon: DollarSign },\r\n  ORCHESTRATING: { text: \"Main Agent: Orchestrating Final Response\", icon: Zap },\r\n  COMPLETE: { text: \"RFP Response Generated Successfully!\", icon: CheckCircle },\r\n  ERROR: { text: \"Workflow Error\", icon: AlertCircle },\r\n};\r\n\r\nconst App = () => {\r\n  const [status, setStatus] = useState('IDLE');\r\n  const [orchestratorOutput, setOrchestratorOutput] = useState(null);\r\n  const [rfpText, setRfpText] = useState('');\r\n  const [activeTab, setActiveTab] = useState('dashboard');\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [detectedRfps, setDetectedRfps] = useState(DETECTED_RFPS);\r\n  const [selectedRfp, setSelectedRfp] = useState(null);\r\n  const [scannerResults, setScannerResults] = useState(null);\r\n  const [selectedCurrency, setSelectedCurrency] = useState('USD');\r\n  const [knowledgeGraphInitialized, setKnowledgeGraphInitialized] = useState(false);\r\n  const fileInputRef = useRef(null);\r\n  \r\n  // Default RFP text\r\n  const DEFAULT_RFP = `REQUEST FOR PROPOSAL - Tender #PP-2024-001 | Commercial Building Paint Project\r\nDeadline: 2024-12-15\r\n\r\nPROJECT REQUIREMENTS:\r\nWe require painting services for a 50,000 sq ft commercial building complex.\r\n\r\nRequirement A: Exterior Walls (25,000 sq ft)\r\n- Finish Type: Weather-resistant Matt or Smooth finish\r\n- Coverage: Minimum 120 sq ft per liter\r\n- Durability: Must last minimum 10 years\r\n- Application: Spray/Roller application\r\n\r\nRequirement B: Interior Walls (25,000 sq ft)\r\n- Finish Type: Silk or Satin finish preferred\r\n- Coverage: Minimum 100 sq ft per liter  \r\n- Durability: Minimum 8 years expected life\r\n- Note: Include primer cost and labor charges of $5000.`;\r\n\r\n  // Initialize with default text\r\n  useEffect(() => {\r\n    if (!rfpText) {\r\n      setRfpText(DEFAULT_RFP);\r\n    }\r\n  }, [rfpText]);\r\n  \r\n  // Initialize knowledge graph and historical data\r\n  useEffect(() => {\r\n    if (!knowledgeGraphInitialized) {\r\n      console.log('ðŸ§  Initializing Knowledge Graph...');\r\n      buildKnowledgeGraph(PRODUCT_REPOSITORY);\r\n      console.log('âœ… Knowledge Graph initialized');\r\n      \r\n      console.log('ðŸ“Š Initializing Historical Data...');\r\n      initializeHistoricalData();\r\n      console.log('âœ… Historical Data initialized');\r\n      \r\n      setKnowledgeGraphInitialized(true);\r\n    }\r\n  }, [knowledgeGraphInitialized]);\r\n\r\n  // Auto-scan simulation (simplified)\r\n  useEffect(() => {\r\n    const interval = setInterval(async () => {\r\n      if (status === 'IDLE') {\r\n        // Simulate periodic RFP discovery\r\n        const mockResults = {\r\n          scannedSources: RFP_SOURCES.length,\r\n          newRfpsFound: Math.floor(Math.random() * 3),\r\n          totalActive: DETECTED_RFPS.length,\r\n          newRfps: []\r\n        };\r\n        setScannerResults(mockResults);\r\n      }\r\n    }, 30000); // Scan every 30 seconds\r\n\r\n    return () => clearInterval(interval);\r\n  }, [status]);\r\n\r\n  // File upload handler\r\n  const handleFileUpload = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (file && file.type === 'application/pdf') {\r\n      setUploadedFile(file);\r\n      setStatus('UPLOADING');\r\n      \r\n      try {\r\n        const extractedText = await extractTextFromPDF(file);\r\n        setRfpText(extractedText);\r\n        setStatus('IDLE');\r\n      } catch (error) {\r\n        console.error('PDF processing failed:', error);\r\n        setStatus('ERROR');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Manual RFP scan trigger (simplified)\r\n  const triggerRfpScan = async () => {\r\n    setStatus('SCANNING');\r\n    try {\r\n      await delay(2000);\r\n      const results = {\r\n        scannedSources: RFP_SOURCES.length,\r\n        newRfpsFound: Math.floor(Math.random() * 5) + 1,\r\n        totalActive: DETECTED_RFPS.length + Math.floor(Math.random() * 3),\r\n        newRfps: []\r\n      };\r\n      setScannerResults(results);\r\n      setStatus('IDLE');\r\n    } catch (error) {\r\n      console.error('RFP scanning failed:', error);\r\n      setStatus('ERROR');\r\n    }\r\n  };\r\n\r\n  // Main orchestrator function - Enhanced workflow with audit logging and win probability\r\n  const runOrchestrator = useCallback(async (inputRfp = null) => {\r\n    if (status !== 'IDLE' && status !== 'COMPLETE') return;\r\n    \r\n    const rfpId = `RFP_${Date.now()}`;\r\n    \r\n    // Log workflow start\r\n    auditLogger.logAgentAction(\r\n      'System',\r\n      'Workflow Started',\r\n      { rfpId, inputType: uploadedFile ? 'PDF Upload' : 'Text Input' },\r\n      'Initiating multi-agent RFP processing workflow'\r\n    );\r\n    \r\n    setStatus('SALES_SCANNING');\r\n    setOrchestratorOutput(null);\r\n    \r\n    try {\r\n      // Step 1: Sales Agent Analysis\r\n      auditLogger.logAgentAction('Sales Agent', 'Processing Started', { rfpId }, 'Analyzing RFP and extracting requirements');\r\n      const salesResult = await salesAgent(inputRfp || rfpText, !!uploadedFile);\r\n      auditLogger.logAgentAction('Sales Agent', 'Processing Complete', { rfpId, requirementsFound: salesResult.requirements.length }, `Extracted ${salesResult.requirements.length} requirements`);\r\n      setStatus('TECHNICAL_MATCHING');\r\n      \r\n      // Step 2: Technical Agent Spec Matching\r\n      auditLogger.logAgentAction('Technical Agent', 'Matching Started', { rfpId }, 'Performing specification matching across vendors');\r\n      const technicalResult = await technicalAgent(salesResult);\r\n      auditLogger.logAgentAction('Technical Agent', 'Matching Complete', { rfpId, matchScore: technicalResult.overallMatchScore }, `Achieved ${technicalResult.overallMatchScore}% match score`);\r\n      setStatus('PRICING_CALCULATING');\r\n      \r\n      // Step 3: Pricing Agent Cost Calculation\r\n      auditLogger.logAgentAction('Pricing Agent', 'Pricing Started', { rfpId }, 'Calculating comprehensive pricing');\r\n      const pricingResult = await pricingAgent(technicalResult);\r\n      auditLogger.logAgentAction('Pricing Agent', 'Pricing Complete', { rfpId, vendor: pricingResult.recommendedVendor, price: pricingResult.pricingDetails.finalPrice }, `Recommended ${pricingResult.recommendedVendor} at $${pricingResult.pricingDetails.finalPrice.toLocaleString()}`);\r\n      setStatus('ORCHESTRATING');\r\n      \r\n      // Step 4: Main Agent (Orchestrator) - Final compilation\r\n      auditLogger.logAgentAction('Main Agent', 'Orchestration Started', { rfpId }, 'Compiling final report and calculating win probability');\r\n      const reportResult = await mainAgent(pricingResult);\r\n      \r\n      // Calculate Win Probability\r\n      const winProbability = calculateWinProbability(pricingResult);\r\n      auditLogger.logAgentAction('Main Agent', 'Win Probability Calculated', { rfpId, probability: winProbability.probability }, `Win probability: ${winProbability.probability}% (${winProbability.recommendation.level})`);\r\n      \r\n      // Final output compilation\r\n      await delay(500);\r\n      const finalOutput = { \r\n        ...pricingResult, \r\n        report: reportResult,\r\n        winProbability: winProbability,\r\n        rfpId: rfpId,\r\n        auditTrail: auditLogger.getAuditTrail(rfpId)\r\n      };\r\n      \r\n      auditLogger.logAgentAction('Main Agent', 'Orchestration Complete', { rfpId }, 'RFP response generated successfully');\r\n      setOrchestratorOutput(finalOutput);\r\n      setStatus('COMPLETE');\r\n      \r\n      // Update RFP status if processing detected RFP\r\n      if (selectedRfp) {\r\n        setDetectedRfps(prev => prev.map(rfp => \r\n          rfp.id === selectedRfp.id \r\n            ? { ...rfp, status: 'responded', matchScore: finalOutput.overallMatchScore }\r\n            : rfp\r\n        ));\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error(\"Agent Workflow Failed:\", error);\r\n      auditLogger.logAgentAction('System', 'Workflow Failed', { rfpId, error: error.message }, `Error: ${error.message}`);\r\n      setOrchestratorOutput({ error: error.message || \"Unknown error during processing.\" });\r\n      setStatus('ERROR');\r\n    }\r\n  }, [rfpText, uploadedFile, status, selectedRfp]);\r\n\r\n  const CurrentIcon = statusMap[status]?.icon;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-6 font-inter antialiased\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <header className=\"text-center py-8 bg-white rounded-xl shadow-lg mb-6\">\r\n          <h1 className=\"text-4xl font-black text-indigo-700\">Agentic RFP Automation Platform</h1>\r\n          <p className=\"text-gray-500 mt-2\">End-to-End Automated RFP Response â€¢ Multi-Agent Workflow â€¢ Real-time Analytics</p>\r\n        </header>\r\n\r\n        {/* Enhanced Tab Navigation */}\r\n        <div className=\"bg-white rounded-xl shadow-lg mb-6\">\r\n          <div className=\"flex border-b overflow-x-auto\">\r\n            <TabButton \r\n              active={activeTab === 'dashboard'} \r\n              onClick={() => setActiveTab('dashboard')}\r\n              icon={BarChart3}\r\n              text=\"Live Dashboard\"\r\n            />\r\n            <TabButton \r\n              active={activeTab === 'rfp-scanner'} \r\n              onClick={() => setActiveTab('rfp-scanner')}\r\n              icon={Globe}\r\n              text=\"RFP Scanner\"\r\n            />\r\n            <TabButton \r\n              active={activeTab === 'workflow'} \r\n              onClick={() => setActiveTab('workflow')}\r\n              icon={Zap}\r\n              text=\"Agent Workflow\"\r\n            />\r\n            <TabButton \r\n              active={activeTab === 'analytics'} \r\n              onClick={() => setActiveTab('analytics')}\r\n              icon={TrendingUp}\r\n              text=\"Analytics\"\r\n            />\r\n            <TabButton \r\n              active={activeTab === 'vendors'} \r\n              onClick={() => setActiveTab('vendors')}\r\n              icon={Users}\r\n              text=\"Vendor Analysis\"\r\n            />\r\n            <TabButton \r\n              active={activeTab === 'history'} \r\n              onClick={() => setActiveTab('history')}\r\n              icon={History}\r\n              text=\"Response History\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        {activeTab === 'dashboard' && (\r\n          <DashboardTab \r\n            status={status}\r\n            CurrentIcon={CurrentIcon}\r\n            statusMap={statusMap}\r\n            detectedRfps={detectedRfps}\r\n            scannerResults={scannerResults}\r\n            triggerRfpScan={triggerRfpScan}\r\n            orchestratorOutput={orchestratorOutput}\r\n            setActiveTab={setActiveTab}\r\n            fileInputRef={fileInputRef}\r\n          />\r\n        )}\r\n\r\n        {activeTab === 'rfp-scanner' && (\r\n          <RfpScannerTab \r\n            detectedRfps={detectedRfps}\r\n            setSelectedRfp={setSelectedRfp}\r\n            selectedRfp={selectedRfp}\r\n            runOrchestrator={runOrchestrator}\r\n            scannerResults={scannerResults}\r\n            triggerRfpScan={triggerRfpScan}\r\n          />\r\n        )}\r\n\r\n        {activeTab === 'workflow' && (\r\n          <WorkflowTab \r\n            status={status}\r\n            CurrentIcon={CurrentIcon}\r\n            statusMap={statusMap}\r\n            runOrchestrator={runOrchestrator}\r\n            rfpText={rfpText}\r\n            setRfpText={setRfpText}\r\n            handleFileUpload={handleFileUpload}\r\n            fileInputRef={fileInputRef}\r\n            uploadedFile={uploadedFile}\r\n            orchestratorOutput={orchestratorOutput}\r\n          />\r\n        )}\r\n\r\n        {activeTab === 'analytics' && (\r\n          <AnalyticsTab />\r\n        )}\r\n\r\n        {activeTab === 'vendors' && orchestratorOutput && (\r\n          <VendorComparisonTab orchestratorOutput={orchestratorOutput} />\r\n        )}\r\n\r\n        {activeTab === 'history' && (\r\n          <HistoryTab />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- TAB COMPONENTS ---\r\nconst TabButton = ({ active, onClick, icon: Icon, text }) => (\r\n  <button\r\n    onClick={onClick}\r\n    className={`flex items-center px-4 py-3 font-semibold transition-all whitespace-nowrap ${\r\n      active \r\n        ? 'text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50' \r\n        : 'text-gray-500 hover:text-gray-700'\r\n    }`}\r\n  >\r\n    <Icon className=\"w-4 h-4 mr-2\" />\r\n    {text}\r\n  </button>\r\n);\r\n\r\n// 1. Live Dashboard Tab\r\nconst DashboardTab = ({ status, CurrentIcon, statusMap, detectedRfps, scannerResults, triggerRfpScan, orchestratorOutput, setActiveTab, fileInputRef }) => (\r\n  <div className=\"space-y-6\">\r\n    {/* System Status */}\r\n    <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div className=\"flex items-center space-x-3\">\r\n          <CurrentIcon className={`w-8 h-8 ${\r\n            status === 'COMPLETE' ? 'text-green-500' : \r\n            status === 'IDLE' ? 'text-gray-400' : \r\n            'text-indigo-500 animate-spin-slow'\r\n          }`} />\r\n          <div>\r\n            <h2 className=\"text-xl font-bold text-gray-800\">System Status</h2>\r\n            <p className={`text-sm ${status === 'COMPLETE' ? 'text-green-700' : 'text-gray-600'}`}>\r\n              {statusMap[status]?.text}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        \r\n        <button\r\n          onClick={triggerRfpScan}\r\n          disabled={status !== 'IDLE'}\r\n          className=\"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50\"\r\n        >\r\n          <Globe className=\"w-4 h-4 mr-2\" />\r\n          Scan RFPs\r\n        </button>\r\n      </div>\r\n      \r\n      {scannerResults && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4\">\r\n          <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n            <div className=\"text-2xl font-bold text-blue-600\">{scannerResults.scannedSources}</div>\r\n            <div className=\"text-sm text-gray-600\">Sources Scanned</div>\r\n          </div>\r\n          <div className=\"bg-green-50 p-4 rounded-lg\">\r\n            <div className=\"text-2xl font-bold text-green-600\">{scannerResults.newRfpsFound}</div>\r\n            <div className=\"text-sm text-gray-600\">New RFPs Found</div>\r\n          </div>\r\n          <div className=\"bg-purple-50 p-4 rounded-lg\">\r\n            <div className=\"text-2xl font-bold text-purple-600\">{scannerResults.totalActive}</div>\r\n            <div className=\"text-sm text-gray-600\">Total Active RFPs</div>\r\n          </div>\r\n          <div className=\"bg-orange-50 p-4 rounded-lg\">\r\n            <div className=\"text-2xl font-bold text-orange-600\">\r\n              {detectedRfps.filter(rfp => rfp.status === 'responded').length}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600\">Responses Generated</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n    {/* Recent RFPs */}\r\n    <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n      <h3 className=\"text-xl font-bold text-gray-800 mb-4\">Recent RFP Opportunities</h3>\r\n      <div className=\"space-y-3\">\r\n        {detectedRfps.slice(0, 3).map((rfp) => (\r\n          <div key={rfp.id} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\r\n            <div className=\"flex-1\">\r\n              <h4 className=\"font-semibold text-gray-800\">{rfp.title}</h4>\r\n              <p className=\"text-sm text-gray-600\">{rfp.source} â€¢ {rfp.value} â€¢ {rfp.daysLeft} days left</p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-3\">\r\n              <span className={`px-2 py-1 rounded-full text-xs font-bold ${\r\n                rfp.status === 'new' ? 'bg-blue-100 text-blue-800' :\r\n                rfp.status === 'analyzed' ? 'bg-yellow-100 text-yellow-800' :\r\n                'bg-green-100 text-green-800'\r\n              }`}>\r\n                {rfp.status.toUpperCase()}\r\n              </span>\r\n              {rfp.matchScore && (\r\n                <span className=\"text-sm font-bold text-indigo-600\">{rfp.matchScore}% Match</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n\r\n    {/* Quick Actions */}\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n      <div className=\"bg-white p-6 rounded-xl shadow-lg text-center\">\r\n        <Globe className=\"w-12 h-12 text-indigo-500 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Auto-Scan RFPs</h3>\r\n        <p className=\"text-sm text-gray-600 mb-4\">Continuously monitor configured sources for new opportunities</p>\r\n        <button \r\n          onClick={() => {\r\n            console.log('Configure Sources clicked');\r\n            setActiveTab('rfp-scanner');\r\n          }}\r\n          className=\"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition-colors\"\r\n        >\r\n          Configure Sources\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"bg-white p-6 rounded-xl shadow-lg text-center\">\r\n        <Upload className=\"w-12 h-12 text-green-500 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Upload RFP</h3>\r\n        <p className=\"text-sm text-gray-600 mb-4\">Process individual RFP documents manually</p>\r\n        <button \r\n          onClick={() => {\r\n            console.log('Upload Document clicked');\r\n            setActiveTab('workflow');\r\n            setTimeout(() => fileInputRef.current?.click(), 100);\r\n          }}\r\n          className=\"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors\"\r\n        >\r\n          Upload Document\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"bg-white p-6 rounded-xl shadow-lg text-center\">\r\n        <Download className=\"w-12 h-12 text-purple-500 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Export Reports</h3>\r\n        <p className=\"text-sm text-gray-600 mb-4\">Download generated responses and analytics</p>\r\n        <button \r\n          onClick={() => {\r\n            console.log('View Reports clicked');\r\n            setActiveTab('history');\r\n          }}\r\n          className=\"w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors\"\r\n        >\r\n          View Reports\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// 2. RFP Scanner Tab\r\nconst RfpScannerTab = ({ detectedRfps, setSelectedRfp, selectedRfp, runOrchestrator, scannerResults, triggerRfpScan }) => (\r\n  <div className=\"space-y-6\">\r\n    {/* Scanner Controls */}\r\n    <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-800\">RFP Detection & Scanning</h2>\r\n        <button\r\n          onClick={triggerRfpScan}\r\n          className=\"flex items-center px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\r\n        >\r\n          <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n          Refresh Scan\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Source Status */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n        {RFP_SOURCES.map((source) => (\r\n          <div key={source.id} className=\"border border-gray-200 rounded-lg p-4\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"font-semibold text-gray-800\">{source.name}</h3>\r\n              <span className={`w-3 h-3 rounded-full ${\r\n                source.status === 'active' ? 'bg-green-500' : \r\n                source.status === 'scanning' ? 'bg-yellow-500' : 'bg-red-500'\r\n              }`}></span>\r\n            </div>\r\n            <p className=\"text-sm text-gray-600 mb-2\">{source.url}</p>\r\n            <div className=\"flex justify-between text-xs text-gray-500\">\r\n              <span>Last scan: {source.lastScan}</span>\r\n              <span>{source.rfpsFound} RFPs found</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n\r\n    {/* Detected RFPs */}\r\n    <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n      <h3 className=\"text-xl font-bold text-gray-800 mb-4\">Detected RFP Opportunities</h3>\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full text-sm\">\r\n          <thead>\r\n            <tr className=\"border-b\">\r\n              <th className=\"text-left py-3 px-4\">RFP Title</th>\r\n              <th className=\"text-left py-3 px-4\">Source</th>\r\n              <th className=\"text-left py-3 px-4\">Value</th>\r\n              <th className=\"text-left py-3 px-4\">Deadline</th>\r\n              <th className=\"text-left py-3 px-4\">Status</th>\r\n              <th className=\"text-left py-3 px-4\">Match Score</th>\r\n              <th className=\"text-left py-3 px-4\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {detectedRfps.map((rfp) => (\r\n              <tr key={rfp.id} className={`border-b hover:bg-gray-50 ${\r\n                selectedRfp?.id === rfp.id ? 'bg-indigo-50' : ''\r\n              }`}>\r\n                <td className=\"py-3 px-4\">\r\n                  <div>\r\n                    <div className=\"font-medium text-gray-800\">{rfp.title}</div>\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      {rfp.requirements.area.toLocaleString()} sq ft â€¢ {rfp.requirements.type}\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td className=\"py-3 px-4 text-gray-600\">{rfp.source}</td>\r\n                <td className=\"py-3 px-4 font-semibold text-green-600\">{rfp.value}</td>\r\n                <td className=\"py-3 px-4\">\r\n                  <div className=\"text-gray-800\">{rfp.deadline}</div>\r\n                  <div className={`text-xs ${\r\n                    rfp.daysLeft < 30 ? 'text-red-500' : \r\n                    rfp.daysLeft < 60 ? 'text-yellow-500' : 'text-green-500'\r\n                  }`}>\r\n                    {rfp.daysLeft} days left\r\n                  </div>\r\n                </td>\r\n                <td className=\"py-3 px-4\">\r\n                  <span className={`px-2 py-1 rounded-full text-xs font-bold ${\r\n                    rfp.status === 'new' ? 'bg-blue-100 text-blue-800' :\r\n                    rfp.status === 'analyzed' ? 'bg-yellow-100 text-yellow-800' :\r\n                    'bg-green-100 text-green-800'\r\n                  }`}>\r\n                    {rfp.status.toUpperCase()}\r\n                  </span>\r\n                </td>\r\n                <td className=\"py-3 px-4\">\r\n                  {rfp.matchScore ? (\r\n                    <span className=\"font-bold text-indigo-600\">{rfp.matchScore}%</span>\r\n                  ) : (\r\n                    <span className=\"text-gray-400\">-</span>\r\n                  )}\r\n                </td>\r\n                <td className=\"py-3 px-4\">\r\n                  <div className=\"flex space-x-2\">\r\n                    <button\r\n                      onClick={() => setSelectedRfp(rfp)}\r\n                      className=\"px-3 py-1 bg-indigo-600 text-white text-xs rounded hover:bg-indigo-700\"\r\n                    >\r\n                      Select\r\n                    </button>\r\n                    {selectedRfp?.id === rfp.id && (\r\n                      <button\r\n                        onClick={() => runOrchestrator(rfp.title)}\r\n                        className=\"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700\"\r\n                      >\r\n                        Process\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// 3. Enhanced Workflow Tab\r\nconst WorkflowTab = ({ \r\n  status, CurrentIcon, statusMap, runOrchestrator, rfpText, setRfpText, \r\n  handleFileUpload, fileInputRef, uploadedFile, orchestratorOutput \r\n}) => (\r\n  <div className=\"space-y-6\">\r\n    {/* Control Panel */}\r\n    <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n      <div className=\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4\">\r\n        <div className=\"flex items-center space-x-3\">\r\n          <CurrentIcon className={`w-8 h-8 ${\r\n            status === 'COMPLETE' ? 'text-green-500' : \r\n            status === 'IDLE' ? 'text-gray-400' : \r\n            'text-indigo-500 animate-spin-slow'\r\n          }`} />\r\n          <span className={`text-xl font-semibold ${\r\n            status === 'COMPLETE' ? 'text-green-700' : 'text-gray-800'\r\n          }`}>\r\n            {statusMap[status]?.text}\r\n          </span>\r\n        </div>\r\n        \r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={() => fileInputRef.current?.click()}\r\n            className=\"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\r\n          >\r\n            <Upload className=\"w-4 h-4 mr-2\" />\r\n            Upload PDF\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => runOrchestrator()}\r\n            disabled={status !== 'IDLE' && status !== 'COMPLETE' && status !== 'ERROR'}\r\n            className={`flex items-center px-6 py-2 rounded-lg text-white font-bold transition-all ${\r\n              status === 'IDLE' || status === 'COMPLETE' || status === 'ERROR'\r\n                ? 'bg-indigo-600 hover:bg-indigo-700 shadow-md hover:shadow-lg'\r\n                : 'bg-gray-400 cursor-not-allowed opacity-75'\r\n            }`}\r\n          >\r\n            <Zap className=\"w-5 h-5 mr-2\" />\r\n            {status === 'COMPLETE' ? 'Process Another' : 'Start Agent Workflow'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {uploadedFile && (\r\n        <div className=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n          <div className=\"flex items-center text-green-700 mb-2\">\r\n            <FileText className=\"w-4 h-4 mr-2\" />\r\n            <span className=\"font-medium\">PDF Processed: {uploadedFile.name}</span>\r\n          </div>\r\n          <div className=\"text-sm text-green-600\">\r\n            âœ“ Text extraction completed - Requirements parsed from PDF content\r\n          </div>\r\n          <div className=\"text-xs text-green-500 mt-1\">\r\n            File size: {(uploadedFile.size / 1024).toFixed(1)} KB\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n    <input\r\n      type=\"file\"\r\n      ref={fileInputRef}\r\n      onChange={handleFileUpload}\r\n      accept=\".pdf\"\r\n      className=\"hidden\"\r\n    />\r\n\r\n    {/* Input & Workflow */}\r\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n      {/* RFP Input */}\r\n      <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n        <h2 className=\"text-xl font-bold text-gray-800 mb-4 border-b pb-2\">RFP Input</h2>\r\n        <textarea\r\n          value={rfpText}\r\n          onChange={(e) => setRfpText(e.target.value)}\r\n          className=\"w-full h-80 p-3 border border-gray-200 rounded-lg text-sm font-mono resize-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n          placeholder=\"Paste RFP text here or upload a PDF...\"\r\n        />\r\n      </div>\r\n      \r\n      {/* Enhanced Workflow Visualization */}\r\n      <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n        <h2 className=\"text-xl font-bold text-gray-800 mb-4 border-b pb-2\">Multi-Agent Workflow</h2>\r\n        <div className=\"space-y-4\">\r\n          <WorkflowStep status={status} stepKey=\"SALES_SCANNING\" title=\"Sales Agent\" description=\"RFP analysis and requirement extraction\" />\r\n          <WorkflowStep status={status} stepKey=\"TECHNICAL_MATCHING\" title=\"Technical Agent\" description=\"Spec matching across Asian Paints, Berger Paints, Nerolac Paints\" />\r\n          <WorkflowStep status={status} stepKey=\"PRICING_CALCULATING\" title=\"Pricing Agent\" description=\"Cost optimization with testing requirements\" />\r\n          <WorkflowStep status={status} stepKey=\"ORCHESTRATING\" title=\"Main Agent (Orchestrator)\" description=\"Final workflow orchestration and report generation\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    {/* Results */}\r\n    {orchestratorOutput && <EnhancedResultsPanel orchestratorOutput={orchestratorOutput} />}\r\n  </div>\r\n);\r\n\r\n// 4. Enhanced Analytics Tab\r\nconst AnalyticsTab = () => {\r\n  const COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff7300', '#00ff00'];\r\n  \r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Key Performance Metrics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6\">\r\n        <MetricCard title=\"RFPs Processed\" value=\"156\" change=\"+23%\" icon={FileText} color=\"bg-blue-500\" />\r\n        <MetricCard title=\"Win Rate\" value=\"78%\" change=\"+12%\" icon={Award} color=\"bg-green-500\" />\r\n        <MetricCard title=\"Avg Response Time\" value=\"2.4hrs\" change=\"-35%\" icon={Clock} color=\"bg-purple-500\" />\r\n        <MetricCard title=\"Match Accuracy\" value=\"94%\" change=\"+8%\" icon={Target} color=\"bg-orange-500\" />\r\n        <MetricCard title=\"Total Value Won\" value=\"$2.1M\" change=\"+45%\" icon={DollarSign} color=\"bg-indigo-500\" />\r\n      </div>\r\n\r\n      {/* Advanced Charts */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* RFP Processing Pipeline */}\r\n        <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n          <h3 className=\"text-xl font-bold text-gray-800 mb-4\">RFP Processing Pipeline</h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <LineChart data={[\r\n              { stage: 'Detected', count: 45 },\r\n              { stage: 'Analyzed', count: 38 },\r\n              { stage: 'Matched', count: 32 },\r\n              { stage: 'Priced', count: 28 },\r\n              { stage: 'Submitted', count: 25 }\r\n            ]}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"stage\" />\r\n              <YAxis />\r\n              <Tooltip />\r\n              <Line type=\"monotone\" dataKey=\"count\" stroke=\"#8884d8\" strokeWidth={3} />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Vendor Performance Comparison */}\r\n        <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n          <h3 className=\"text-xl font-bold text-gray-800 mb-4\">Vendor Success Rates</h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <BarChart data={[\r\n              { vendor: 'Asian Paints', winRate: 72, avgScore: 89 },\r\n              { vendor: 'Berger Paints', winRate: 75, avgScore: 91 },\r\n              { vendor: 'Nerolac Paints', winRate: 68, avgScore: 87 }\r\n            ]}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"vendor\" />\r\n              <YAxis />\r\n              <Tooltip />\r\n              <Bar dataKey=\"winRate\" fill=\"#8884d8\" name=\"Win Rate %\" />\r\n              <Bar dataKey=\"avgScore\" fill=\"#82ca9d\" name=\"Avg Match Score\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Detailed Performance Table */}\r\n      <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n        <h3 className=\"text-xl font-bold text-gray-800 mb-4\">Agent Performance Analysis</h3>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead>\r\n              <tr className=\"border-b\">\r\n                <th className=\"text-left py-3 px-4\">Agent</th>\r\n                <th className=\"text-left py-3 px-4\">Tasks Completed</th>\r\n                <th className=\"text-left py-3 px-4\">Avg Processing Time</th>\r\n                <th className=\"text-left py-3 px-4\">Accuracy Rate</th>\r\n                <th className=\"text-left py-3 px-4\">Performance Score</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr className=\"border-b hover:bg-gray-50\">\r\n                <td className=\"py-3 px-4 font-medium\">Sales Agent</td>\r\n                <td className=\"py-3 px-4\">156</td>\r\n                <td className=\"py-3 px-4\">45 seconds</td>\r\n                <td className=\"py-3 px-4\">\r\n                  <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\">96%</span>\r\n                </td>\r\n                <td className=\"py-3 px-4\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-16 bg-gray-200 rounded-full h-2 mr-2\">\r\n                      <div className=\"bg-green-600 h-2 rounded-full\" style={{ width: '96%' }}></div>\r\n                    </div>\r\n                    <span className=\"text-xs\">96</span>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <tr className=\"border-b hover:bg-gray-50\">\r\n                <td className=\"py-3 px-4 font-medium\">Technical Agent</td>\r\n                <td className=\"py-3 px-4\">142</td>\r\n                <td className=\"py-3 px-4\">2.1 minutes</td>\r\n                <td className=\"py-3 px-4\">\r\n                  <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\">94%</span>\r\n                </td>\r\n                <td className=\"py-3 px-4\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-16 bg-gray-200 rounded-full h-2 mr-2\">\r\n                      <div className=\"bg-green-600 h-2 rounded-full\" style={{ width: '94%' }}></div>\r\n                    </div>\r\n                    <span className=\"text-xs\">94</span>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <tr className=\"border-b hover:bg-gray-50\">\r\n                <td className=\"py-3 px-4 font-medium\">Pricing Agent</td>\r\n                <td className=\"py-3 px-4\">138</td>\r\n                <td className=\"py-3 px-4\">1.8 minutes</td>\r\n                <td className=\"py-3 px-4\">\r\n                  <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\">98%</span>\r\n                </td>\r\n                <td className=\"py-3 px-4\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-16 bg-gray-200 rounded-full h-2 mr-2\">\r\n                      <div className=\"bg-green-600 h-2 rounded-full\" style={{ width: '98%' }}></div>\r\n                    </div>\r\n                    <span className=\"text-xs\">98</span>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <tr className=\"border-b hover:bg-gray-50\">\r\n                <td className=\"py-3 px-4 font-medium\">Main Agent</td>\r\n                <td className=\"py-3 px-4\">138</td>\r\n                <td className=\"py-3 px-4\">1.2 minutes</td>\r\n                <td className=\"py-3 px-4\">\r\n                  <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\">99%</span>\r\n                </td>\r\n                <td className=\"py-3 px-4\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-16 bg-gray-200 rounded-full h-2 mr-2\">\r\n                      <div className=\"bg-green-600 h-2 rounded-full\" style={{ width: '99%' }}></div>\r\n                    </div>\r\n                    <span className=\"text-xs\">99</span>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// 5. Vendor Comparison Tab\r\nconst VendorComparisonTab = ({ orchestratorOutput }) => {\r\n  if (!orchestratorOutput?.vendorQuotes) {\r\n    return (\r\n      <div className=\"bg-white p-8 rounded-xl shadow-lg text-center\">\r\n        <Users className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-xl font-semibold text-gray-600 mb-2\">No Vendor Analysis Available</h3>\r\n        <p className=\"text-gray-500\">Process an RFP first to see detailed vendor comparisons.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const quotes = Object.values(orchestratorOutput.vendorQuotes);\r\n  const recommended = orchestratorOutput.recommendedVendor;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Recommended Vendor Highlight */}\r\n      <div className=\"bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold mb-2\">Recommended Vendor</h2>\r\n            <p className=\"text-green-100\">Optimal choice based on price, reliability, and delivery</p>\r\n          </div>\r\n          <div className=\"text-right\">\r\n            <div className=\"text-3xl font-black\">{recommended}</div>\r\n            <div className=\"text-green-100\">Match Score: {orchestratorOutput.overallMatchScore}%</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Vendor Comparison Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        {quotes.map((quote) => (\r\n          <VendorCard \r\n            key={quote.vendor} \r\n            quote={quote} \r\n            isRecommended={quote.vendor === recommended}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Detailed Comparison */}\r\n      <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n        <h3 className=\"text-xl font-bold text-gray-800 mb-4\">Comprehensive Vendor Analysis</h3>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead>\r\n              <tr className=\"border-b\">\r\n                <th className=\"text-left py-3 px-4\">Vendor</th>\r\n                <th className=\"text-left py-3 px-4\">Final Price</th>\r\n                <th className=\"text-left py-3 px-4\">Testing Costs</th>\r\n                <th className=\"text-left py-3 px-4\">Reliability</th>\r\n                <th className=\"text-left py-3 px-4\">Lead Time</th>\r\n                <th className=\"text-left py-3 px-4\">Overall Score</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {quotes.map((quote) => (\r\n                <tr key={quote.vendor} className={`border-b hover:bg-gray-50 ${\r\n                  quote.vendor === recommended ? 'bg-green-50' : ''\r\n                }`}>\r\n                  <td className=\"py-3 px-4\">\r\n                    <div className=\"flex items-center\">\r\n                      <span className=\"font-medium\">{quote.vendor}</span>\r\n                      {quote.vendor === recommended && (\r\n                        <Award className=\"w-4 h-4 text-green-500 ml-2\" />\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"py-3 px-4 font-bold\">${quote.finalPrice.toLocaleString()}</td>\r\n                  <td className=\"py-3 px-4\">${quote.totalTestingCosts?.toFixed(2) || '0.00'}</td>\r\n                  <td className=\"py-3 px-4\">{quote.avgReliability}%</td>\r\n                  <td className=\"py-3 px-4\">{quote.maxLeadTime} days</td>\r\n                  <td className=\"py-3 px-4\">\r\n                    <span className={`px-2 py-1 rounded-full text-xs font-bold ${\r\n                      quote.vendor === recommended \r\n                        ? 'bg-green-100 text-green-800' \r\n                        : 'bg-gray-100 text-gray-800'\r\n                    }`}>\r\n                      {quote.score.toFixed(1)}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// 6. History Tab\r\nconst HistoryTab = () => (\r\n  <div className=\"space-y-6\">\r\n    <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">RFP Response History</h2>\r\n      \r\n      <div className=\"space-y-4\">\r\n        {RFP_HISTORY.map((item) => (\r\n          <div key={item.id} className=\"border border-gray-200 rounded-lg p-4\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"font-semibold text-gray-800\">{item.rfpTitle}</h3>\r\n              <span className={`px-3 py-1 rounded-full text-sm font-bold ${\r\n                item.status === 'Won' ? 'bg-green-100 text-green-800' :\r\n                item.status === 'Lost' ? 'bg-red-100 text-red-800' :\r\n                'bg-yellow-100 text-yellow-800'\r\n              }`}>\r\n                {item.status}\r\n              </span>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-600\">\r\n              <div>\r\n                <span className=\"font-medium\">Submitted:</span> {item.submittedDate}\r\n              </div>\r\n              <div>\r\n                <span className=\"font-medium\">Value:</span> {item.value}\r\n              </div>\r\n              <div>\r\n                <span className=\"font-medium\">Vendor:</span> {item.vendor}\r\n              </div>\r\n              <div>\r\n                <span className=\"font-medium\">Match Score:</span> {item.matchScore}%\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-3 flex space-x-2\">\r\n              <button \r\n                onClick={() => viewRfpDetails(item)}\r\n                className=\"px-3 py-1 bg-indigo-600 text-white text-xs rounded hover:bg-indigo-700 transition-colors\"\r\n              >\r\n                View Details\r\n              </button>\r\n              <button \r\n                onClick={() => downloadHistoryReport(item)}\r\n                className=\"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors\"\r\n              >\r\n                Download Report\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// --- UTILITY COMPONENTS ---\r\nconst MetricCard = ({ title, value, change, icon: Icon, color }) => (\r\n  <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n    <div className=\"flex items-center justify-between\">\r\n      <div>\r\n        <p className=\"text-sm font-medium text-gray-500\">{title}</p>\r\n        <p className=\"text-2xl font-bold text-gray-900\">{value}</p>\r\n        <p className={`text-sm ${change.startsWith('+') ? 'text-green-600' : 'text-red-600'}`}>\r\n          {change} from last month\r\n        </p>\r\n      </div>\r\n      <div className={`${color} p-3 rounded-lg`}>\r\n        <Icon className=\"w-6 h-6 text-white\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst VendorCard = ({ quote, isRecommended }) => (\r\n  <div className={`bg-white p-6 rounded-xl shadow-lg border-2 transition-all ${\r\n    isRecommended ? 'border-green-500 ring-2 ring-green-200' : 'border-gray-200'\r\n  }`}>\r\n    <div className=\"flex items-center justify-between mb-4\">\r\n      <h3 className=\"text-lg font-bold text-gray-800\">{quote.vendor}</h3>\r\n      {isRecommended && (\r\n        <span className=\"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold\">\r\n          RECOMMENDED\r\n        </span>\r\n      )}\r\n    </div>\r\n    \r\n    <div className=\"space-y-3\">\r\n      <div className=\"flex justify-between\">\r\n        <span className=\"text-gray-600\">Final Price:</span>\r\n        <span className=\"font-bold text-lg\">${quote.finalPrice.toLocaleString()}</span>\r\n      </div>\r\n      \r\n      <div className=\"flex justify-between\">\r\n        <span className=\"text-gray-600\">Testing Costs:</span>\r\n        <span className=\"font-medium\">${quote.totalTestingCosts?.toFixed(2) || '0.00'}</span>\r\n      </div>\r\n      \r\n      <div className=\"flex justify-between\">\r\n        <span className=\"text-gray-600\">Reliability:</span>\r\n        <span className=\"font-medium\">{quote.avgReliability}%</span>\r\n      </div>\r\n      \r\n      <div className=\"flex justify-between\">\r\n        <span className=\"text-gray-600\">Lead Time:</span>\r\n        <span className=\"font-medium\">{quote.maxLeadTime} days</span>\r\n      </div>\r\n      \r\n      <div className=\"flex justify-between\">\r\n        <span className=\"text-gray-600\">Score:</span>\r\n        <span className={`font-bold ${isRecommended ? 'text-green-600' : 'text-gray-800'}`}>\r\n          {quote.score.toFixed(1)}/100\r\n        </span>\r\n      </div>\r\n    </div>\r\n    \r\n    <div className=\"mt-4 pt-4 border-t\">\r\n      <div className=\"text-xs text-gray-500 space-y-1\">\r\n        <div>Material: ${quote.subtotalCost.toFixed(2)}</div>\r\n        <div>Overhead: ${quote.overheadCost.toFixed(2)}</div>\r\n        {quote.volumeDiscount > 0 && (\r\n          <div className=\"text-green-600\">Volume Discount: -${quote.volumeDiscount.toFixed(2)}</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst WorkflowStep = ({ status, stepKey, title, description }) => {\r\n  const isCurrent = status === stepKey;\r\n  const isCompleted = ['TECHNICAL_MATCHING', 'PRICING_CALCULATING', 'ORCHESTRATING', 'COMPLETE'].includes(status) &&\r\n    (stepKey === 'SALES_SCANNING' || \r\n     (stepKey === 'TECHNICAL_MATCHING' && ['PRICING_CALCULATING', 'ORCHESTRATING', 'COMPLETE'].includes(status)) ||\r\n     (stepKey === 'PRICING_CALCULATING' && ['ORCHESTRATING', 'COMPLETE'].includes(status)) ||\r\n     (stepKey === 'ORCHESTRATING' && status === 'COMPLETE'));\r\n  \r\n  let dotColor = 'bg-gray-300';\r\n  if (isCompleted) dotColor = 'bg-green-500';\r\n  if (isCurrent) dotColor = 'bg-indigo-500 animate-pulse';\r\n  \r\n  return (\r\n    <div className=\"flex items-start\">\r\n      <div className={`w-3 h-3 rounded-full mt-1.5 mr-4 ${dotColor}`}></div>\r\n      <div className=\"flex-1\">\r\n        <h4 className={`text-base font-semibold ${\r\n          isCurrent ? 'text-indigo-600' : \r\n          isCompleted ? 'text-gray-700' : 'text-gray-500'\r\n        }`}>\r\n          {title}\r\n        </h4>\r\n        <p className=\"text-sm text-gray-500 mt-1\">{description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst EnhancedResultsPanel = ({ orchestratorOutput }) => {\r\n  if (orchestratorOutput.error) {\r\n    return (\r\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl\">\r\n        <p className=\"font-semibold\">Error:</p>\r\n        <p>{orchestratorOutput.error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { pricingDetails, recommendedVendor, vendorQuotes, report, overallMatchScore, winProbability } = orchestratorOutput;\r\n  const vendorCount = Object.keys(vendorQuotes).length;\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center\">\r\n        <CheckCircle className=\"w-6 h-6 text-green-500 mr-3\" />\r\n        Comprehensive RFP Response Generated\r\n      </h2>\r\n\r\n      {/* Win Probability Banner */}\r\n      {winProbability && (\r\n        <div className={`mb-6 p-6 rounded-xl border-2 ${\r\n          winProbability.probability >= 80 ? 'bg-green-50 border-green-500' :\r\n          winProbability.probability >= 60 ? 'bg-yellow-50 border-yellow-500' :\r\n          winProbability.probability >= 40 ? 'bg-orange-50 border-orange-500' :\r\n          'bg-red-50 border-red-500'\r\n        }`}>\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div>\r\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">\r\n                Win Probability: {winProbability.probability}%\r\n              </h3>\r\n              <p className=\"text-lg font-semibold\">{winProbability.recommendation.level}</p>\r\n              <p className=\"text-gray-700 mt-1\">{winProbability.recommendation.message}</p>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"text-sm text-gray-600 mb-1\">Confidence: {winProbability.confidence}</div>\r\n              <div className=\"text-sm text-gray-600\">Risk: {winProbability.riskLevel}</div>\r\n              <div className=\"mt-2 px-4 py-2 bg-white rounded-lg shadow\">\r\n                <Target className=\"w-8 h-8 mx-auto text-indigo-600\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid grid-cols-4 gap-4 mt-4 pt-4 border-t\">\r\n            <div>\r\n              <div className=\"text-xs text-gray-600\">Match Score</div>\r\n              <div className=\"text-lg font-bold\">{winProbability.factors.matchScore.toFixed(0)}%</div>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-xs text-gray-600\">Pricing</div>\r\n              <div className=\"text-lg font-bold\">{winProbability.factors.pricingCompetitiveness.toFixed(0)}%</div>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-xs text-gray-600\">Deadline</div>\r\n              <div className=\"text-lg font-bold\">{winProbability.factors.deadlineCompliance.toFixed(0)}%</div>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-xs text-gray-600\">Historical</div>\r\n              <div className=\"text-lg font-bold\">{winProbability.factors.historicalSuccess.toFixed(0)}%</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-4 p-3 bg-white rounded-lg\">\r\n            <p className=\"text-sm font-medium text-gray-700\">\r\n              <strong>Recommended Action:</strong> {winProbability.recommendation.action}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Enhanced Summary Stats */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6\">\r\n        <div className=\"text-center p-4 bg-indigo-50 rounded-lg\">\r\n          <div className=\"text-2xl font-bold text-indigo-600\">{vendorCount}</div>\r\n          <div className=\"text-sm text-gray-600\">Vendors Analyzed</div>\r\n        </div>\r\n        <div className=\"text-center p-4 bg-green-50 rounded-lg\">\r\n          <div className=\"text-2xl font-bold text-green-600\">{recommendedVendor}</div>\r\n          <div className=\"text-sm text-gray-600\">Best Vendor</div>\r\n        </div>\r\n        <div className=\"text-center p-4 bg-purple-50 rounded-lg\">\r\n          <div className=\"text-2xl font-bold text-purple-600\">${pricingDetails.finalPrice.toLocaleString()}</div>\r\n          <div className=\"text-sm text-gray-600\">Final Quote</div>\r\n        </div>\r\n        <div className=\"text-center p-4 bg-orange-50 rounded-lg\">\r\n          <div className=\"text-2xl font-bold text-orange-600\">{overallMatchScore}%</div>\r\n          <div className=\"text-sm text-gray-600\">Match Score</div>\r\n        </div>\r\n        <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\r\n          <div className=\"text-2xl font-bold text-blue-600\">{pricingDetails.maxLeadTime}</div>\r\n          <div className=\"text-sm text-gray-600\">Days Delivery</div>\r\n        </div>\r\n        <div className=\"text-center p-4 bg-red-50 rounded-lg\">\r\n          <div className=\"text-2xl font-bold text-red-600\">${pricingDetails.totalTestingCosts?.toFixed(0) || '0'}</div>\r\n          <div className=\"text-sm text-gray-600\">Testing Costs</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Report Download Section */}\r\n      {report && (\r\n        <div className=\"border-t pt-6 mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-700 mb-4\">Generated Reports & Data Export</h3>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n            <button \r\n              onClick={() => downloadReport('pdf', report)}\r\n              className=\"flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n            >\r\n              <Download className=\"w-4 h-4 mr-2\" />\r\n              PDF Report\r\n            </button>\r\n            <button \r\n              onClick={() => downloadReport('excel', report)}\r\n              className=\"flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n            >\r\n              <Download className=\"w-4 h-4 mr-2\" />\r\n              Excel Analysis\r\n            </button>\r\n            <button \r\n              onClick={() => csvHandler.exportVendorQuotes(vendorQuotes)}\r\n              className=\"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n            >\r\n              <FileSpreadsheet className=\"w-4 h-4 mr-2\" />\r\n              Export CSV\r\n            </button>\r\n            <button \r\n              onClick={() => viewExecutiveSummary(report)}\r\n              className=\"flex items-center justify-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n            >\r\n              <FileText className=\"w-4 h-4 mr-2\" />\r\n              Summary\r\n            </button>\r\n          </div>\r\n          <div className=\"mt-3 text-sm text-gray-600\">\r\n            ðŸ’¡ <strong>New:</strong> Export vendor quotes to CSV for further analysis in Excel/Google Sheets\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Vendor Overview */}\r\n      <div className=\"border-t pt-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-700 mb-3\">Vendor Comparison Summary</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          {Object.values(vendorQuotes).map((quote) => (\r\n            <div key={quote.vendor} className={`p-4 rounded-lg border-2 ${\r\n              quote.vendor === recommendedVendor \r\n                ? 'border-green-500 bg-green-50' \r\n                : 'border-gray-200 bg-gray-50'\r\n            }`}>\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <span className=\"font-medium\">{quote.vendor}</span>\r\n                {quote.vendor === recommendedVendor && (\r\n                  <Award className=\"w-4 h-4 text-green-500\" />\r\n                )}\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">\r\n                <div>${quote.finalPrice.toLocaleString()} â€¢ {quote.avgReliability}% â€¢ {quote.maxLeadTime}d</div>\r\n                <div className=\"text-xs mt-1\">Score: {quote.score.toFixed(1)}/100</div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// PDF extraction utility (simplified for demo)\r\nconst extractTextFromPDF = async (file) => {\r\n  return new Promise((resolve) => {\r\n    const reader = new FileReader();\r\n    reader.onload = async (e) => {\r\n      // Simulate PDF processing\r\n      setTimeout(() => {\r\n        resolve(`EXTRACTED FROM PDF: ${file.name}\r\n        \r\nREQUEST FOR PROPOSAL - Custom Paint Project\r\nDeadline: ${new Date(Date.now() + 45 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}\r\n\r\nPROJECT REQUIREMENTS:\r\nBased on uploaded PDF: ${file.name}\r\n\r\nRequirement A: Exterior Painting (${Math.floor(Math.random() * 20000) + 25000} sq ft)\r\n- Finish Type: Weather-resistant Matt finish\r\n- Coverage: Minimum 130 sq ft per liter\r\n- Durability: 12+ years expected life\r\n\r\nRequirement B: Interior Painting (${Math.floor(Math.random() * 15000) + 15000} sq ft)\r\n- Finish Type: Silk finish preferred\r\n- Coverage: Minimum 110 sq ft per liter\r\n- Durability: 8+ years expected life\r\n- Note: Include primer and labor charges of $${Math.floor(Math.random() * 2000) + 3000}`);\r\n      }, 1500);\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}